### [1-COMPLETE REACT DEVELOPER IN 2023 - ZTM](/courses/react/1.md)

<details>
  <summary>1. Introduction </summary>

# Install NPM/Node

```jsbs
nvm install 18.15.0

$ nvm install 12
Now using node v12.22.6 (npm v6.14.5)
```

# Check NPM/Node Version

```jsbs
node -v
# v18.15.0

npm -v
# 9.5.0
```

# Select Node Version

```jsbs
$ nvm use 16
Now using node v16.9.1 (npm v7.21.1)
$ node -v
v16.9.1

$ nvm use 14
Now using node v14.18.0 (npm v6.14.15)
$ node -v
v14.18.0
```

# Install Yarn

```jsbs
brew install yarn
OR
curl -o- -L https://yarnpkg.com/install.sh | bash
```

# Check Yarn Version

```jsbs
yarn --version
1.22.19
```

# NPM vs YARN

```jsbs
# Install dependencies from package.json
npm install
yarn add

# Install a package and add to package.json
npm install {package} --save
yarn add {package}

# Install a devDependency to package.json
npm install {package} --save-dev
yarn add {package} --dev

# Remove a dependency from package.json
npm uninstall {package} --save
yarn remove {package}

# Upgrade a package to its latest version
npm update {package} --save
npm install {package}@latest
yarn upgrade {package} --latest

# Install a package globally
npm install {package} -g
yarn global add {package}
```

# npm vs npx

```jsbs
npm i -g cowsay
npm list -g cowsay
npm uninstall -g cowsay
```

# #End

</details>

<details>
  <summary>2. Install React App </summary>

# Install React App

![](https://github.com/omeatai/React-Tutorial/assets/32337103/9fba676f-48b6-4aa6-8ff2-b5cfc3b2a2e0)
![](https://github.com/omeatai/React-Tutorial/assets/32337103/fb1131b5-df71-42c9-a5d3-691aa68bf71a)

# Install monsters-rolodex App

```jsbs
npx create-react-app monsters-rolodex
OR
yarn create react-app monsters-rolodex
```

### monsters-rolodex/src/index.js:

```js
import React from "react";
import ReactDOM from "react-dom/client";
import "./index.css";
import App from "./App";
import reportWebVitals from "./reportWebVitals";

const root = ReactDOM.createRoot(document.getElementById("root"));
root.render(
  <React.StrictMode>
    <App />
  </React.StrictMode>
);

// If you want to start measuring performance in your app, pass a function
// to log results (for example: reportWebVitals(console.log))
// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals
reportWebVitals();
```

### monsters-rolodex/src/App.js:

```js
import "./App.css";

function App() {
  return (
    <div className="App">
      <header className="App-header">
        <h1>Hello World!</h1>
      </header>
    </div>
  );
}

export default App;
```

# run:

```jsbs
npm run start
yarn start
```

# #End

</details>

<details>
  <summary>3. Converting App.js to Class based Component</summary>

# Converting App.js to Class based Component

![](https://github.com/omeatai/React-Tutorial/assets/32337103/1fed1773-8da9-460f-9877-9714e69d3efb)
![](https://github.com/omeatai/React-Tutorial/assets/32337103/fb1131b5-df71-42c9-a5d3-691aa68bf71a)

### monsters-rolodex/src/App.js:

```js
import React, { Component } from "react";
import "./App.css";

class App extends Component {
  render() {
    return (
      <div className="App">
        <header className="App-header">
          <h1>Hello World!</h1>
        </header>
      </div>
    );
  }
}

export default App;
```

# #End

</details>

<details>
  <summary>4. Creating Class Component State </summary>

# Creating Class Component State

![](https://github.com/omeatai/React-Tutorial/assets/32337103/de980a61-5a4f-40d1-92c4-a96392cc2a6c)
![](https://github.com/omeatai/React-Tutorial/assets/32337103/d50d74f9-18f5-4c42-bb6a-6f3f99b66297)

### monsters-rolodex/src/App.js:

```js
import React, { Component } from "react";
import "./App.css";

class App extends Component {
  constructor() {
    super();
    this.state = {
      name: "Ifeanyi",
    };
  }

  render() {
    return (
      <div className="App">
        <header className="App-header">
          <h1>Hello World!</h1>
          <h3>Hi, my name is {this.state.name}</h3>
        </header>
      </div>
    );
  }
}

export default App;
```

# #End

</details>

<details>
  <summary>5. Using onClick Event with setState Function </summary>

# Using onClick Event with setState Function

![](https://github.com/omeatai/React-Tutorial/assets/32337103/23b6043a-f579-4b35-8f8a-7963031f593f)
![](https://github.com/omeatai/React-Tutorial/assets/32337103/8e9b2395-c8b4-4f21-8faa-3dfd5db0882e)

### monsters-rolodex/src/App.js:

```js
import React, { Component } from "react";
import "./App.css";

class App extends Component {
  constructor() {
    super();
    this.state = {
      name: { firstName: "Ifeanyi", lastName: "Omeata" },
      company: "STZ",
    };

    this.handleChange = this.handleChange.bind(this);
  }

  handleChange() {
    this.setState({
      name:
        this.state.name.firstName === "Ifeanyi"
          ? { firstName: "Mark", lastName: "Weber" }
          : { firstName: "Ifeanyi", lastName: "Omeata" },
    });
  }

  render() {
    return (
      <div className="App">
        <header className="App-header">
          <h1>Hello World!</h1>
          <h3>
            Hi, my name is {this.state.name.firstName}{" "}
            {this.state.name.lastName}. I work at {this.state.company}.
          </h3>
          <button onClick={this.handleChange}>Change Name</button>
        </header>
      </div>
    );
  }
}

export default App;
```

# #End

</details>

<details>
  <summary>6. Followup Callbacks within setState Functions </summary>

# Using Followup Callbacks within setState Functions

![](https://github.com/omeatai/React-Tutorial/assets/32337103/37ee159a-eb14-4781-ad7f-33490e5d63eb)
![](https://github.com/omeatai/React-Tutorial/assets/32337103/7aef4409-0646-4204-83d0-8c919f3400be)

### monsters-rolodex/src/App.js:

```js
import React, { Component } from "react";
import "./App.css";

class App extends Component {
  constructor() {
    super();
    this.state = {
      name: { firstName: "Ifeanyi", lastName: "Omeata" },
      company: "STZ",
    };

    this.handleChange = this.handleChange.bind(this);
  }

  handleChange() {
    this.setState(
      {
        name:
          this.state.name.firstName === "Ifeanyi"
            ? { firstName: "Mark", lastName: "Weber" }
            : { firstName: "Ifeanyi", lastName: "Omeata" },
      },
      () => {
        console.log(this.state);
      }
    );
  }

  render() {
    return (
      <div className="App">
        <header className="App-header">
          <h1>Hello World!</h1>
          <h3>
            Hi, my name is {this.state.name.firstName}
            {this.state.name.lastName}. I work at {this.state.company}.
          </h3>
          <button onClick={this.handleChange}>Change Name</button>
        </header>
      </div>
    );
  }
}

export default App;
```

# #End

</details>

<details>
  <summary>7. Mapping Arrays to Elements </summary>

# Displaying Contents from Array

![](https://github.com/omeatai/React-Tutorial/assets/32337103/58c054fa-9aa2-4551-9583-20efe98e3089)
![](https://github.com/omeatai/React-Tutorial/assets/32337103/d6fbf90f-38e6-4cd2-876e-4d399742d5e4)

### monsters-rolodex/src/App.js:

```js
import React, { Component } from "react";
import "./App.css";

class App extends Component {
  constructor() {
    super();
    this.state = {
      name: { firstName: "Ifeanyi", lastName: "Omeata" },
      company: "STZ",
      monsters: [
        { name: "Lindxa", id: "1" },
        { name: "Frankr", id: "2" },
        { name: "Jackoy", id: "3" },
        { name: "Adrwei", id: "4" },
      ],
    };

    this.handleChange = this.handleChange.bind(this);
  }

  handleChange() {
    this.setState(
      {
        name:
          this.state.name.firstName === "Ifeanyi"
            ? { firstName: "Mark", lastName: "Weber" }
            : { firstName: "Ifeanyi", lastName: "Omeata" },
      },
      () => {
        console.log(this.state);
      }
    );
  }

  render() {
    return (
      <div className="App">
        <header className="App-header">
          <h3>
            Hi, my name is {this.state.name.firstName}
            {this.state.name.lastName}. I work at {this.state.company}.
          </h3>
          <button onClick={this.handleChange}>Change Name</button>

          <h2>List of Monsters</h2>
          {this.state.monsters.map((monster) => {
            return (
              <p key={monster.id}>
                {monster.id}. {monster.name}
              </p>
            );
          })}
        </header>
      </div>
    );
  }
}

export default App;
```

# #End

</details>

<details>
  <summary>8. jsonplaceholder.typicode.com vs reqres.in </summary>

# 1. JSONplaceholder

### <https://jsonplaceholder.typicode.com/users>

```js
[
  {
    id: 1,
    name: "Leanne Graham",
    username: "Bret",
    email: "Sincere@april.biz",
    address: {
      street: "Kulas Light",
      suite: "Apt. 556",
      city: "Gwenborough",
      zipcode: "92998-3874",
      geo: {
        lat: "-37.3159",
        lng: "81.1496",
      },
    },
    phone: "1-770-736-8031 x56442",
    website: "hildegard.org",
    company: {
      name: "Romaguera-Crona",
      catchPhrase: "Multi-layered client-server neural-net",
      bs: "harness real-time e-markets",
    },
  },
  {
    id: 2,
    name: "Ervin Howell",
    username: "Antonette",
    email: "Shanna@melissa.tv",
    address: {
      street: "Victor Plains",
      suite: "Suite 879",
      city: "Wisokyburgh",
      zipcode: "90566-7771",
      geo: {
        lat: "-43.9509",
        lng: "-34.4618",
      },
    },
    phone: "010-692-6593 x09125",
    website: "anastasia.net",
    company: {
      name: "Deckow-Crist",
      catchPhrase: "Proactive didactic contingency",
      bs: "synergize scalable supply-chains",
    },
  },
  {
    id: 3,
    name: "Clementine Bauch",
    username: "Samantha",
    email: "Nathan@yesenia.net",
    address: {
      street: "Douglas Extension",
      suite: "Suite 847",
      city: "McKenziehaven",
      zipcode: "59590-4157",
      geo: {
        lat: "-68.6102",
        lng: "-47.0653",
      },
    },
    phone: "1-463-123-4447",
    website: "ramiro.info",
    company: {
      name: "Romaguera-Jacobson",
      catchPhrase: "Face to face bifurcated interface",
      bs: "e-enable strategic applications",
    },
  },
  {
    id: 4,
    name: "Patricia Lebsack",
    username: "Karianne",
    email: "Julianne.OConner@kory.org",
    address: {
      street: "Hoeger Mall",
      suite: "Apt. 692",
      city: "South Elvis",
      zipcode: "53919-4257",
      geo: {
        lat: "29.4572",
        lng: "-164.2990",
      },
    },
    phone: "493-170-9623 x156",
    website: "kale.biz",
    company: {
      name: "Robel-Corkery",
      catchPhrase: "Multi-tiered zero tolerance productivity",
      bs: "transition cutting-edge web services",
    },
  },
  {
    id: 5,
    name: "Chelsey Dietrich",
    username: "Kamren",
    email: "Lucio_Hettinger@annie.ca",
    address: {
      street: "Skiles Walks",
      suite: "Suite 351",
      city: "Roscoeview",
      zipcode: "33263",
      geo: {
        lat: "-31.8129",
        lng: "62.5342",
      },
    },
    phone: "(254)954-1289",
    website: "demarco.info",
    company: {
      name: "Keebler LLC",
      catchPhrase: "User-centric fault-tolerant solution",
      bs: "revolutionize end-to-end systems",
    },
  },
  {
    id: 6,
    name: "Mrs. Dennis Schulist",
    username: "Leopoldo_Corkery",
    email: "Karley_Dach@jasper.info",
    address: {
      street: "Norberto Crossing",
      suite: "Apt. 950",
      city: "South Christy",
      zipcode: "23505-1337",
      geo: {
        lat: "-71.4197",
        lng: "71.7478",
      },
    },
    phone: "1-477-935-8478 x6430",
    website: "ola.org",
    company: {
      name: "Considine-Lockman",
      catchPhrase: "Synchronised bottom-line interface",
      bs: "e-enable innovative applications",
    },
  },
  {
    id: 7,
    name: "Kurtis Weissnat",
    username: "Elwyn.Skiles",
    email: "Telly.Hoeger@billy.biz",
    address: {
      street: "Rex Trail",
      suite: "Suite 280",
      city: "Howemouth",
      zipcode: "58804-1099",
      geo: {
        lat: "24.8918",
        lng: "21.8984",
      },
    },
    phone: "210.067.6132",
    website: "elvis.io",
    company: {
      name: "Johns Group",
      catchPhrase: "Configurable multimedia task-force",
      bs: "generate enterprise e-tailers",
    },
  },
  {
    id: 8,
    name: "Nicholas Runolfsdottir V",
    username: "Maxime_Nienow",
    email: "Sherwood@rosamond.me",
    address: {
      street: "Ellsworth Summit",
      suite: "Suite 729",
      city: "Aliyaview",
      zipcode: "45169",
      geo: {
        lat: "-14.3990",
        lng: "-120.7677",
      },
    },
    phone: "586.493.6943 x140",
    website: "jacynthe.com",
    company: {
      name: "Abernathy Group",
      catchPhrase: "Implemented secondary concept",
      bs: "e-enable extensible e-tailers",
    },
  },
  {
    id: 9,
    name: "Glenna Reichert",
    username: "Delphine",
    email: "Chaim_McDermott@dana.io",
    address: {
      street: "Dayna Park",
      suite: "Suite 449",
      city: "Bartholomebury",
      zipcode: "76495-3109",
      geo: {
        lat: "24.6463",
        lng: "-168.8889",
      },
    },
    phone: "(775)976-6794 x41206",
    website: "conrad.com",
    company: {
      name: "Yost and Sons",
      catchPhrase: "Switchable contextually-based project",
      bs: "aggregate real-time technologies",
    },
  },
  {
    id: 10,
    name: "Clementina DuBuque",
    username: "Moriah.Stanton",
    email: "Rey.Padberg@karina.biz",
    address: {
      street: "Kattie Turnpike",
      suite: "Suite 198",
      city: "Lebsackbury",
      zipcode: "31428-2261",
      geo: {
        lat: "-38.2386",
        lng: "57.2232",
      },
    },
    phone: "024-648-3804",
    website: "ambrose.net",
    company: {
      name: "Hoeger LLC",
      catchPhrase: "Centralized empowering task-force",
      bs: "target end-to-end models",
    },
  },
];
```

# 2. Reqres

### <https://reqres.in/api/users>

```js
{
  "page": 1,
  "per_page": 6,
  "total": 12,
  "total_pages": 2,
  "data": [
    {
    "id": 1,
    "email": "george.bluth@reqres.in",
    "first_name": "George",
    "last_name": "Bluth",
    "avatar": "https://reqres.in/img/faces/1-image.jpg"
    },
    {
    "id": 2,
    "email": "janet.weaver@reqres.in",
    "first_name": "Janet",
    "last_name": "Weaver",
    "avatar": "https://reqres.in/img/faces/2-image.jpg"
    },
    {
    "id": 3,
    "email": "emma.wong@reqres.in",
    "first_name": "Emma",
    "last_name": "Wong",
    "avatar": "https://reqres.in/img/faces/3-image.jpg"
    },
    {
    "id": 4,
    "email": "eve.holt@reqres.in",
    "first_name": "Eve",
    "last_name": "Holt",
    "avatar": "https://reqres.in/img/faces/4-image.jpg"
    },
    {
    "id": 5,
    "email": "charles.morris@reqres.in",
    "first_name": "Charles",
    "last_name": "Morris",
    "avatar": "https://reqres.in/img/faces/5-image.jpg"
    },
    {
    "id": 6,
    "email": "tracey.ramos@reqres.in",
    "first_name": "Tracey",
    "last_name": "Ramos",
    "avatar": "https://reqres.in/img/faces/6-image.jpg"
    }
  ],
  "support": {
  "url": "https://reqres.in/#support-heading",
  "text": "To keep ReqRes free, contributions towards server costs are appreciated!"
  }
}
```

# #End

</details>

<details>
  <summary>9. Fetch Query from jsonplaceholder.typicode </summary>

# Examples of Fetch Query from jsonplaceholder.typicode

Example 1: Fetch

```js
fetch("https://jsonplaceholder.typicode.com/users");
```

Example 2: JSON

- The json method returns a promise that evaluates to the JSON data from our response.
- We can chain a second .then to get the data from the json method.

```js
fetch("https://jsonplaceholder.typicode.com/users").then((res) => {
  console.log(res.ok); // true
  console.log(res.status); // 200
  return res.json();
});
```

Example 3: Data

- We first fetch the URL, then we convert the response to JSON, and finally we use the data in the final .then.

```js
fetch("https://jsonplaceholder.typicode.com/users")
  .then((res) => res.json())
  .then((data) => console.log(data));
// [{ userOne }, { userTwo }, ...]
```

Example 4: Method

- Method option allows you to set which HTTP verb you want to use (GET, POST, PUT, DELETE, etc).

```js
fetch("https://jsonplaceholder.typicode.com/users/2", {
  method: "DELETE",
});
```

Example 5: Body

- The body does not accept objects so if you want to pass JSON to your API you must first convert it to a string.

```js
fetch("https://jsonplaceholder.typicode.com/users", {
  method: "POST",
  body: JSON.stringify({ name: "Kyle" }),
});
```

Example 6: Headers

- This headers option lets you set any HTTP header that you want.

```js
fetch("https://jsonplaceholder.typicode.com/users", {
  method: "POST",
  body: JSON.stringify({ name: "Kyle" }),
  headers: { "Content-Type": "application/json" },
});
```

Example 7: Mode

- The mode option allows you to specify if the request should be a cors, no-cors, or same-origin request.
- By default all fetch requests are setup as cors requests so you can access resources on other origins.
- If you want you can force the fetch to only allow same-origin requests which will throw an error if you try to fetch a URL that is not on the same origin.

```js
fetch("https://jsonplaceholder.typicode.com/users", {
  mode: "same-origin",
}).catch((e) => console.error(e));
```

Example 8: Credentials

- Another option that deals with cors is credentials.
- This options can either be omit, same-origin, or include and determines whether or not the fetch API passes along and receives cookies, and other credential based information.
- Omit will send/receive no credentials.
- Same-origin will only send/receive credentials from the same URL.
- Include will send/receive credentials from any URL.
- By default this is set to same-origin.

```js
fetch("https://jsonplaceholder.typicode.com/users", {
  credentials: "include",
});
```

Example 9: Signal

- Signal option takes in an AbortSignal which can be used to abort a fetch request.
- First you must create a new AbortController this controller has a signal property which is what you pass to the signal option.
- The controller also has an abort method that when called will abort the fetch request with the associated signal.
- This will cause the fetch promise to reject with an AbortError exception.

```js
const controller = new AbortController();

fetch("https://jsonplaceholder.typicode.com/users", {
  signal: controller.signal,
}).catch((e) => console.error(e.name)); // AbortError

controller.abort();
```

Example 10: For 400 and 500 Errors

- One thing that is confusing about the fetch API is that it will not throw an error if you get back a 404, 500, or any other error HTTP response.
- The only way you can determine if a request failed is to check the "ok" property of the response.
- If the response is ok then I just keep all my code the same as normal, otherwise I will return a rejected promise that contains the response so I can handle it in a .catch.
- You can also create a custom fetch function to take care of all the extra code to send JSON data and utilize all the custom options of fetch. - It will also handle throwing errors for things like 404s.

```js
fetch("https://jsonplaceholder.typicode.com/users/-1").then((res) => {
  console.log(res.ok); // false
  console.log(res.status); // 404
});
```

```js
fetch("https://jsonplaceholder.typicode.com/users/-1")
  .then((res) => {
    if (res.ok) return res.json();
    return Promise.reject(res);
  })
  .then((data) => console.log(data))
  .catch((res) => console.error(res.status)); // 404
```

```js
function jsonFetch(url, { body, headers, ...options } = {}) {
  return fetch(url, {
    headers: { "Content-Type": "application/json", ...headers }
    body: JSON.stringify(body)
    ...options
  })
  .then(res => {
    if (res.ok) return res.json()
    return Promise.reject(res)
  })
  .then(res => res.json())
}
```

# #End

</details>

<details>
  <summary>10. Fetching Data with Asynchronous Function </summary>

# Fetching Data with Asynchronous Function

![](https://github.com/omeatai/React-Tutorial/assets/32337103/32a5438f-88b0-4735-8782-3cb8bd812064)
![](https://github.com/omeatai/React-Tutorial/assets/32337103/78fed9d5-e2b0-429c-a6fa-a6f9df1af10e)
![](https://github.com/omeatai/React-Tutorial/assets/32337103/695eb98a-9c75-42d5-812c-b2120b8fc15b)
![](https://github.com/omeatai/React-Tutorial/assets/32337103/5dd16829-6394-43c2-a6e0-14c8dfb05f9e)

### monsters-rolodex/src/App.js:

```js
import React, { Component } from "react";
import "./App.css";

class App extends Component {
  constructor() {
    super();
    this.state = {
      people: [],
    };

    this.handleChange = this.handleChange.bind(this);
  }

  async handleChange() {
    const fetchResult = await fetch(
      "https://jsonplaceholder.typicode.com/users"
    )
      .then((res) => {
        if (res.ok) {
          return res.json();
        }
        return Promise.reject(res);
      })
      .then((data) => Promise.resolve(data))
      .catch((res) => console.error(res.status));

    this.setState({ people: fetchResult }, () => {
      console.log("State: ", this.state);
    });
  }

  render() {
    return (
      <div className="App">
        <header className="App-header">
          <h2>List of People</h2>
          {this.state.people.length > 0 ? (
            this.state.people.map((person) => {
              return (
                <p key={person.id}>
                  {person.id}. {person.name}
                </p>
              );
            })
          ) : (
            <div>
              <p>No Users Available</p>
              <button onClick={this.handleChange}>Get Users</button>
            </div>
          )}
        </header>
      </div>
    );
  }
}

export default App;
```

# #End

</details>

<details>
  <summary>11. Fetching Data with componentDidMount() </summary>

# Fetching Data with componentDidMount()

### monsters-rolodex/src/App.js:

```js
import React, { Component } from "react";
import "./App.css";

class App extends Component {
  constructor() {
    super();
    this.state = {
      people: [],
    };
  }

  componentDidMount() {
    const handleChange = async () => {
      const fetchResult = await fetch(
        "https://jsonplaceholder.typicode.com/users"
      )
        .then((res) => {
          if (res.ok) {
            return res.json();
          }
          return Promise.reject(res);
        })
        .then((data) => Promise.resolve(data))
        .catch((res) => console.error(res.status));

      this.setState({ people: fetchResult }, () => {
        console.log("State: ", this.state);
      });
    };

    handleChange();
  }

  render() {
    return (
      <div className="App">
        <header className="App-header">
          <h2>List of People</h2>
          {this.state.people ? null : (
            <div>
              <p
                style={{ color: "red", fontSize: "42px", fontWeight: "bolder" }}
              >
                Error Fetching Data....
              </p>
            </div>
          )}
          {!this.state.people ? null : this.state.people.length > 0 ? (
            this.state.people.map((person) => {
              return (
                <p key={person.id}>
                  {person.id}. {person.name}
                </p>
              );
            })
          ) : (
            <div>
              <p>No Users Available</p>
            </div>
          )}
        </header>
      </div>
    );
  }
}

export default App;
```

![](https://github.com/omeatai/React-Tutorial/assets/32337103/1290755c-555e-43e8-b4d8-ce75f320a72b)
![](https://github.com/omeatai/React-Tutorial/assets/32337103/068e21e1-5326-430c-b3ef-ab48f1922abb)

# Not Passing the Fetch Function

```js
componentDidMount() {
    const handleChange = async () => {
      const fetchResult = await fetch(
        "https://jsonplaceholder.typicode.com/users"
      )
        .then((res) => {
          if (res.ok) {
            return res.json();
          }
          return Promise.reject(res);
        })
        .then((data) => Promise.resolve(data))
        .catch((res) => console.error(res.status));

      this.setState({ people: fetchResult }, () => {
        console.log("State: ", this.state);
      });
    };

    // handleChange();
  }
```

![](https://github.com/omeatai/React-Tutorial/assets/32337103/f8ec9d1f-597a-4a93-8400-6e505f095ac8)

# Using Wrong URL

```jsbs
const fetchResult = await fetch("https://jsonplaceholder.typicode.com/usersdfaaefadsfasfasdfasdfadfa")
```

![](https://github.com/omeatai/React-Tutorial/assets/32337103/6581da52-b279-42f4-9695-77188d4494f8)

# #End

</details>

<details>
  <summary>12. Sorting Users data with search Query </summary>

# Sorting Users data with search Query

![](https://github.com/omeatai/React-Tutorial/assets/32337103/77dbe601-5434-41e4-9b17-0b2a9582eae4)
![](https://github.com/omeatai/React-Tutorial/assets/32337103/8f1367d2-cf18-43d0-bf2b-8eb5f4a931e4)

### monsters-rolodex/src/App.js:

```js
import React, { Component } from "react";
import "./App.css";

class App extends Component {
  constructor() {
    super();
    this.state = {
      people: [],
      search: "",
    };
  }

  async componentDidMount() {
    const fetchResult = await fetch(
      "https://jsonplaceholder.typicode.com/users"
    )
      .then((res) => {
        if (res.ok) {
          return res.json();
        }
        return Promise.reject(res);
      })
      .then((data) => Promise.resolve(data))
      .catch((res) => console.error(res.status));

    this.setState({ people: fetchResult }, () => {
      console.log("State: ", this.state);
    });
  }

  handleSearch(e) {
    const searchValue = e.target.value.toLowerCase();
    this.setState({ search: searchValue }, () => {
      console.log("Search: ", this.state.search);
    });
  }

  filterSearch() {
    const searchValue = this.state.search;
    const { people } = this.state;
    return people.filter((person) => {
      return person.name.toLowerCase().includes(searchValue);
    });
  }

  render() {
    const searchResult = this.filterSearch();
    return (
      <div className="App">
        <header className="App-header">
          <h2>List of People</h2>
          <input
            type="search"
            className="app--input"
            placeholder="Search..."
            value={this.state.search}
            onChange={(e) => this.handleSearch(e)}
          />
          {searchResult ? null : (
            <div>
              <p
                style={{ color: "red", fontSize: "42px", fontWeight: "bolder" }}
              >
                Error Fetching Data....
              </p>
            </div>
          )}
          {!searchResult ? null : searchResult.length > 0 ? (
            searchResult.map((person) => {
              return (
                <p key={person.id}>
                  {person.id}. {person.name}
                </p>
              );
            })
          ) : (
            <div>
              <p>No Users Available</p>
            </div>
          )}
        </header>
      </div>
    );
  }
}

export default App;
```

### monsters-rolodex/src/App.css:

```css
.App {
  text-align: center;
}

.App-logo {
  height: 40vmin;
  pointer-events: none;
}

@media (prefers-reduced-motion: no-preference) {
  .App-logo {
    animation: App-logo-spin infinite 20s linear;
  }
}

.App-header {
  background-color: #282c34;
  min-height: 100vh;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  font-size: calc(10px + 2vmin);
  color: white;
}

.App-link {
  color: #61dafb;
}

@keyframes App-logo-spin {
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
}

.app--input {
  font-size: 2rem;
  width: 60vw;
  max-width: 720px;
  padding: 15px 60px;
  border: none;
  border-radius: 50px;
  outline: none;
  margin: 10px 0;
}
```

# #End

</details>

+MONSTERS-ROLODEX PROJECT

<details>
  <summary>13. Setup CardList Component </summary>

# Setup CardList Component

![](https://github.com/omeatai/React-Tutorial/assets/32337103/1c2f5fbd-6035-449c-ac67-f11d1f6c9a7f)
![](https://github.com/omeatai/React-Tutorial/assets/32337103/727f38f5-7f85-4974-9875-6748adc9f9a4)

### monsters-rolodex/src/App.js:

```js
import React, { Component } from "react";
import "./App.css";
import CardList from "./components/CardList/CardList";

class App extends Component {
  constructor() {
    super();
    this.state = {
      people: [],
      search: "",
    };
  }

  async componentDidMount() {
    const fetchResult = await fetch(
      "https://jsonplaceholder.typicode.com/users"
    )
      .then((res) => {
        if (res.ok) {
          return res.json();
        }
        return Promise.reject(res);
      })
      .then((data) => Promise.resolve(data))
      .catch((res) => console.error(res.status));

    this.setState({ people: fetchResult }, () => {
      console.log("State: ", this.state);
    });
  }

  handleSearch(e) {
    const searchValue = e.target.value.toLowerCase();
    this.setState({ search: searchValue }, () => {
      console.log("Search: ", this.state.search);
    });
  }

  filterSearch() {
    const searchValue = this.state.search;
    const { people } = this.state;
    return people.filter((person) => {
      return person.name.toLowerCase().includes(searchValue);
    });
  }

  render() {
    const searchResult = this.filterSearch();
    return (
      <div className="App">
        <header className="App-header">
          <h2>List of People</h2>
          <input
            type="search"
            className="app--input"
            placeholder="Search..."
            value={this.state.search}
            onChange={(e) => this.handleSearch(e)}
          />
          <CardList />
          {searchResult ? null : (
            <div>
              <p
                style={{ color: "red", fontSize: "42px", fontWeight: "bolder" }}
              >
                Error Fetching Data....
              </p>
            </div>
          )}
          {!searchResult ? null : searchResult.length > 0 ? (
            searchResult.map((person) => {
              return (
                <p key={person.id}>
                  {person.id}. {person.name}
                </p>
              );
            })
          ) : (
            <div>
              <p>No Users Available</p>
            </div>
          )}
        </header>
      </div>
    );
  }
}

export default App;
```

### monsters-rolodex/src/components/CardList/CardList.jsx:

```js
import React from "react";

const CardList = () => {
  return (
    <section>
      <h1 style={{ color: "red" }}>This is the CardList Section</h1>
    </section>
  );
};

export default CardList;
```

# #End

</details>

<details>
  <summary>14. Passing Props to CardList Component </summary>

# Passing Props to CardList Component

![](https://github.com/omeatai/React-Tutorial/assets/32337103/e009b154-6aad-4fc5-ab9b-611a271b8d41)
![](https://github.com/omeatai/React-Tutorial/assets/32337103/be776655-e749-4ac9-af0b-8fd72497afff)

### monsters-rolodex/src/App.js:

```js
import React, { Component } from "react";
import "./App.css";
import CardList from "./components/CardList/CardList";

class App extends Component {
  constructor() {
    super();
    this.state = {
      people: [],
      search: "",
    };
  }

  async componentDidMount() {
    const fetchResult = await fetch(
      "https://jsonplaceholder.typicode.com/users"
    )
      .then((res) => {
        if (res.ok) {
          return res.json();
        }
        return Promise.reject(res);
      })
      .then((data) => Promise.resolve(data))
      .catch((res) => console.error(res.status));

    this.setState({ people: fetchResult }, () => {
      console.log("State: ", this.state);
    });
  }

  handleSearch(e) {
    const searchValue = e.target.value.toLowerCase();
    this.setState({ search: searchValue }, () => {
      console.log("Search: ", this.state.search);
    });
  }

  filterSearch() {
    const searchValue = this.state.search;
    const { people } = this.state;
    return people.filter((person) => {
      return person.name.toLowerCase().includes(searchValue);
    });
  }

  render() {
    const searchResult = this.filterSearch();
    return (
      <div className="App">
        <header className="App-header">
          <h2>List of People</h2>
          <input
            type="search"
            className="app--input"
            placeholder="Search..."
            value={this.state.search}
            onChange={(e) => this.handleSearch(e)}
          />
          <CardList searchResult={searchResult} />
        </header>
      </div>
    );
  }
}

export default App;
```

### monsters-rolodex/src/components/CardList/CardList.jsx:

```js
import React from "react";

const CardList = ({ searchResult }) => {
  return (
    <section>
      {searchResult ? null : (
        <div>
          <p style={{ color: "red", fontSize: "42px", fontWeight: "bolder" }}>
            Error Fetching Data....
          </p>
        </div>
      )}
      {!searchResult ? null : searchResult.length > 0 ? (
        searchResult.map((person) => {
          return (
            <p key={person.id}>
              {person.id}. {person.name}
            </p>
          );
        })
      ) : (
        <div>
          <p>No Users Available</p>
        </div>
      )}
    </section>
  );
};

export default CardList;
```

# #End

</details>

<details>
  <summary>15. Passing Props to SearchBox Component </summary>

# Passing Props to SearchBox Component

![](https://github.com/omeatai/React-Tutorial/assets/32337103/673337d7-6965-4250-9955-6918ab5035f6)
![](https://github.com/omeatai/React-Tutorial/assets/32337103/23a99367-fed7-4671-a52d-d37f1b7390e5)

### monsters-rolodex/src/App.js:

```js
import React, { Component } from "react";
import "./App.css";
import CardList from "./components/CardList/CardList";
import SearchBox from "./components/SearchBox/SearchBox";

class App extends Component {
  constructor() {
    super();
    this.state = {
      people: [],
      search: "",
    };
  }

  async componentDidMount() {
    const fetchResult = await fetch(
      "https://jsonplaceholder.typicode.com/users"
    )
      .then((res) => {
        if (res.ok) {
          return res.json();
        }
        return Promise.reject(res);
      })
      .then((data) => Promise.resolve(data))
      .catch((res) => console.error(res.status));

    this.setState({ people: fetchResult }, () => {
      console.log("State: ", this.state);
    });
  }

  handleSearch(e) {
    const searchValue = e.target.value.toLowerCase();
    this.setState({ search: searchValue }, () => {
      console.log("Search: ", this.state.search);
    });
  }

  filterSearch() {
    const searchValue = this.state.search;
    const { people } = this.state;
    return people.filter((person) => {
      return person.name.toLowerCase().includes(searchValue);
    });
  }

  render() {
    const searchResult = this.filterSearch();
    return (
      <div className="App">
        <header className="App-header">
          <h2>List of People</h2>
          <SearchBox
            type={"search"}
            className={"app--input"}
            placeholder={"Search..."}
            value={this.state.search}
            handleSearch={(e) => this.handleSearch(e)}
          />
          <CardList searchResult={searchResult} />
        </header>
      </div>
    );
  }
}

export default App;
```

### monsters-rolodex/src/components/SearchBox/SearchBox.jsx:

```js
import React from "react";

const SearchBox = ({ type, className, placeholder, value, handleSearch }) => {
  return (
    <section>
      <input
        type={type}
        className={className}
        placeholder={placeholder}
        value={value}
        onChange={handleSearch}
      />
    </section>
  );
};

export default SearchBox;
```

# #End

</details>

<details>
  <summary>16. Styling of App and SearchBox Component </summary>

# Styling of App and SearchBox Component

![](https://github.com/omeatai/React-Tutorial/assets/32337103/d278faff-d8aa-4a51-b630-9bc1f4e06ab0)
![](https://github.com/omeatai/React-Tutorial/assets/32337103/5216bb87-cc38-4619-a6e0-d1fcb46dd6ec)

### monsters-rolodex/src/App.js:

```js
import React, { Component } from "react";
import "./App.css";
import CardList from "./components/CardList/CardList";
import SearchBox from "./components/SearchBox/SearchBox";

class App extends Component {
  constructor() {
    super();
    this.state = {
      people: [],
      search: "",
    };
  }

  async componentDidMount() {
    const fetchResult = await fetch(
      "https://jsonplaceholder.typicode.com/users"
    )
      .then((res) => {
        if (res.ok) {
          return res.json();
        }
        return Promise.reject(res);
      })
      .then((data) => Promise.resolve(data))
      .catch((res) => console.error(res.status));

    this.setState({ people: fetchResult }, () => {
      console.log("State: ", this.state);
    });
  }

  handleSearch(e) {
    const searchValue = e.target.value.toLowerCase();
    this.setState({ search: searchValue }, () => {
      console.log("Search: ", this.state.search);
    });
  }

  filterSearch() {
    const searchValue = this.state.search;
    const { people } = this.state;
    return people.filter((person) => {
      return person.name.toLowerCase().includes(searchValue);
    });
  }

  render() {
    const searchResult = this.filterSearch();
    return (
      <div className="App">
        <header className="App-header">
          <h2>List of People</h2>
          <SearchBox
            type={"search"}
            className={"app--input"}
            placeholder={"Search..."}
            value={this.state.search}
            handleSearch={(e) => this.handleSearch(e)}
          />
          <CardList searchResult={searchResult} />
        </header>
      </div>
    );
  }
}

export default App;
```

### monsters-rolodex/src/App.css:

```css
.App {
  text-align: center;
}

.App-header {
  /* background-color: #282c34; */
  background: rgb(2, 0, 36);
  background: linear-gradient(
    331deg,
    rgba(2, 0, 36, 1) 26%,
    rgba(9, 9, 121, 1) 72%,
    rgba(255, 0, 0, 1) 100%,
    rgba(0, 212, 255, 1) 100%
  );
  min-height: 100vh;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  font-size: calc(10px + 2vmin);
  color: white;
}
```

### monsters-rolodex/src/components/SearchBox/SearchBox.jsx:

```js
import React from "react";
import "./SearchBox.css";

const SearchBox = ({ type, className, placeholder, value, handleSearch }) => {
  return (
    <section>
      <input
        type={type}
        className={className}
        placeholder={placeholder}
        value={value}
        onChange={handleSearch}
      />
    </section>
  );
};

export default SearchBox;
```

### monsters-rolodex/src/components/SearchBox/SearchBox.css:

```css
.app--input {
  font-size: 2rem;
  width: 60vw;
  max-width: 720px;
  padding: 15px 60px;
  margin: 10px;
  border: none;
  outline: none;
  border-radius: 50px;
  line-height: 30px;
}
```

# #End

</details>

<details>
  <summary>17. Styling of CardList Component </summary>

# Styling of CardList Component

![](https://github.com/omeatai/React-Tutorial/assets/32337103/a61806ec-229b-4f39-831f-aa633513b3c8)
![](https://github.com/omeatai/React-Tutorial/assets/32337103/dbb8674e-dbb1-4b09-88c0-2c3e87408413)
![](https://github.com/omeatai/React-Tutorial/assets/32337103/370aae05-c923-463b-84b7-44f646ca6cbd)

### monsters-rolodex/src/App.js:

```js
import React, { Component } from "react";
import "./App.css";
import CardList from "./components/CardList/CardList";
import SearchBox from "./components/SearchBox/SearchBox";

class App extends Component {
  constructor() {
    super();
    this.state = {
      people: [],
      search: "",
    };
  }

  async componentDidMount() {
    const fetchResult = await fetch(
      "https://jsonplaceholder.typicode.com/users"
    )
      .then((res) => {
        if (res.ok) {
          return res.json();
        }
        return Promise.reject(res);
      })
      .then((data) => Promise.resolve(data))
      .catch((res) => console.error(res.status));

    this.setState({ people: fetchResult }, () => {
      console.log("State: ", this.state);
    });
  }

  handleSearch(e) {
    const searchValue = e.target.value.toLowerCase();
    this.setState({ search: searchValue }, () => {
      console.log("Search: ", this.state.search);
    });
  }

  filterSearch() {
    const searchValue = this.state.search;
    const { people } = this.state;
    return people.filter((person) => {
      return person.name.toLowerCase().includes(searchValue);
    });
  }

  render() {
    const searchResult = this.filterSearch();
    return (
      <div className="App">
        <header className="App-header">
          <h1 className="app-title">Monsters Rolodex</h1>
          <SearchBox
            type={"search"}
            className={"app--input"}
            placeholder={"Search..."}
            value={this.state.search}
            handleSearch={(e) => this.handleSearch(e)}
          />
          <CardList searchResult={searchResult} />
        </header>
      </div>
    );
  }
}

export default App;
```

### monsters-rolodex/src/App.css:

```css
.App {
  text-align: center;
}

.App-header {
  /* background-color: #282c34; */
  background: rgb(2, 0, 36);
  background: linear-gradient(
    331deg,
    rgba(2, 0, 36, 1) 26%,
    rgba(9, 9, 121, 1) 72%,
    rgba(255, 0, 0, 1) 100%,
    rgba(0, 212, 255, 1) 100%
  );
  min-height: 100vh;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  font-size: calc(10px + 2vmin);
  color: white;
}

.app-title {
  margin-top: 50px;
  margin-bottom: 50px;
  font-size: 76px;
  color: #0ccac4;
  font-family: "Bigelow Rules", cursive;
}
```

### monsters-rolodex/src/components/CardList/CardList.jsx:

```js
import React from "react";
import "./CardList.css";

const CardList = ({ searchResult }) => {
  return (
    <section className="card-list">
      {searchResult ? null : (
        <div>
          <p style={{ color: "red", fontSize: "42px", fontWeight: "bolder" }}>
            Error Fetching Data....
          </p>
        </div>
      )}
      {!searchResult ? null : searchResult.length > 0 ? (
        searchResult.map((person) => {
          const { id, name, email } = person;
          return (
            <section className="card-container" key={id}>
              <img
                src={`https://robohash.org/${id}?set=set2&size=180x180`}
                alt={`monster ${name}`}
              ></img>
              <h2>{name}</h2>
              <p>{email}</p>
            </section>
          );
        })
      ) : (
        <div>
          <p>No Users Available</p>
        </div>
      )}
    </section>
  );
};

export default CardList;
```

### monsters-rolodex/src/components/CardList/CardList.css:

```css
.card-list {
  width: 85vw;
  display: grid;
  place-content: center;
  grid-gap: 20px;
  grid-template-columns: repeat(auto-fill, 420px);
  margin: 20px;
}

.card-container {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  background-color: #222;
  border: 1px solid #fff;
  border-radius: 5px;
  padding: 50px 100px;
  cursor: pointer;
  -moz-osx-font-smoothing: grayscale;
  backface-visibility: hidden;
  transform: translateZ(0);
  transition: transform 0.25s ease-out;
  max-width: 300px;
}

.card-container:hover {
  transform: scale(1.05);
}
```

# #End

</details>

<details>
  <summary>18. Function Components </summary>

# Function Components

![](https://user-images.githubusercontent.com/32337103/231368509-e106bbbb-e45e-480b-b4ee-478a3678b81b.png)

# React Lifecycle Methods

- componentDidMount()
- componentDidUpdate()
- componentWillUnmount()

# Function App component

### monsters-rolodex/src/App.js:

```js
import { Component } from "react";
import logo from "./logo.svg";
import "./App.css";
import CardList from "./components/cardList/CardList";
import SearchBox from "./components/searchBox/SearchBox";

const App = () => {
  return (
    <div>
      <h1>This is the Function App Component</h1>
    </div>
  );
};

export default App;
```

# #End

</details>

<details>
  <summary>19. App Function Component with useState Hooks </summary>

# App Function Component with useState Hooks

![](https://github.com/omeatai/React-Tutorial/assets/32337103/db4fe46c-1e65-4891-94c7-7a4b707eaf58)
![](https://github.com/omeatai/React-Tutorial/assets/32337103/d41ece2a-8dac-4a31-971c-121fff6ea5f1)

### monsters-rolodex/src/App.js:

```js
import React, { useState } from "react";
import "./App.css";
import CardList from "./components/CardList/CardList";
import SearchBox from "./components/SearchBox/SearchBox";

const App = () => {
  const [people, setPeople] = useState([]);
  const [search, setSearch] = useState("");

  const getPeople = async () => {
    const fetchResult = await fetch(
      "https://jsonplaceholder.typicode.com/users"
    )
      .then((res) => {
        if (res.ok) {
          return res.json();
        }
        return Promise.reject(res);
      })
      .then((data) => Promise.resolve(data))
      .catch((res) => console.error(res.status));

    setPeople(fetchResult);
  };

  getPeople();

  const handleSearch = (e) => {
    const searchValue = e.target.value.toLowerCase();
    setSearch(searchValue);
  };

  const filterSearch = () => {
    return people.filter((person) => {
      return person.name.toLowerCase().includes(search);
    });
  };

  const searchResult = filterSearch();
  return (
    <div className="App">
      <header className="App-header">
        <h1 className="app-title">Monsters Rolodex</h1>
        <SearchBox
          type={"search"}
          className={"app--input"}
          placeholder={"Search..."}
          value={search}
          handleSearch={(e) => handleSearch(e)}
        />
        <CardList searchResult={searchResult} />
      </header>
    </div>
  );
};

export default App;
```

### monsters-rolodex/src/components/SearchBox/SearchBox.jsx:

```js
import React from "react";
import "./SearchBox.css";

const SearchBox = ({ type, className, placeholder, value, handleSearch }) => {
  return (
    <section>
      <input
        type={type}
        className={className}
        placeholder={placeholder}
        value={value}
        onChange={handleSearch}
      />
    </section>
  );
};

export default SearchBox;
```

### monsters-rolodex/src/components/CardList/CardList.jsx:

```js
import React from "react";
import "./CardList.css";

const CardList = ({ searchResult }) => {
  return (
    <section className="card-list">
      {searchResult ? null : (
        <div>
          <p style={{ color: "red", fontSize: "42px", fontWeight: "bolder" }}>
            Error Fetching Data....
          </p>
        </div>
      )}
      {!searchResult ? null : searchResult.length > 0 ? (
        searchResult.map((person) => {
          const { id, name, email } = person;
          return (
            <section className="card-container" key={id}>
              <img
                src={`https://robohash.org/${id}?set=set2&size=180x180`}
                alt={`monster ${name}`}
              ></img>
              <h2>{name}</h2>
              <p>{email}</p>
            </section>
          );
        })
      ) : (
        <div>
          <p>No Users Available</p>
        </div>
      )}
    </section>
  );
};

export default CardList;
```

# #End

</details>

<details>
  <summary>20. App Function Component with useEffect Hook </summary>

# App Function Component with useEffect Hook

![](https://github.com/omeatai/React-Tutorial/assets/32337103/a57b2a2c-f7df-431c-a9dc-7d1cbdc6fac9)
![](https://github.com/omeatai/React-Tutorial/assets/32337103/0b2e4bc3-cae8-4ab5-ae66-b20b141c4911)

### monsters-rolodex/src/App.js:

```js
import React, { useState, useEffect } from "react";
import "./App.css";
import CardList from "./components/CardList/CardList";
import SearchBox from "./components/SearchBox/SearchBox";

const App = () => {
  const [people, setPeople] = useState([]);
  const [search, setSearch] = useState("");
  const [searchResult, setSearchResult] = useState("");

  useEffect(() => {
    const getPeople = async () => {
      const fetchResult = await fetch(
        "https://jsonplaceholder.typicode.com/users"
      )
        .then((res) => {
          if (res.ok) {
            return res.json();
          }
          return Promise.reject(res);
        })
        .then((data) => Promise.resolve(data))
        .catch((res) => console.error(res.status));

      setPeople(fetchResult);
    };

    getPeople();
  }, []);

  useEffect(() => {
    const result = people?.filter((person) => {
      return person.name.toLowerCase().includes(search);
    });
    setSearchResult(result);
  }, [search, people]);

  const handleSearch = (e) => {
    const searchValue = e.target.value.toLowerCase();
    setSearch(searchValue);
  };

  return (
    <div className="App">
      <header className="App-header">
        <h1 className="app-title">Monsters Rolodex</h1>
        <SearchBox
          type={"search"}
          className={"app--input"}
          placeholder={"Search..."}
          value={search}
          handleSearch={(e) => handleSearch(e)}
        />
        <CardList searchResult={searchResult} />
      </header>
    </div>
  );
};

export default App;
```

# #End

</details>

+CROWN CLOTHING PROJECT

<details>
  <summary>21. Understanding React DOM </summary>

# Upgrading React DOM

```jsbs
yarn install
yarn upgrade react react-dom --latest
```

# React 18 Create Root Function

### monsters-rolodex/src/index.js:

```js
import React from "react";
import ReactDOM from "react-dom/client";
import "./index.css";
import App from "./App";
import reportWebVitals from "./reportWebVitals";

const root = ReactDOM.createRoot(document.getElementById("root"));
root.render(
  <React.StrictMode>
    <App />
  </React.StrictMode>
);

// If you want to start measuring performance in your app, pass a function
// to log results (for example: reportWebVitals(console.log))
// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals
reportWebVitals();
```

# Setting React and ReactDOM from scratch

scratch/index.html:

```html
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <div id="root">React is NOT rendered</div>
    <script src="https://unpkg.com/react@18.0.0-rc.0/umd/react.development.js"></script>
    <script src="https://unpkg.com/react-dom@18.0.0-rc.0/umd/react-dom.development.js"></script>
    <script>
      const App = () => {
        return React.createElement("div", {}, [
          React.createElement(
            "h1",
            { className: "title" },
            "React IS rendered"
          ),
        ]);
      };

      const root = ReactDOM.createRoot(document.getElementById("root"));
      root.render(React.createElement(App));
    </script>
  </body>
</html>
```

![](https://user-images.githubusercontent.com/32337103/231448120-3b9f71b1-082d-4e30-b1c6-56a12467af76.png)

# Setting React and ReactDOM from scratch 2

scratch/index.html:

```html
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <div id="root">React is NOT rendered</div>
    <script src="https://unpkg.com/react@18.0.0-rc.0/umd/react.development.js"></script>
    <script src="https://unpkg.com/react-dom@18.0.0-rc.0/umd/react-dom.development.js"></script>
    <script>
      const Person = (props) => {
        return React.createElement("div", {}, [
          React.createElement("h1", {}, props.name),
          React.createElement("p", {}, props.occupation),
        ]);
      };
      const App = () => {
        return React.createElement("div", {}, [
          React.createElement(
            "h1",
            { className: "title" },
            "React IS rendered"
          ),
          React.createElement(
            Person,
            { name: "Yihua", occupation: "instructor" },
            null
          ),
          React.createElement(
            Person,
            { name: "Andrei", occupation: "Lead instructor" },
            null
          ),
          React.createElement(
            Person,
            { name: "Emily", occupation: "Teacher" },
            null
          ),
        ]);
      };

      const root = ReactDOM.createRoot(document.getElementById("root"));
      root.render(React.createElement(App));
    </script>
  </body>
</html>
```

![](https://user-images.githubusercontent.com/32337103/231457767-58de0ff0-25a5-4db7-919c-8447b7db1f4f.png)

# Setting React and ReactDOM from scratch 3

scratch/index.html:

```html
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <div id="root">React is NOT rendered</div>
    <script src="https://unpkg.com/react@18.0.0-rc.0/umd/react.development.js"></script>
    <script src="https://unpkg.com/react-dom@18.0.0-rc.0/umd/react-dom.development.js"></script>
    <script src="./app.js"></script>
  </body>
</html>
```

scratch/app.js:

```js
const Person = (props) => {
  return React.createElement("div", {}, [
    React.createElement("h1", {}, props.name),
    React.createElement("p", {}, props.occupation),
  ]);
};

const App = () => {
  return React.createElement("div", {}, [
    React.createElement("h1", { className: "title" }, "React IS rendered"),
    React.createElement(
      Person,
      { name: "Yihua", occupation: "instructor" },
      null
    ),
    React.createElement(
      Person,
      { name: "Andrei", occupation: "Lead instructor" },
      null
    ),
    React.createElement(Person, { name: "Emily", occupation: "Teacher" }, null),
  ]);
};

const root = ReactDOM.createRoot(document.getElementById("root"));
root.render(React.createElement(App));
```

![](https://user-images.githubusercontent.com/32337103/231500467-40e5411e-166d-4ce8-9608-3956000ab295.png)

# #End

</details>

<details>
  <summary>22. Capstone - Github Shortcuts </summary>

# Clone Repository

```jsbs
git clone https://github.com/omeatai/crwn-clothing-v2.git
```

# List all existing branches

```jsbs
git branch -a
```

# List current branch

```jsbs
git branch
git branch --show-current
```

# Go to specific branch

```jsbs
git checkout lesson-1
```

# Create a new branch from an existing branch

```jsbs
git checkout -b mymain
```

# Push commits to remote branch

```jsbs
git add .
git commit -m "first commit"
git branch -M main
git push -u origin main
```

# #End

</details>

<details>
  <summary>23. Capstone - Start App </summary>

# Create App

```jsbs
npx create-react-app crwn-clothing
OR
yarn create react-app crwn-clothing
```

```jsbs
npm run start
yarn start
```

### crwn-clothing/src/index.js:

```js
import React from "react";
import ReactDOM from "react-dom/client";
import "./index.css";
import App from "./App";
import reportWebVitals from "./reportWebVitals";

const root = ReactDOM.createRoot(document.getElementById("root"));
root.render(
  <React.StrictMode>
    <App />
  </React.StrictMode>
);

// If you want to start measuring performance in your app, pass a function
// to log results (for example: reportWebVitals(console.log))
// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals
reportWebVitals();
```

### crwn-clothing/src/App.js:

```js
const App = () => {
  return (
    <div>
      <h1>Hello World</h1>
    </div>
  );
};

export default App;
```

![](https://user-images.githubusercontent.com/32337103/231549973-ada16083-d5c1-494a-902b-1b9ad0a29447.png)

# #End

</details>

<details>
  <summary>24. Capstone - Setup App.js </summary>

# Create App Component Items

![](https://user-images.githubusercontent.com/32337103/231555347-22b24542-46a1-4e67-9bf7-36d9c4ec525f.png)

### crwn-clothing/src/App.js:

```js
const App = () => {
  const categories = [
    {
      id: 1,
      title: "Hats",
    },
    {
      id: 2,
      title: "Jackets",
    },
    {
      id: 3,
      title: "Sneakers",
    },
    {
      id: 4,
      title: "Womens",
    },
    {
      id: 5,
      title: "Mens",
    },
  ];

  return (
    <div className="categories-container">
      {categories.map(({ title, id }) => (
        <div className="category-container">
          {/* <img /> */}
          <div className="category-body-container">
            <h2>{title}</h2>
            <p>Shop Now</p>
          </div>
        </div>
      ))}
    </div>
  );
};

export default App;
```

# #End

</details>

<details>
  <summary>25. Adding Sass styling to App Component </summary>

# Adding Sass styling to App Component

![](https://github.com/omeatai/React-Tutorial/assets/32337103/326e6692-240b-4aba-ac7e-dc77b40faee2)
![](https://github.com/omeatai/React-Tutorial/assets/32337103/db5f4e57-7511-4caa-bc11-c741cb248c12)

# Install and configure Sass

```jsbs
yarn add sass
npm install -g sass
```

### crwn-clothing/src/App.js:

```js
import "./App.scss";

function App() {
  const categories = [
    {
      id: 1,
      title: "Hats",
    },
    {
      id: 2,
      title: "Jackets",
    },
    {
      id: 3,
      title: "Sneakers",
    },
    {
      id: 4,
      title: "Womens",
    },
    {
      id: 5,
      title: "Mens",
    },
  ];

  return (
    <div className="categories-container">
      {categories.map(({ title, id }) => (
        <div className="category-container">
          <div className="category-body-container">
            <h2>{title}</h2>
            <p>Shop Now</p>
          </div>
        </div>
      ))}
    </div>
  );
}

export default App;
```

### crwn-clothing/src/App.scss:

```css
.categories-container {
  width: 100%;
  display: flex;
  flex-wrap: wrap;
  justify-content: space-between;
}

.category-container {
  min-width: 30%;
  height: 240px;
  flex: 1 1 auto;
  display: flex;
  align-items: center;
  justify-content: center;
  border: 1px solid black;
  margin: 0 7.5px 15px;
  overflow: hidden;

  &:hover {
    cursor: pointer;

    & .background-image {
      transform: scale(1.1);
      transition: transform 6s cubic-bezier(0.25, 0.45, 0.45, 0.95);
    }

    & .category-body-container {
      opacity: 0.9;
    }
  }

  &.large {
    height: 380px;
  }

  &:first-child {
    margin-right: 7.5px;
  }

  &:last-child {
    margin-left: 7.5px;
  }

  .background-image {
    width: 100%;
    height: 100%;
    background-size: cover;
    background-position: center;
  }

  .category-body-container {
    height: 90px;
    padding: 0 25px;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    border: 1px solid black;
    background-color: white;
    opacity: 0.7;
    position: absolute;

    h2 {
      font-weight: bold;
      margin: 0 6px 0;
      font-size: 22px;
      color: #4a4a4a;
    }

    p {
      font-weight: lighter;
      font-size: 16px;
    }
  }
}
```

# #End

</details>

<details>
  <summary>26. Add background Images to Category Items </summary>

# Add background Images to Category Items

![](https://github.com/omeatai/React-Tutorial/assets/32337103/19a13f76-3606-43fb-8061-b6c7a4bf6a93)
![](https://github.com/omeatai/React-Tutorial/assets/32337103/9b62a37b-29c6-4f40-a96c-72f58b56c44f)

### crwn-clothing/src/App.js:

```js
import "./App.scss";

function App() {
  const categories = [
    {
      id: 1,
      title: "hats",
      imageUrl: "https://i.ibb.co/cvpntL1/hats.png",
    },
    {
      id: 2,
      title: "jackets",
      imageUrl: "https://i.ibb.co/px2tCc3/jackets.png",
    },
    {
      id: 3,
      title: "sneakers",
      imageUrl: "https://i.ibb.co/0jqHpnp/sneakers.png",
    },
    {
      id: 4,
      title: "womens",
      imageUrl: "https://i.ibb.co/GCCdy8t/womens.png",
    },
    {
      id: 5,
      title: "mens",
      imageUrl: "https://i.ibb.co/R70vBrQ/men.png",
    },
  ];

  return (
    <div className="categories-container">
      {categories.map(({ title, id, imageUrl }) => (
        <div key={id} className="category-container">
          <div
            className="background-image"
            style={{
              backgroundImage: `url(${imageUrl})`,
            }}
          />
          <div className="category-body-container">
            <h2>{title}</h2>
            <p>Shop Now</p>
          </div>
        </div>
      ))}
    </div>
  );
}

export default App;
```

### crwn-clothing/src/App.scss:

```css
.categories-container {
  width: 100%;
  display: flex;
  flex-wrap: wrap;
  justify-content: space-between;
}

.category-container {
  min-width: 30%;
  height: 240px;
  flex: 1 1 auto;
  display: flex;
  align-items: center;
  justify-content: center;
  border: 1px solid black;
  margin: 0 7.5px 15px;
  overflow: hidden;

  &:hover {
    cursor: pointer;

    & .background-image {
      transform: scale(1.1);
      transition: transform 6s cubic-bezier(0.25, 0.45, 0.45, 0.95);
    }

    & .category-body-container {
      opacity: 0.9;
    }
  }

  &.large {
    height: 380px;
  }

  &:first-child {
    margin-right: 7.5px;
  }

  &:last-child {
    margin-left: 7.5px;
  }

  .background-image {
    width: 100%;
    height: 100%;
    background-size: cover;
    background-position: center;
  }

  .category-body-container {
    height: 90px;
    padding: 0 25px;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    border: 1px solid black;
    background-color: white;
    opacity: 0.7;
    position: absolute;

    h2 {
      font-weight: bold;
      margin: 0 6px 0;
      font-size: 22px;
      color: #4a4a4a;
    }

    p {
      font-weight: lighter;
      font-size: 16px;
    }
  }
}
```

# #End

</details>

<details>
  <summary>27. Creating Category Item Component </summary>

# Creating Category Item Component

![](https://github.com/omeatai/React-Tutorial/assets/32337103/d15c75ca-a69e-4ba4-a76d-c4399a53ff3f)
![](https://github.com/omeatai/React-Tutorial/assets/32337103/3214ec29-f166-4698-a2ff-d54195ca47f6)

### crwn-clothing/src/App.js:

```js
import "./App.scss";
import CategoryItem from "./components/CategoryItem/CategoryItem";

function App() {
  const categories = [
    {
      id: 1,
      title: "hats",
      imageUrl: "https://i.ibb.co/cvpntL1/hats.png",
    },
    {
      id: 2,
      title: "jackets",
      imageUrl: "https://i.ibb.co/px2tCc3/jackets.png",
    },
    {
      id: 3,
      title: "sneakers",
      imageUrl: "https://i.ibb.co/0jqHpnp/sneakers.png",
    },
    {
      id: 4,
      title: "womens",
      imageUrl: "https://i.ibb.co/GCCdy8t/womens.png",
    },
    {
      id: 5,
      title: "mens",
      imageUrl: "https://i.ibb.co/R70vBrQ/men.png",
    },
  ];

  return (
    <div className="categories-container">
      {categories.map((category) => (
        <CategoryItem key={category.id} category={category} />
      ))}
    </div>
  );
}

export default App;
```

### crwn-clothing/src/components/CategoryItem/CategoryItem.jsx:

```js
import React from "react";
import "./CategoryItem.scss";

const CategoryItem = ({ category }) => {
  const { imageUrl, title } = category;
  return (
    <div className="category-container">
      <div
        className="background-image"
        style={{
          backgroundImage: `url(${imageUrl})`,
        }}
      />
      <div className="category-body-container">
        <h2>{title}</h2>
        <p>Shop Now</p>
      </div>
    </div>
  );
};

export default CategoryItem;
```

### crwn-clothing/src/App.scss:

```css
.categories-container {
  width: 100%;
  display: flex;
  flex-wrap: wrap;
  justify-content: space-between;
}
```

### crwn-clothing/src/components/CategoryItem/CategoryItem.scss:

```css
.category-container {
  min-width: 30%;
  height: 240px;
  flex: 1 1 auto;
  display: flex;
  align-items: center;
  justify-content: center;
  border: 1px solid black;
  margin: 0 7.5px 15px;
  overflow: hidden;

  &:hover {
    cursor: pointer;

    & .background-image {
      transform: scale(1.1);
      transition: transform 6s cubic-bezier(0.25, 0.45, 0.45, 0.95);
    }

    & .category-body-container {
      opacity: 0.9;
    }
  }

  &.large {
    height: 380px;
  }

  &:first-child {
    margin-right: 7.5px;
  }

  &:last-child {
    margin-left: 7.5px;
  }

  .background-image {
    width: 100%;
    height: 100%;
    background-size: cover;
    background-position: center;
  }

  .category-body-container {
    height: 90px;
    padding: 0 25px;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    border: 1px solid black;
    background-color: white;
    opacity: 0.7;
    position: absolute;

    h2 {
      font-weight: bold;
      margin: 0 6px 0;
      font-size: 22px;
      color: #4a4a4a;
    }

    p {
      font-weight: lighter;
      font-size: 16px;
    }
  }
}
```

# #End

</details>

<details>
  <summary>28. Creating Categories Component  </summary>

# Creating Categories Component

![](https://github.com/omeatai/React-Tutorial/assets/32337103/0e539a10-a6e3-4af0-a18d-8ea52d766a60)
![](https://github.com/omeatai/React-Tutorial/assets/32337103/4f51bce7-0201-40e3-910e-741643609367)

### crwn-clothing/src/App.js:

```js
import "./App.scss";
import Categories from "./components/Categories/Categories";

function App() {
  const categories = [
    {
      id: 1,
      title: "hats",
      imageUrl: "https://i.ibb.co/cvpntL1/hats.png",
    },
    {
      id: 2,
      title: "jackets",
      imageUrl: "https://i.ibb.co/px2tCc3/jackets.png",
    },
    {
      id: 3,
      title: "sneakers",
      imageUrl: "https://i.ibb.co/0jqHpnp/sneakers.png",
    },
    {
      id: 4,
      title: "womens",
      imageUrl: "https://i.ibb.co/GCCdy8t/womens.png",
    },
    {
      id: 5,
      title: "mens",
      imageUrl: "https://i.ibb.co/R70vBrQ/men.png",
    },
  ];

  return <Categories categories={categories} />;
}

export default App;
```

### crwn-clothing/src/components/Categories/Categories.jsx:

```js
import React from "react";
import CategoryItem from "../CategoryItem/CategoryItem";
import "./Categories.scss";

const Categories = ({ categories }) => {
  return (
    <div className="categories-container">
      {categories.map((category) => (
        <CategoryItem key={category.id} category={category} />
      ))}
    </div>
  );
};

export default Categories;
```

### crwn-clothing/src/components/Categories/Categories.scss:

```css
.categories-container {
  width: 100%;
  display: flex;
  flex-wrap: wrap;
  justify-content: space-between;
}
```

### crwn-clothing/src/components/CategoryItem/CategoryItem.jsx:

```js
import React from "react";
import "./CategoryItem.scss";

const CategoryItem = ({ category }) => {
  const { imageUrl, title } = category;
  return (
    <div className="category-container">
      <div
        className="background-image"
        style={{
          backgroundImage: `url(${imageUrl})`,
        }}
      />
      <div className="category-body-container">
        <h2>{title}</h2>
        <p>Shop Now</p>
      </div>
    </div>
  );
};

export default CategoryItem;
```

### crwn-clothing/src/components/CategoryItem/CategoryItem.scss:

```css
.category-container {
  min-width: 30%;
  height: 240px;
  flex: 1 1 auto;
  display: flex;
  align-items: center;
  justify-content: center;
  border: 1px solid black;
  margin: 0 7.5px 15px;
  overflow: hidden;

  &:hover {
    cursor: pointer;

    & .background-image {
      transform: scale(1.1);
      transition: transform 6s cubic-bezier(0.25, 0.45, 0.45, 0.95);
    }

    & .category-body-container {
      opacity: 0.9;
    }
  }

  &.large {
    height: 380px;
  }

  &:first-child {
    margin-right: 7.5px;
  }

  &:last-child {
    margin-left: 7.5px;
  }

  .background-image {
    width: 100%;
    height: 100%;
    background-size: cover;
    background-position: center;
  }

  .category-body-container {
    height: 90px;
    padding: 0 25px;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    border: 1px solid black;
    background-color: white;
    opacity: 0.7;
    position: absolute;

    h2 {
      font-weight: bold;
      margin: 0 6px 0;
      font-size: 22px;
      color: #4a4a4a;
    }

    p {
      font-weight: lighter;
      font-size: 16px;
    }
  }
}
```

# #End

</details>

<details>
  <summary>29. Adding Google Fonts </summary>

# Adding Google Fonts

![](https://github.com/omeatai/React-Tutorial/assets/32337103/728c365c-8b49-46a4-8b3d-28890de3bcc8)
![](https://github.com/omeatai/React-Tutorial/assets/32337103/6fc8cf73-37db-4778-ace8-129e5ba050a4)

### crwn-clothing/public/index.html:

```bs
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Roboto+Condensed:wght@300&display=swap" rel="stylesheet">
```

```html
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <link rel="icon" href="%PUBLIC_URL%/favicon.ico" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="theme-color" content="#000000" />
    <meta
      name="description"
      content="Web site created using create-react-app"
    />
    <link rel="apple-touch-icon" href="%PUBLIC_URL%/logo192.png" />
    <link rel="manifest" href="%PUBLIC_URL%/manifest.json" />

    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Roboto+Condensed:wght@300&display=swap"
      rel="stylesheet"
    />

    <title>React App</title>
  </head>
  <body>
    <noscript>You need to enable JavaScript to run this app.</noscript>
    <div id="root"></div>
  </body>
</html>
```

### crwn-clothing/src/index.js:

```js
import React from "react";
import ReactDOM from "react-dom/client";
import App from "./App";
import reportWebVitals from "./reportWebVitals";
import "./index.scss";

const root = ReactDOM.createRoot(document.getElementById("root"));
root.render(
  <React.StrictMode>
    <App />
  </React.StrictMode>
);

reportWebVitals();
```

### crwn-clothing/src/index.scss:

```css
body {
  margin: 0;
  font-family: "Roboto Condensed", sans-serif;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

code {
  font-family: source-code-pro, Menlo, Monaco, Consolas, "Courier New",
    monospace;
}
```

# #End

</details>

<details>
  <summary>30. SASS vs CSS </summary>

# CSS

```css
.category-container {
  min-width: 30%;
  height: 240px;
  flex: 1 1 auto;
  display: flex;
  align-items: center;
  justify-content: center;
  border: 1px solid black;
  margin: 0 7.5px 15px;
  overflow: hidden;
}
.category-container:hover {
  cursor: pointer;
}
.category-container:hover .background-image {
  transform: scale(1.1);
  transition: transform 6s cubic-bezier(0.25, 0.45, 0.45, 0.95);
}
.category-container:hover .category-body-container {
  opacity: 0.9;
}
.category-container.large {
  height: 380px;
}
.category-container:first-child {
  margin-right: 7.5px;
}
.category-container:last-child {
  margin-left: 7.5px;
}
.category-container .background-image {
  width: 100%;
  height: 100%;
  background-size: cover;
  background-position: center;
}
.category-container .category-body-container {
  height: 90px;
  padding: 0 25px;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  border: 1px solid black;
  background-color: white;
  opacity: 0.7;
  position: absolute;
}
.category-container .category-body-container h2 {
  font-weight: bold;
  margin: 0 6px 0;
  font-size: 22px;
  color: #4a4a4a;
}
.category-container .category-body-container p {
  font-weight: lighter;
  font-size: 16px;
}
```

# SASS

```css
.category-container {
  min-width: 30%;
  height: 240px;
  flex: 1 1 auto;
  display: flex;
  align-items: center;
  justify-content: center;
  border: 1px solid black;
  margin: 0 7.5px 15px;
  overflow: hidden;

  &:hover {
    cursor: pointer;

    & .background-image {
      transform: scale(1.1);
      transition: transform 6s cubic-bezier(0.25, 0.45, 0.45, 0.95);
    }

    & .category-body-container {
      opacity: 0.9;
    }
  }

  &.large {
    height: 380px;
  }

  &:first-child {
    margin-right: 7.5px;
  }

  &:last-child {
    margin-left: 7.5px;
  }

  .background-image {
    width: 100%;
    height: 100%;
    background-size: cover;
    background-position: center;
  }

  .category-body-container {
    height: 90px;
    padding: 0 25px;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    border: 1px solid black;
    background-color: white;
    opacity: 0.7;
    position: absolute;

    h2 {
      font-weight: bold;
      margin: 0 6px 0;
      font-size: 22px;
      color: #4a4a4a;
    }

    p {
      font-weight: lighter;
      font-size: 16px;
    }
  }
}
```

# #End

</details>

+REACT ROUTER

<details>
  <summary>31. React Router v6 </summary>

# Installing React Router

```jsbs
yarn add react-router-dom@6
```

# Setup index.js with BrowserRouter for React Router v6

### crwn-clothing/src/index.js:

```jsbs
import { BrowserRouter } from "react-router-dom";

<BrowserRouter>
  <App />
</BrowserRouter>
```

```js
import React from "react";
import ReactDOM from "react-dom/client";
import { BrowserRouter } from "react-router-dom";
import App from "./App";
import reportWebVitals from "./reportWebVitals";
import "./index.scss";

const root = ReactDOM.createRoot(document.getElementById("root"));
root.render(
  <React.StrictMode>
    <BrowserRouter>
      <App />
    </BrowserRouter>
  </React.StrictMode>
);

reportWebVitals();
```

# #End

</details>

<details>
  <summary>32. React Router - Create Home Component </summary>

# Create Home Component

![](https://github.com/omeatai/React-Tutorial/assets/32337103/57cdd75f-ad35-4ed3-9fe4-028c578e3629)
![](https://github.com/omeatai/React-Tutorial/assets/32337103/6c7b0626-dfea-4b76-b498-91f1bb116e6d)

### crwn-clothing/src/App.js:

```js
import "./App.scss";
import Home from "./routes/Home/Home";

const App = () => {
  return <Home />;
};

export default App;
```

### crwn-clothing/src/routes/Home/Home.jsx:

```js
import React from "react";
import Categories from "../../components/Categories/Categories";

const Home = () => {
  const categories = [
    {
      id: 1,
      title: "hats",
      imageUrl: "https://i.ibb.co/cvpntL1/hats.png",
    },
    {
      id: 2,
      title: "jackets",
      imageUrl: "https://i.ibb.co/px2tCc3/jackets.png",
    },
    {
      id: 3,
      title: "sneakers",
      imageUrl: "https://i.ibb.co/0jqHpnp/sneakers.png",
    },
    {
      id: 4,
      title: "womens",
      imageUrl: "https://i.ibb.co/GCCdy8t/womens.png",
    },
    {
      id: 5,
      title: "mens",
      imageUrl: "https://i.ibb.co/R70vBrQ/men.png",
    },
  ];

  return <Categories categories={categories} />;
};

export default Home;
```

# #End

</details>

<details>
  <summary>33. React Router - Setup Routes and Route </summary>

# Setup Routes and Route

![](https://github.com/omeatai/React-Tutorial/assets/32337103/85142f5e-1551-4bb5-bb49-771e24f94a77)
![](https://github.com/omeatai/React-Tutorial/assets/32337103/fc390ebc-f708-43d5-ab81-812a9d6e894b)

### crwn-clothing/src/App.js:

```js
import "./App.scss";
import { Routes, Route } from "react-router-dom";
import Home from "./routes/Home/Home";

const App = () => {
  return (
    <Routes>
      <Route path="/" element={<Home />} />
      <Route path="/home" element={<Home />} />
    </Routes>
  );
};

export default App;
```

# #End

</details>

<details>
  <summary>34. React Router - Create Shop Component </summary>

# Create Shop Component

![](https://github.com/omeatai/React-Tutorial/assets/32337103/88de816c-2a94-45fe-b983-147ade483a7e)
![](https://github.com/omeatai/React-Tutorial/assets/32337103/0d9e3192-c4c9-4f3d-bbe3-6e4cfb551177)

### crwn-clothing/src/App.js:

```js
import "./App.scss";
import { Routes, Route } from "react-router-dom";
import Home from "./routes/Home/Home";
import Shop from "./routes/Shop/Shop";

const App = () => {
  return (
    <Routes>
      <Route path="/" element={<Home />} />
      <Route path="/home" element={<Home />} />
      <Route path="/shop" element={<Shop />} />
    </Routes>
  );
};

export default App;
```

### crwn-clothing/src/routes/Shop/Shop.jsx:

```js
import React from "react";

const Shop = () => {
  return (
    <div>
      <h1>This is the Shop Page</h1>
    </div>
  );
};

export default Shop;
```

# #End

</details>

<details>
  <summary>35. React Router - Nesting Routes with Outlet </summary>

# Nesting Routes with Outlet

![](https://github.com/omeatai/React-Tutorial/assets/32337103/2de2b809-ac4e-4075-8818-c074cc33ebd4)
![](https://github.com/omeatai/React-Tutorial/assets/32337103/540b7719-61d4-46ac-a8d6-78661a4bb1d4)

### crwn-clothing/src/App.js:

```js
import "./App.scss";
import { Routes, Route } from "react-router-dom";
import Home from "./routes/Home/Home";
import Shop from "./routes/Shop/Shop";

const App = () => {
  return (
    <Routes>
      <Route path="/" element={<Home />}>
        <Route path="shop" element={<Shop />} />
      </Route>
    </Routes>
  );
};

export default App;
```

### crwn-clothing/src/routes/Home/Home.jsx:

```js
import React from "react";
import { Outlet } from "react-router-dom";
import Categories from "../../components/Categories/Categories";

const Home = () => {
  const categories = [
    {
      id: 1,
      title: "hats",
      imageUrl: "https://i.ibb.co/cvpntL1/hats.png",
    },
    {
      id: 2,
      title: "jackets",
      imageUrl: "https://i.ibb.co/px2tCc3/jackets.png",
    },
    {
      id: 3,
      title: "sneakers",
      imageUrl: "https://i.ibb.co/0jqHpnp/sneakers.png",
    },
    {
      id: 4,
      title: "womens",
      imageUrl: "https://i.ibb.co/GCCdy8t/womens.png",
    },
    {
      id: 5,
      title: "mens",
      imageUrl: "https://i.ibb.co/R70vBrQ/men.png",
    },
  ];

  return (
    <section>
      <Outlet />
      <Categories categories={categories} />
    </section>
  );
};

export default Home;
```

### crwn-clothing/src/routes/Shop/Shop.jsx:

```js
import React from "react";

const Shop = () => {
  return (
    <div>
      <h1>This is the Shop Page</h1>
    </div>
  );
};

export default Shop;
```

# #End

</details>

<details>
  <summary>36. React Router - Nesting Components within Navigation bar </summary>

# Nesting Components within Navigation bar

### crwn-clothing/src/App.js:

```js
import "./App.scss";
import { Routes, Route } from "react-router-dom";
import Home from "./routes/Home/Home";
import Shop from "./routes/Shop/Shop";
import Navigation from "./routes/Navigation/Navigation";

const App = () => {
  return (
    <Routes>
      <Route path="/" element={<Navigation />}>
        <Route path="home" element={<Home />} />
        <Route path="shop" element={<Shop />} />
      </Route>
    </Routes>
  );
};

export default App;
```

### crwn-clothing/src/routes/Navigation/Navigation.jsx:

```js
import React from "react";
import { Outlet } from "react-router-dom";

const Navigation = () => {
  return (
    <div>
      <h1>This is the Navigation bar.</h1>
      <Outlet />
    </div>
  );
};

export default Navigation;
```

### crwn-clothing/src/routes/Home/Home.jsx:

```js
import React from "react";
import Categories from "../../components/Categories/Categories";

const Home = () => {
  const categories = [
    {
      id: 1,
      title: "hats",
      imageUrl: "https://i.ibb.co/cvpntL1/hats.png",
    },
    {
      id: 2,
      title: "jackets",
      imageUrl: "https://i.ibb.co/px2tCc3/jackets.png",
    },
    {
      id: 3,
      title: "sneakers",
      imageUrl: "https://i.ibb.co/0jqHpnp/sneakers.png",
    },
    {
      id: 4,
      title: "womens",
      imageUrl: "https://i.ibb.co/GCCdy8t/womens.png",
    },
    {
      id: 5,
      title: "mens",
      imageUrl: "https://i.ibb.co/R70vBrQ/men.png",
    },
  ];

  return (
    <section>
      <Categories categories={categories} />
    </section>
  );
};

export default Home;
```

### crwn-clothing/src/routes/Shop/Shop.jsx:

```js
import React from "react";

const Shop = () => {
  return (
    <div>
      <h1>This is the Shop Page</h1>
    </div>
  );
};

export default Shop;
```

http://localhost:3000/:

![](https://user-images.githubusercontent.com/32337103/233856024-34b2c836-373b-4b87-8cd1-1040a73399d0.png)

http://localhost:3000/home:

![](https://user-images.githubusercontent.com/32337103/233856061-6aa03c53-ec4f-43ef-8efe-cc7ba782798d.png)

http://localhost:3000/shop:

![](https://user-images.githubusercontent.com/32337103/233856091-62bd1b94-674e-4eed-bf30-d3b577885c83.png)

# #End

</details>

<details>
  <summary>37. React Router - Using Fragments and Nav Links in Navigation bar </summary>

# Using Fragments and Nav Links in Navigation bar

![](https://github.com/omeatai/React-Tutorial/assets/32337103/6c166cd0-4531-4c75-b8f0-34d9f426f75b)
![](https://github.com/omeatai/React-Tutorial/assets/32337103/6053dacf-887a-41ba-b8be-7c3abd6dac4b)

### crwn-clothing/src/App.js:

```js
import "./App.scss";
import { Routes, Route } from "react-router-dom";
import Home from "./routes/Home/Home";
import Shop from "./routes/Shop/Shop";
import Navigation from "./routes/Navigation/Navigation";

const App = () => {
  return (
    <Routes>
      <Route path="/" element={<Navigation />}>
        <Route path="home" element={<Home />} />
        <Route path="shop" element={<Shop />} />
      </Route>
    </Routes>
  );
};

export default App;
```

### crwn-clothing/src/routes/Navigation/Navigation.jsx:

```js
import React, { Fragment } from "react";
import { Outlet, Link } from "react-router-dom";

const Navigation = () => {
  return (
    <Fragment>
      <div className="navigation">
        <Link className="logo-container" to="/">
          <div>Logo</div>
        </Link>
        <div className="nav-links-container">
          <Link className="nav-link" to="/home">
            HOME
          </Link>
          <Link className="nav-link" to="/shop">
            SHOP
          </Link>
        </div>
      </div>
      <Outlet />
    </Fragment>
  );
};

export default Navigation;
```

### crwn-clothing/src/routes/Home/Home.jsx:

```js
import React from "react";
import Categories from "../../components/Categories/Categories";

const Home = () => {
  const categories = [
    {
      id: 1,
      title: "hats",
      imageUrl: "https://i.ibb.co/cvpntL1/hats.png",
    },
    {
      id: 2,
      title: "jackets",
      imageUrl: "https://i.ibb.co/px2tCc3/jackets.png",
    },
    {
      id: 3,
      title: "sneakers",
      imageUrl: "https://i.ibb.co/0jqHpnp/sneakers.png",
    },
    {
      id: 4,
      title: "womens",
      imageUrl: "https://i.ibb.co/GCCdy8t/womens.png",
    },
    {
      id: 5,
      title: "mens",
      imageUrl: "https://i.ibb.co/R70vBrQ/men.png",
    },
  ];

  return (
    <section>
      <Categories categories={categories} />
    </section>
  );
};

export default Home;
```

### crwn-clothing/src/routes/Shop/Shop.jsx:

```js
import React from "react";

const Shop = () => {
  return (
    <div>
      <h1>This is the Shop Page</h1>
    </div>
  );
};

export default Shop;
```

# #End

</details>

<details>
  <summary>38. React Router - Importing Logo with ReactComponent and styling </summary>

# Importing Logo with ReactComponent and styling

![](https://github.com/omeatai/React-Tutorial/assets/32337103/b45f2928-f80b-4a09-9554-76e1a81e6d9a)
![](https://github.com/omeatai/React-Tutorial/assets/32337103/345d309e-ad38-4a95-a8be-885e4e78c0b7)

### crwn-clothing/src/App.js:

```js
import "./App.scss";
import { Routes, Route } from "react-router-dom";
import Home from "./routes/Home/Home";
import Shop from "./routes/Shop/Shop";
import Navigation from "./routes/Navigation/Navigation";

const App = () => {
  return (
    <Routes>
      <Route path="/" element={<Navigation />}>
        <Route path="home" element={<Home />} />
        <Route path="shop" element={<Shop />} />
      </Route>
    </Routes>
  );
};

export default App;
```

### crwn-clothing/src/routes/Navigation/Navigation.jsx:

```js
import React, { Fragment } from "react";
import { Outlet, Link } from "react-router-dom";
import { ReactComponent as CrwnLogo } from "../../assets/crown.svg";
import "./Navigation.scss";

const Navigation = () => {
  return (
    <Fragment>
      <div className="navigation">
        <Link className="logo-container" to="/">
          <CrwnLogo className="logo" />
        </Link>
        <div className="nav-links-container">
          <Link className="nav-link" to="/home">
            HOME
          </Link>
          <Link className="nav-link" to="/shop">
            SHOP
          </Link>
        </div>
      </div>
      <Outlet />
    </Fragment>
  );
};

export default Navigation;
```

### crwn-clothing/src/routes/navigation/navigation.scss:

```css
.navigation {
  height: 70px;
  width: 100%;
  display: flex;
  justify-content: space-between;
  margin-bottom: 25px;

  .logo-container {
    height: 100%;
    width: 70px;
    padding: 25px;
  }

  .nav-links-container {
    width: 50%;
    height: 100%;
    display: flex;
    align-items: center;
    justify-content: flex-end;

    .nav-link {
      padding: 10px 15px;
      cursor: pointer;
    }
  }
}
```

### crwn-clothing/src/index.scss:

```css
body {
  margin: 0;
  font-family: "Roboto Condensed", sans-serif;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

code {
  font-family: source-code-pro, Menlo, Monaco, Consolas, "Courier New",
    monospace;
}

a {
  text-decoration: none;
  color: black;
}

* {
  box-sizing: border;
}
```

# #End

</details>

+FIREBASE AUTHENTICATION

<details>
  <summary>39. Firebase Authentication - Install Firebase  </summary>

# Install Firebase

```jsbs
yarn add firebase
```

# #End

</details>

<details>
  <summary>40. Firebase Authentication- Create Sign In Component  </summary>

# Create Sign In Component

![](https://github.com/omeatai/React-Tutorial/assets/32337103/07938f04-5324-4318-8497-2382b68d5e0e)
![](https://github.com/omeatai/React-Tutorial/assets/32337103/21f512fb-51f4-41e4-9b95-0f321bc9786f)

### crwn-clothing/src/App.js:

```js
import "./App.scss";
import { Routes, Route } from "react-router-dom";
import Home from "./routes/Home/Home";
import Shop from "./routes/Shop/Shop";
import Navigation from "./routes/Navigation/Navigation";
import SignIn from "./routes/SignIn/SignIn";

const App = () => {
  return (
    <Routes>
      <Route path="/" element={<Navigation />}>
        <Route path="home" element={<Home />} />
        <Route path="shop" element={<Shop />} />
        <Route path="signin" element={<SignIn />} />
        <Route path="/" element={<Home />} />
      </Route>
    </Routes>
  );
};

export default App;
```

### crwn-clothing/src/routes/SignIn/SignIn.jsx:

```js
import React from "react";

const SignIn = () => {
  return (
    <div>
      <h1>Sign In Page</h1>
    </div>
  );
};

export default SignIn;
```

### crwn-clothing/src/routes/Navigation/Navigation.jsx:

```js
import React, { Fragment } from "react";
import { Outlet, Link } from "react-router-dom";
import { ReactComponent as CrwnLogo } from "../../assets/crown.svg";
import "./Navigation.scss";

const Navigation = () => {
  return (
    <Fragment>
      <div className="navigation">
        <Link className="logo-container" to="/">
          <CrwnLogo className="logo" />
        </Link>
        <div className="nav-links-container">
          <Link className="nav-link" to="/home">
            HOME
          </Link>
          <Link className="nav-link" to="/shop">
            SHOP
          </Link>
          <Link className="nav-link" to="/signin">
            SIGN IN
          </Link>
        </div>
      </div>
      <Outlet />
    </Fragment>
  );
};

export default Navigation;
```

# #End

</details>

<details>
  <summary>41. Firebase Authentication - Authenticating with Firebase  </summary>

# Create Firebase Web App

![](https://user-images.githubusercontent.com/32337103/234093059-3faf2ec2-da58-427f-bb7f-34dd023b86a9.png)
![](https://user-images.githubusercontent.com/32337103/234093417-0e63b5de-5a1a-4232-9b1c-aadbbcb96167.png)
![](https://user-images.githubusercontent.com/32337103/234093932-11739289-09b6-4aee-8447-134b571afb68.png)

# Setup the Firebase Auth file

### crwn-clothing/src/utils/firebase/firebase.js:

```js
// Import the functions you need from the SDKs you need
import { initializeApp } from "firebase/app";
import {
  getAuth,
  signInWithRedirect,
  signInWithPopup,
  GoogleAuthProvider,
} from "firebase/auth";

// Your web app's Firebase configuration
const firebaseConfig = {
  apiKey: "",
  authDomain: "",
  projectId: "",
  storageBucket: "",
  messagingSenderId: "",
  appId: "",
};

// Initialize Firebase
const firebaseApp = initializeApp(firebaseConfig);

const provider = new GoogleAuthProvider();

provider.setCustomParameters({
  prompt: "select_account",
});

export const auth = getAuth();
export const signInWithGooglePopup = () => signInWithPopup(auth, provider);
```

# Select Firebase Google Auth Method

![](https://user-images.githubusercontent.com/32337103/234096658-4b88ee70-23e7-4018-ae80-116920293940.png)
![](https://user-images.githubusercontent.com/32337103/234096873-65d78e4f-8d6d-4a4b-9479-e874f4665e35.png)
![](https://user-images.githubusercontent.com/32337103/234097121-1704e97f-acf9-4fdd-a252-9d81c43353b4.png)
![](https://user-images.githubusercontent.com/32337103/234097408-6d37a655-2d5f-44c3-b201-0f0395147ccc.png)

# Setup the SignIn Component

### crwn-clothing/src/routes/signin/SignIn.jsx:

```js
import React from "react";
import { signInWithGooglePopup } from "../../utils/firebase/firebase";

const SignIn = () => {
  const logGoogleuser = async () => {
    const response = await signInWithGooglePopup();
    console.log(response);
  };
  return (
    <div>
      <h1>Sign In Page</h1>
      <button onClick={logGoogleuser}>Sign in with Google Popup</button>
    </div>
  );
};

export default SignIn;
```

![](https://user-images.githubusercontent.com/32337103/234099674-a3cb130e-711c-40b1-91de-a5230d7f13e1.png)

# #End

</details>

<details>
  <summary>42. Firebase Authentication - Firestore Database </summary>

# Create Firestore Database

![](https://user-images.githubusercontent.com/32337103/234101726-5689e15a-db84-47c9-8025-814c87277552.png)
![](https://user-images.githubusercontent.com/32337103/234101832-210dffdc-3016-4373-a951-c40af33d6584.png)
![](https://user-images.githubusercontent.com/32337103/234101962-74353606-19f3-4f06-93af-4ccd67eebe12.png)
![](https://user-images.githubusercontent.com/32337103/234102149-0ac37f88-d297-4352-8b02-b77f99929f4d.png)
![](https://user-images.githubusercontent.com/32337103/234102207-66e5f990-a5e1-4255-bfc3-3b76654a61e9.png)

# #End

</details>

<details>
  <summary>43. Firebase Authentication - Checking for Users Record (Document) </summary>

# Checking for Users Record (Document)

![](https://github.com/omeatai/React-Tutorial/assets/32337103/73ca5f32-6c83-4a76-9968-1107da0e6ac2)
![](https://github.com/omeatai/React-Tutorial/assets/32337103/c9fe5756-a899-4d18-8bf6-5d50f38b7439)

### crwn-clothing/src/routes/signin/SignIn.jsx:

```js
import React from "react";
import {
  signInWithGooglePopup,
  createUserDocumentFromAuth,
} from "../../utils/firebase/firebase";

const SignIn = () => {
  const logGoogleuser = async () => {
    const response = await signInWithGooglePopup();
    createUserDocumentFromAuth(response.user);
  };

  return (
    <div>
      <h1>Sign In Page</h1>
      <button onClick={logGoogleuser}>Sign in with Google Popup</button>
    </div>
  );
};

export default SignIn;
```

### crwn-clothing/src/utils/firebase/firebase.js:

```js
// Import the functions you need from the SDKs you need
import { initializeApp } from "firebase/app";
import {
  getAuth,
  signInWithRedirect,
  signInWithPopup,
  GoogleAuthProvider,
} from "firebase/auth";

import { getFirestore, doc, getDoc, setDoc } from "firebase/firestore";

// Your web app's Firebase configuration
const firebaseConfig = {
  apiKey: "",
  authDomain: "",
  projectId: "",
  storageBucket: "",
  messagingSenderId: "",
  appId: "",
};

// Initialize Firebase
const firebaseApp = initializeApp(firebaseConfig);

// Google Provider Authentication
const provider = new GoogleAuthProvider();

provider.setCustomParameters({
  prompt: "select_account",
});

export const auth = getAuth();
export const signInWithGooglePopup = () => signInWithPopup(auth, provider);

//Check if the user record (document) exists in Firebase
export const db = getFirestore();

export const createUserDocumentFromAuth = async (userAuth) => {
  // Get reference to user uid in the "users" table/collection
  const userDocRef = doc(db, "users", userAuth.uid);
  console.log(userDocRef);

  // get the user record (document) in the "users" table/collection
  const userSnapshot = await getDoc(userDocRef);
  console.log(userSnapshot);

  // Checks if record (document) exists
  console.log(userSnapshot.exists());
  if (userSnapshot.exists()) {
    console.log("User exists in database");
  } else {
    console.log("User does not exist in database");
  }
};
```

# #End

</details>

<details>
  <summary>44. Firebase Authentication - Creating Users Record (Document)  </summary>

# Creating Users Record (Document) in users table (Collection) in Firebase

### crwn-clothing/src/routes/SignIn/SignIn.jsx:

```js
import React from "react";
import {
  signInWithGooglePopup,
  createUserDocumentFromAuth,
} from "../../utils/firebase/firebase";

const SignIn = () => {
  const logGoogleuser = async () => {
    const response = await signInWithGooglePopup();
    const userDocRef = await createUserDocumentFromAuth(response.user);
    console.log(userDocRef);
  };

  return (
    <div>
      <h1>Sign In Page</h1>
      <button onClick={logGoogleuser}>Sign in with Google Popup</button>
    </div>
  );
};

export default SignIn;
```

### crwn-clothing/src/utils/firebase/firebase.js:

```js
// Import the functions you need from the SDKs you need
import { initializeApp } from "firebase/app";
import {
  getAuth,
  signInWithRedirect,
  signInWithPopup,
  GoogleAuthProvider,
} from "firebase/auth";

import { getFirestore, doc, getDoc, setDoc } from "firebase/firestore";

// Your web app's Firebase configuration
const firebaseConfig = {
  apiKey: "",
  authDomain: "",
  projectId: "",
  storageBucket: "",
  messagingSenderId: "",
  appId: "",
};

// Initialize Firebase
const firebaseApp = initializeApp(firebaseConfig);

// Google Provider Authentication
const provider = new GoogleAuthProvider();

provider.setCustomParameters({
  prompt: "select_account",
});

export const auth = getAuth();
export const signInWithGooglePopup = () => signInWithPopup(auth, provider);

//Check if the user record (document) exists in Firebase
export const db = getFirestore();

export const createUserDocumentFromAuth = async (userAuth) => {
  // Get reference to user uid in the "users" table/collection
  const userDocRef = doc(db, "users", userAuth.uid);

  // get the user record (document) in the "users" table/collection
  const userSnapshot = await getDoc(userDocRef);

  // Checks if record (document) exists
  //   console.log(userSnapshot.exists());

  if (!userSnapshot.exists()) {
    //create a new user record/document in the "users" table/collection
    const { displayName, email } = userAuth;
    const createdAt = new Date();
    try {
      await setDoc(userDocRef, {
        displayName,
        email,
        createdAt,
      });
    } catch (error) {
      console.log("error creating the user", error.message);
    }
    return userDocRef;
  } else {
    console.log("User exists in database");
    console.log(userSnapshot);
    return userDocRef;
  }
};
```

![](https://github.com/omeatai/React-Tutorial/assets/32337103/383cf93c-c4c7-457c-873b-df3fcce9e39a)

# When User does not exist in database

![](https://github.com/omeatai/React-Tutorial/assets/32337103/84d46eab-ce6c-4b96-a110-baf40f3c49a2)

![](https://github.com/omeatai/React-Tutorial/assets/32337103/60a37a21-e57f-439a-ae8c-ec914291b4fa)

# When User exists in database

![](https://github.com/omeatai/React-Tutorial/assets/32337103/ce2d737e-bb1c-4943-9629-1e9e55cf51ac)
![](https://github.com/omeatai/React-Tutorial/assets/32337103/01a90984-6c94-4037-90a5-06368608e39a)

# #End

</details>

<details>
  <summary>45. Firebase Authentication - Sign in with Redirect (Get User Google Credentials) </summary>

# Sign in with Redirect (Get User Google Credentials)

![](https://user-images.githubusercontent.com/32337103/234378822-94315d29-f39f-4e86-967f-1f71eb7e4d17.png)

### crwn-clothing/src/routes/SignIn/SignIn.jsx:

```js
import React, { useEffect } from "react";
import { getRedirectResult } from "firebase/auth";

import {
  auth,
  signInWithGooglePopup,
  createUserDocumentFromAuth,
  signInWithGoogleRedirect,
} from "../../utils/firebase/firebase";

const SignIn = () => {
  useEffect(() => {
    const fetchData = async () => {
      const response = await getRedirectResult(auth);
      console.log(response);
    };
    fetchData();
  }, []);

  const logGoogleuser = async () => {
    const response = await signInWithGooglePopup();
    const userDocRef = await createUserDocumentFromAuth(response.user);
    console.log(userDocRef);
  };

  return (
    <div>
      <h1>Sign In Page</h1>
      <button onClick={logGoogleuser}>Sign in with Google Popup</button>
      <button onClick={signInWithGoogleRedirect}>
        Sign in with Google Redirect
      </button>
    </div>
  );
};

export default SignIn;
```

### crwn-clothing/src/utils/firebase/firebase.js:

```js
// Import the functions you need from the SDKs you need
import { initializeApp } from "firebase/app";
import {
  getAuth,
  signInWithRedirect,
  signInWithPopup,
  GoogleAuthProvider,
} from "firebase/auth";

import { getFirestore, doc, getDoc, setDoc } from "firebase/firestore";

// Your web app's Firebase configuration
const firebaseConfig = {
  apiKey: "",
  authDomain: "",
  projectId: "",
  storageBucket: "",
  messagingSenderId: "",
  appId: "",
};

// Initialize Firebase
const firebaseApp = initializeApp(firebaseConfig);

const googleProvider = new GoogleAuthProvider();

googleProvider.setCustomParameters({
  prompt: "select_account",
});

export const auth = getAuth();
export const signInWithGooglePopup = () =>
  signInWithPopup(auth, googleProvider);
export const signInWithGoogleRedirect = () =>
  signInWithRedirect(auth, googleProvider);

export const db = getFirestore();

export const createUserDocumentFromAuth = async (userAuth) => {
  const userDocRef = doc(db, "users", userAuth.uid);
  const userSnapshot = await getDoc(userDocRef);

  // Checks if document exists
  console.log(userSnapshot.exists());

  if (!userSnapshot.exists()) {
    const { displayName, email } = userAuth;
    const createdAt = new Date();
    try {
      await setDoc(userDocRef, {
        displayName,
        email,
        createdAt,
      });
    } catch (error) {
      console.log("error creating the user", error.message);
    }
  } else {
    console.log(userSnapshot);
  }
  return userDocRef;
};
```

# #End

</details>

<details>
  <summary>46. Firebase Authentication - Sign in with Redirect (Create User with Google Credentials) </summary>

# Create User with Google Credentials

![](https://github.com/omeatai/React-Tutorial/assets/32337103/064accda-34ff-4684-9186-67f6b5a4634b)

![](https://github.com/omeatai/React-Tutorial/assets/32337103/c95b3e19-a023-4d12-95cf-8eb9fdf75f1e)

![](https://user-images.githubusercontent.com/32337103/234381789-a4de6f52-22d7-4dfa-adb5-2215a9339ddc.png)

### crwn-clothing/src/routes/SignIn/SignIn.jsx:

```js
import React, { useEffect } from "react";
import { getRedirectResult } from "firebase/auth";

import {
  auth,
  signInWithGooglePopup,
  createUserDocumentFromAuth,
  signInWithGoogleRedirect,
} from "../../utils/firebase/firebase";

const SignIn = () => {
  useEffect(() => {
    const fetchData = async () => {
      const response = await getRedirectResult(auth);
      if (response) {
        const userDocRef = await createUserDocumentFromAuth(response.user);
      }
    };
    fetchData();
  }, []);

  const logGoogleuser = async () => {
    const response = await signInWithGooglePopup();
    const userDocRef = await createUserDocumentFromAuth(response.user);
  };

  return (
    <div>
      <h1>Sign In Page</h1>
      <button onClick={logGoogleuser}>Sign in with Google Popup</button>
      <button onClick={signInWithGoogleRedirect}>
        Sign in with Google Redirect
      </button>
    </div>
  );
};

export default SignIn;
```

### crwn-clothing/src/utils/firebase/firebase.js:

```js
// Import the functions you need from the SDKs you need
import { initializeApp } from "firebase/app";
import {
  getAuth,
  signInWithRedirect,
  signInWithPopup,
  GoogleAuthProvider,
} from "firebase/auth";

import { getFirestore, doc, getDoc, setDoc } from "firebase/firestore";

// Your web app's Firebase configuration
const firebaseConfig = {
  apiKey: "",
  authDomain: "",
  projectId: "",
  storageBucket: "",
  messagingSenderId: "",
  appId: "",
};

// Initialize Firebase
const firebaseApp = initializeApp(firebaseConfig);

// Google Provider Authentication
const googleProvider = new GoogleAuthProvider();

googleProvider.setCustomParameters({
  prompt: "select_account",
});

export const auth = getAuth();
export const signInWithGooglePopup = () =>
  signInWithPopup(auth, googleProvider);
export const signInWithGoogleRedirect = () =>
  signInWithRedirect(auth, googleProvider);

//Check if the user record (document) exists in Firebase
export const db = getFirestore();

export const createUserDocumentFromAuth = async (userAuth) => {
  // Get reference to user uid in the "users" table/collection
  const userDocRef = doc(db, "users", userAuth.uid);

  // get the user record (document) in the "users" table/collection
  const userSnapshot = await getDoc(userDocRef);

  // Checks if record (document) exists
  //   console.log(userSnapshot.exists());

  if (!userSnapshot.exists()) {
    //create a new user record/document in the "users" table/collection
    const { displayName, email } = userAuth;
    const createdAt = new Date();
    try {
      await setDoc(userDocRef, {
        displayName,
        email,
        createdAt,
      });
    } catch (error) {
      console.log("error creating the user", error.message);
    }
    return userDocRef;
  } else {
    console.log("User exists in database");
    console.log(userSnapshot);
    return userDocRef;
  }
};
```

# #End

</details>

<details>
  <summary>47. Firebase Authentication - Sign Up Form (Passing Values into Form) </summary>

# Sign Up Form (Passing Values into Form)

![](https://github.com/omeatai/React-Tutorial/assets/32337103/61a2a8c3-545b-4fff-a655-d7111c53e592)
![](https://github.com/omeatai/React-Tutorial/assets/32337103/94d6ccfe-2ecc-43a1-8bd0-9d8b715b8074)

# Set Authentication to use Email/Password

![](https://user-images.githubusercontent.com/32337103/235463756-e0700826-6d0e-4cec-8025-c3b84a35711c.png)

# Passing Values into Form

### crwn-clothing/src/App.js:

```js
import "./App.scss";
import { Routes, Route } from "react-router-dom";
import Home from "./routes/Home/Home";
import Shop from "./routes/Shop/Shop";
import Navigation from "./routes/Navigation/Navigation";
import SignIn from "./routes/SignIn/SignIn";

const App = () => {
  return (
    <Routes>
      <Route path="/" element={<Navigation />}>
        <Route path="home" element={<Home />} />
        <Route path="shop" element={<Shop />} />
        <Route path="signin" element={<SignIn />} />
        <Route path="/" element={<Home />} />
      </Route>
    </Routes>
  );
};

export default App;
```

### crwn-clothing/src/routes/SignIn/SignIn.jsx:

```js
import React from "react";
import SignUpForm from "../../components/SignUpForm/SignUpForm";

import {
  signInWithGooglePopup,
  createUserDocumentFromAuth,
} from "../../utils/firebase/firebase";

const SignIn = () => {
  const logGoogleuser = async () => {
    const response = await signInWithGooglePopup();
    const userDocRef = await createUserDocumentFromAuth(response.user);
  };

  return (
    <div>
      <h1>Sign In Page</h1>
      <button onClick={logGoogleuser}>Sign in with Google Popup</button>
      <SignUpForm />
    </div>
  );
};

export default SignIn;
```

### crwn-clothing/src/components/SignUpForm/SignUpForm.jsx:

```js
import React, { useState } from "react";

const defaultFormFields = {
  displayName: "",
  email: "",
  password: "",
  confirmPassword: "",
};

const SignUpForm = () => {
  const [formFields, setFormFields] = useState(defaultFormFields);

  const { displayName, email, password, confirmPassword } = formFields;

  console.log(formFields);

  const handleChange = (event) => {
    const { name, value } = event.target;
    setFormFields({ ...formFields, [name]: value });
  };

  return (
    <div>
      <h1>Sign up with your email and password.</h1>
      <form action="" onSubmit={() => {}}>
        <div>
          <label htmlFor="">Display Name</label>
          <input
            type="text"
            required
            onChange={handleChange}
            name="displayName"
            value={displayName}
          />
        </div>
        <div>
          <label htmlFor="">Email</label>
          <input
            type="email"
            required
            onChange={handleChange}
            name="email"
            value={email}
          />
        </div>
        <div>
          <label htmlFor="">Password</label>
          <input
            type="password"
            required
            onChange={handleChange}
            name="password"
            value={password}
          />
        </div>
        <div>
          <label htmlFor="">Confirm Password</label>
          <input
            type="password"
            required
            onChange={handleChange}
            name="confirmPassword"
            value={confirmPassword}
          />
        </div>

        <button type="submit">Sign Up</button>
      </form>
    </div>
  );
};

export default SignUpForm;
```

# #End

</details>

<details>
  <summary>48. Firebase Authentication - Sign Up Form (Create Auth user with createUserWithEmailAndPassword()) </summary>

# Sign Up Form (Create Auth user with createUserWithEmailAndPassword())

![](https://github.com/omeatai/React-Tutorial/assets/32337103/7162fadd-d423-46fe-89e8-c369ab40168e)

![](https://github.com/omeatai/React-Tutorial/assets/32337103/46cc0bff-7ac9-4198-86ab-8c71186de9c9)

![](https://user-images.githubusercontent.com/32337103/235503988-7da133e6-40ba-4b99-b9ca-7c5f25a9439b.png)
![](https://user-images.githubusercontent.com/32337103/235504034-66141333-4cf3-4dda-b303-b0f5c5a90904.png)

### crwn-clothing/src/App.js:

```js
import "./App.scss";
import { Routes, Route } from "react-router-dom";
import Home from "./routes/Home/Home";
import Shop from "./routes/Shop/Shop";
import Navigation from "./routes/Navigation/Navigation";
import SignIn from "./routes/SignIn/SignIn";

const App = () => {
  return (
    <Routes>
      <Route path="/" element={<Navigation />}>
        <Route path="home" element={<Home />} />
        <Route path="shop" element={<Shop />} />
        <Route path="signin" element={<SignIn />} />
        <Route path="/" element={<Home />} />
      </Route>
    </Routes>
  );
};

export default App;
```

### crwn-clothing/src/routes/SignIn/SignIn.jsx:

```js
import React from "react";
import SignUpForm from "../../components/SignUpForm/SignUpForm";

import {
  signInWithGooglePopup,
  createUserDocumentFromAuth,
} from "../../utils/firebase/firebase";

const SignIn = () => {
  const logGoogleuser = async () => {
    const response = await signInWithGooglePopup();
    const userDocRef = await createUserDocumentFromAuth(response.user);
  };

  return (
    <div>
      <h1>Sign In Page</h1>
      <button onClick={logGoogleuser}>Sign in with Google Popup</button>
      <SignUpForm />
    </div>
  );
};

export default SignIn;
```

### crwn-clothing/src/components/SignUpForm/SignUpForm.jsx:

```js
import React, { useState } from "react";

import {
  createAuthUserWithEmailAndPassword,
  createUserDocumentFromAuth,
} from "../../utils/firebase/firebase";

const defaultFormFields = {
  displayName: "",
  email: "",
  password: "",
  confirmPassword: "",
};

const SignUpForm = () => {
  const [formFields, setFormFields] = useState(defaultFormFields);

  const { displayName, email, password, confirmPassword } = formFields;

  const handleChange = (event) => {
    const { name, value } = event.target;
    setFormFields({ ...formFields, [name]: value });
  };

  const resetFormFields = () => {
    setFormFields(defaultFormFields);
  };

  const handleSubmit = async (event) => {
    event.preventDefault();
    if (!email || !password) {
      return;
    }
    if (password !== confirmPassword) {
      alert("Passwords do not match");
      return;
    }
    try {
      const user = await createAuthUserWithEmailAndPassword(email, password);
      console.log("user: ", user);
      const userAuth = user.user;
      const dbUser = await createUserDocumentFromAuth({
        ...userAuth,
        displayName,
      });
      console.log("dbUser: ", dbUser);
      resetFormFields();
    } catch (err) {
      if (err.code === "auth/email-already-in-use") {
        alert("Cannot create user, email already in use");
        return;
      } else {
        console.log("user creation encountered an error", err);
        return;
      }
    }
  };

  return (
    <div>
      <h1>Sign up with your email and password.</h1>
      <form action="" onSubmit={handleSubmit}>
        <div>
          <label htmlFor="">Display Name</label>
          <input
            type="text"
            required
            onChange={handleChange}
            name="displayName"
            value={displayName}
          />
        </div>
        <div>
          <label htmlFor="">Email</label>
          <input
            type="email"
            required
            onChange={handleChange}
            name="email"
            value={email}
          />
        </div>
        <div>
          <label htmlFor="">Password</label>
          <input
            type="password"
            required
            onChange={handleChange}
            name="password"
            value={password}
          />
        </div>
        <div>
          <label htmlFor="">Confirm Password</label>
          <input
            type="password"
            required
            onChange={handleChange}
            name="confirmPassword"
            value={confirmPassword}
          />
        </div>

        <button type="submit">Sign Up</button>
      </form>
    </div>
  );
};

export default SignUpForm;
```

### crwn-clothing/src/utils/firebase/firebase.js:

```js
// Import the functions you need from the SDKs you need
import { initializeApp } from "firebase/app";
import {
  getAuth,
  signInWithRedirect,
  signInWithPopup,
  GoogleAuthProvider,
  createUserWithEmailAndPassword,
} from "firebase/auth";

import { getFirestore, doc, getDoc, setDoc } from "firebase/firestore";

// Your web app's Firebase configuration
const firebaseConfig = {
  apiKey: "",
  authDomain: "",
  projectId: "",
  storageBucket: "",
  messagingSenderId: "",
  appId: "",
};

// Initialize Firebase
const firebaseApp = initializeApp(firebaseConfig);

// Google Provider Authentication
const googleProvider = new GoogleAuthProvider();

googleProvider.setCustomParameters({
  prompt: "select_account",
});

export const auth = getAuth();
export const signInWithGooglePopup = () =>
  signInWithPopup(auth, googleProvider);
export const signInWithGoogleRedirect = () =>
  signInWithRedirect(auth, googleProvider);

//Check if the user record (document) exists in Firebase
export const db = getFirestore();

export const createUserDocumentFromAuth = async (userAuth) => {
  // Get reference to user uid in the "users" table/collection
  const userDocRef = doc(db, "users", userAuth.uid);

  // get the user record (document) in the "users" table/collection
  const userSnapshot = await getDoc(userDocRef);

  // Checks if record (document) exists
  //   console.log(userSnapshot.exists());

  if (!userSnapshot.exists()) {
    //create a new user record/document in the "users" table/collection
    const { displayName, email } = userAuth;
    const createdAt = new Date();
    try {
      await setDoc(userDocRef, {
        displayName,
        email,
        createdAt,
      });
    } catch (error) {
      console.log("error creating the user", error.message);
    }
    return userDocRef;
  } else {
    console.log("User exists in database");
    console.log(userSnapshot);
    return userDocRef;
  }
};

export const createAuthUserWithEmailAndPassword = async (email, password) => {
  if (!email || !password) {
    return;
  }
  return await createUserWithEmailAndPassword(auth, email, password);
};
```

# #End

</details>

<details>
  <summary>49. Firebase Authentication - Create Form Input and Button Components </summary>

# Create Form Input and Button Components

![](https://github.com/omeatai/React-Tutorial/assets/32337103/f71fba8a-5e71-4f12-906c-0635ce21f7cd)

![](https://user-images.githubusercontent.com/32337103/236612081-e6037508-8159-4de3-b214-346b30a1b470.png)

### src/App.js:

```js
import "./App.scss";
import { Routes, Route } from "react-router-dom";
import Home from "./routes/Home/Home";
import Shop from "./routes/Shop/Shop";
import Navigation from "./routes/Navigation/Navigation";
import SignIn from "./routes/SignIn/SignIn";

const App = () => {
  return (
    <Routes>
      <Route path="/" element={<Navigation />}>
        <Route path="home" element={<Home />} />
        <Route path="shop" element={<Shop />} />
        <Route path="signin" element={<SignIn />} />
        <Route path="/" element={<Home />} />
      </Route>
    </Routes>
  );
};

export default App;
```

### src/routes/SignIn/SignIn.jsx:

```js
import React from "react";
import SignUpForm from "../../components/SignUpForm/SignUpForm";

import {
  signInWithGooglePopup,
  createUserDocumentFromAuth,
} from "../../utils/firebase/firebase";

const SignIn = () => {
  const logGoogleuser = async () => {
    const response = await signInWithGooglePopup();
    const userDocRef = await createUserDocumentFromAuth(response.user);
  };

  return (
    <div>
      <h1>Sign In Page</h1>
      <button onClick={logGoogleuser}>Sign in with Google Popup</button>
      <SignUpForm />
    </div>
  );
};

export default SignIn;
```

### src/components/SignUpForm/SignUpForm.jsx:

```js
import React, { useState } from "react";

import {
  createAuthUserWithEmailAndPassword,
  createUserDocumentFromAuth,
} from "../../utils/firebase/firebase";

import FormInput from "../FormInput/FormInput";
import Button from "../Button/Button";
import "./SignUpForm.scss";

const defaultFormFields = {
  displayName: "",
  email: "",
  password: "",
  confirmPassword: "",
};

const SignUpForm = () => {
  const [formFields, setFormFields] = useState(defaultFormFields);

  const { displayName, email, password, confirmPassword } = formFields;

  const handleChange = (event) => {
    const { name, value } = event.target;
    setFormFields({ ...formFields, [name]: value });
  };

  const resetFormFields = () => {
    setFormFields(defaultFormFields);
  };

  const handleSubmit = async (event) => {
    event.preventDefault();
    if (!email || !password) {
      return;
    }
    if (password !== confirmPassword) {
      alert("Passwords do not match");
      return;
    }
    try {
      const user = await createAuthUserWithEmailAndPassword(email, password);
      console.log("user: ", user);
      const userAuth = user.user;
      const dbUser = await createUserDocumentFromAuth({
        ...userAuth,
        displayName,
      });
      console.log("dbUser: ", dbUser);
      resetFormFields();
    } catch (err) {
      if (err.code === "auth/email-already-in-use") {
        alert("Cannot create user, email already in use");
        return;
      } else {
        console.log("user creation encountered an error", err);
        return;
      }
    }
  };

  return (
    <div className="sign-up-container">
      <h2>Don't have an account?</h2>
      <span>Sign up with your email and password.</span>
      <form onSubmit={handleSubmit}>
        <FormInput
          label="Display Name"
          type="text"
          required
          onChange={handleChange}
          name="displayName"
          value={displayName}
          id="displayName"
        />
        <FormInput
          label="Email"
          type="email"
          required
          onChange={handleChange}
          name="email"
          value={email}
          id="email"
        />
        <FormInput
          label="Password"
          type="password"
          required
          onChange={handleChange}
          name="password"
          value={password}
          id="password"
        />
        <FormInput
          label="Confirm Password"
          type="password"
          required
          onChange={handleChange}
          name="confirmPassword"
          value={confirmPassword}
          id="confirmPassword"
        />

        <Button buttonType="" type="submit">
          Sign Up
        </Button>
      </form>
    </div>
  );
};

export default SignUpForm;
```

### src/components/signUpForm/signUpForm.scss:

```css
.sign-up-container {
  display: flex;
  flex-direction: column;
  width: 380px;

  h2 {
    margin: 10px 0;
  }
}
```

### src/components/FormInput/FormInput.jsx:

```js
import React from "react";
import "./FormInput.scss";

const FormInput = ({ label, ...otherProps }) => {
  return (
    <div className="group">
      <input className="form-input" {...otherProps} />
      {label && (
        <label
          className={`${
            otherProps.value.length ? "shrink" : ""
          } form-input-label`}
          htmlFor={`${otherProps.id}`}
        >
          {label}
        </label>
      )}
    </div>
  );
};

export default FormInput;
```

### src/components/FormInput/FormInput.scss:

```css
$sub-color: grey;
$main-color: black;

@mixin shrinkLabel {
  top: -14px;
  font-size: 12px;
  color: $main-color;
}

.group {
  position: relative;
  margin: 45px 0;

  .form-input {
    background: none;
    background-color: white;
    color: $sub-color;
    font-size: 18px;
    padding: 10px 10px 10px 5px;
    display: block;
    width: 100%;
    border: none;
    border-radius: 0;
    border-bottom: 1px solid $sub-color;
    margin: 25px 0;

    &:focus {
      outline: none;
    }

    &:focus ~ .form-input-label {
      @include shrinkLabel();
    }
  }

  input[type="password"] {
    letter-spacing: 0.3em;
  }

  .form-input-label {
    color: $sub-color;
    font-size: 16px;
    font-weight: normal;
    position: absolute;
    pointer-events: none;
    left: 5px;
    top: 10px;
    transition: 300ms ease all;

    &.shrink {
      @include shrinkLabel();
    }
  }
}
```

### src/components/Button/Button.jsx:

```js
import React from "react";
import "./Button.scss";

/*
default
inverted
google sign in
*/

const BUTTON_TYPE_CLASSES = {
  google: "google-sign-in",
  inverted: "inverted",
};

const Button = ({ children, buttonType, ...otherProps }) => {
  return (
    <button
      className={`button-container ${BUTTON_TYPE_CLASSES[buttonType]}`}
      {...otherProps}
    >
      {children}
    </button>
  );
};

export default Button;
```

### src/components/Button/Button.scss:

```css
.button-container {
  min-width: 165px;
  width: auto;
  height: 50px;
  letter-spacing: 0.5px;
  line-height: 50px;
  padding: 0 35px 0 35px;
  font-size: 15px;
  background-color: black;
  color: white;
  text-transform: uppercase;
  font-family: "Open Sans Condensed";
  font-weight: bolder;
  border: none;
  cursor: pointer;
  display: flex;
  justify-content: center;

  &:hover {
    background-color: white;
    color: black;
    border: 1px solid black;
  }

  &.google-sign-in {
    background-color: #4285f4;
    color: white;

    &:hover {
      background-color: #357ae8;
      border: none;
    }
  }

  &.inverted {
    background-color: white;
    color: black;
    border: 1px solid black;

    &:hover {
      background-color: black;
      color: white;
      border: none;
    }
  }
}
```

# #End

</details>

<details>
  <summary>50. Firebase Authentication - Change SignIn route to Authentication route </summary>

# Change SignIn route to Authentication route

![](https://github.com/omeatai/React-Tutorial/assets/32337103/d2e227ed-4b79-4b60-bced-2ca6eb6d5781)

![](https://user-images.githubusercontent.com/32337103/236612777-5c2e25d8-eff3-4344-9a48-821200c3ce87.png)
![](https://user-images.githubusercontent.com/32337103/236612785-0b0fa5dc-f2fa-47de-95cd-3551a760b6b3.png)

### src/App.js:

```js
import "./App.scss";
import { Routes, Route } from "react-router-dom";
import Home from "./routes/Home/Home";
import Shop from "./routes/Shop/Shop";
import Navigation from "./routes/Navigation/Navigation";
import Authentication from "./routes/Authentication/Authentication";

const App = () => {
  return (
    <Routes>
      <Route path="/" element={<Navigation />}>
        <Route path="home" element={<Home />} />
        <Route path="shop" element={<Shop />} />
        <Route path="auth" element={<Authentication />} />
        <Route path="/" element={<Home />} />
      </Route>
    </Routes>
  );
};

export default App;
```

### src/routes/Authentication/Authentication.jsx:

```js
import React from "react";
import SignUpForm from "../../components/SignUpForm/SignUpForm";

import {
  signInWithGooglePopup,
  createUserDocumentFromAuth,
} from "../../utils/firebase/firebase";

const Authentication = () => {
  const logGoogleuser = async () => {
    const response = await signInWithGooglePopup();
    const userDocRef = await createUserDocumentFromAuth(response.user);
  };

  return (
    <div>
      <h1>Sign In Page</h1>
      <button onClick={logGoogleuser}>Sign in with Google Popup</button>
      <SignUpForm />
    </div>
  );
};

export default Authentication;
```

### src/routes/Navigation/Navigation.jsx:

```js
import React, { Fragment } from "react";
import { Outlet, Link } from "react-router-dom";
import { ReactComponent as CrwnLogo } from "../../assets/crown.svg";
import "./Navigation.scss";

const Navigation = () => {
  return (
    <Fragment>
      <div className="navigation">
        <Link className="logo-container" to="/">
          <CrwnLogo className="logo" />
        </Link>
        <div className="nav-links-container">
          <Link className="nav-link" to="/home">
            HOME
          </Link>
          <Link className="nav-link" to="/shop">
            SHOP
          </Link>
          <Link className="nav-link" to="/auth">
            SIGN IN
          </Link>
        </div>
      </div>
      <Outlet />
    </Fragment>
  );
};

export default Navigation;
```

# #End

</details>

<details>
  <summary>51. Firebase Authentication - Create Sign In Form Component </summary>

# Create Sign In Form Component

![](https://github.com/omeatai/React-Tutorial/assets/32337103/8363c3f7-c814-4a2f-9ffa-608be874e1ec)
![](https://user-images.githubusercontent.com/32337103/236615189-ed37d6b6-c629-4acd-9a51-afc22a162e64.png)
![](https://user-images.githubusercontent.com/32337103/236615257-bdf3a49b-de31-4baa-b1fb-5ad039aef669.png)
![](https://user-images.githubusercontent.com/32337103/236615205-d0852e69-34c7-4cb5-a1a3-ed9eee9cfbfe.png)

### src/App.js:

```js
import "./App.scss";
import { Routes, Route } from "react-router-dom";
import Home from "./routes/Home/Home";
import Shop from "./routes/Shop/Shop";
import Navigation from "./routes/Navigation/Navigation";
import Authentication from "./routes/Authentication/Authentication";

const App = () => {
  return (
    <Routes>
      <Route path="/" element={<Navigation />}>
        <Route path="home" element={<Home />} />
        <Route path="shop" element={<Shop />} />
        <Route path="auth" element={<Authentication />} />
        <Route path="/" element={<Home />} />
      </Route>
    </Routes>
  );
};

export default App;
```

### src/routes/Authentication/Authentication.jsx:

```js
import React from "react";
import SignUpForm from "../../components/SignUpForm/SignUpForm";
import SignInForm from "../../components/SignInForm/SignInForm";

const Authentication = () => {
  return (
    <div>
      <h1>Sign In Page</h1>
      <SignUpForm />
      <SignInForm />
    </div>
  );
};

export default Authentication;
```

### src/components/SignInForm/SignInForm.jsx:

```js
import { useState } from "react";

import {
  signInWithGooglePopup,
  signInAuthUserWithEmailAndPassword,
  createUserDocumentFromAuth,
} from "../../utils/firebase/firebase";

import FormInput from "../FormInput/FormInput";
import Button from "../Button/Button";
import "./SignInForm.scss";

const defaultFormFields = {
  email: "",
  password: "",
};

const SignInForm = () => {
  const [formFields, setFormFields] = useState(defaultFormFields);

  const { email, password } = formFields;

  const handleChange = (event) => {
    const { name, value } = event.target;
    setFormFields({ ...formFields, [name]: value });
  };

  const resetFormFields = () => {
    setFormFields(defaultFormFields);
  };

  const signInWithGoogle = async () => {
    const { user } = await signInWithGooglePopup();
    await createUserDocumentFromAuth(user);
  };

  const handleSubmit = async (event) => {
    event.preventDefault();
    if (!email || !password) {
      return;
    }

    try {
      const response = await signInAuthUserWithEmailAndPassword(
        email,
        password
      );
      console.log(response);
      resetFormFields();
    } catch (err) {
      console.log(err);
    }
  };

  return (
    <div className="sign-up-container">
      <h2>Already have an account?</h2>
      <span>Sign in with your email and password.</span>
      <form onSubmit={handleSubmit}>
        <FormInput
          label="Email"
          type="email"
          required
          onChange={handleChange}
          name="email"
          value={email}
          id="sign_in_email"
        />
        <FormInput
          label="Password"
          type="password"
          required
          onChange={handleChange}
          name="password"
          value={password}
          id="sign_in_password"
        />

        <div className="buttons-container">
          <Button buttonType="" type="submit">
            Sign In
          </Button>
          <Button buttonType="google" type="button" onClick={signInWithGoogle}>
            Google sign in
          </Button>
        </div>
      </form>
    </div>
  );
};

export default SignInForm;
```

### src/components/SignInForm/signInForm.scss:

```css
.sign-up-container {
  display: flex;
  flex-direction: column;
  width: 380px;

  h2 {
    margin: 10px 0;
  }

  .buttons-container {
    display: flex;
    justify-content: space-between;
  }
}
```

### src/utils/firebase/firebase.js:

```js
// Import the functions you need from the SDKs you need
import { initializeApp } from "firebase/app";
import {
  getAuth,
  signInWithRedirect,
  signInWithPopup,
  GoogleAuthProvider,
  createUserWithEmailAndPassword,
  signInWithEmailAndPassword,
} from "firebase/auth";

import { getFirestore, doc, getDoc, setDoc } from "firebase/firestore";

// Your web app's Firebase configuration
const firebaseConfig = {
  apiKey: "",
  authDomain: "",
  projectId: "",
  storageBucket: "",
  messagingSenderId: "",
  appId: "",
};

// Initialize Firebase
const firebaseApp = initializeApp(firebaseConfig);

// Google Provider Authentication
const googleProvider = new GoogleAuthProvider();

googleProvider.setCustomParameters({
  prompt: "select_account",
});

export const auth = getAuth();
export const signInWithGooglePopup = () =>
  signInWithPopup(auth, googleProvider);
export const signInWithGoogleRedirect = () =>
  signInWithRedirect(auth, googleProvider);

//Check if the user record (document) exists in Firebase
export const db = getFirestore();

export const createUserDocumentFromAuth = async (userAuth) => {
  if (!userAuth) {
    return;
  }

  // Get reference to user uid in the "users" table/collection
  const userDocRef = doc(db, "users", userAuth.uid);

  // get the user record (document) in the "users" table/collection
  const userSnapshot = await getDoc(userDocRef);

  // Checks if record (document) exists
  //   console.log(userSnapshot.exists());

  if (!userSnapshot.exists()) {
    //create a new user record/document in the "users" table/collection
    const { displayName, email } = userAuth;
    const createdAt = new Date();
    try {
      await setDoc(userDocRef, {
        displayName,
        email,
        createdAt,
      });
    } catch (error) {
      console.log("error creating the user", error.message);
    }
  } else {
    // console.log("User exists in database");
    console.log(userSnapshot);
  }
  return userDocRef;
};

export const createAuthUserWithEmailAndPassword = async (email, password) => {
  if (!email || !password) {
    return;
  }
  return await createUserWithEmailAndPassword(auth, email, password);
};

export const signInAuthUserWithEmailAndPassword = async (email, password) => {
  if (!email || !password) {
    return;
  }
  return await signInWithEmailAndPassword(auth, email, password);
};
```

# #End

</details>

<details>
  <summary>52. Firebase Authentication - Cleanup and Styling of Authentication Component </summary>

# Cleanup and Styling of Authentication Component

![](https://github.com/omeatai/React-Tutorial/assets/32337103/c7ae360e-e8c9-4658-bf04-003547e6ba26)

![](https://user-images.githubusercontent.com/32337103/236616235-b09c5296-777a-49f8-a6cd-9b292bb4f2ce.png)

### src/App.js:

```js
import "./App.scss";
import { Routes, Route } from "react-router-dom";
import Home from "./routes/Home/Home";
import Shop from "./routes/Shop/Shop";
import Navigation from "./routes/Navigation/Navigation";
import Authentication from "./routes/Authentication/Authentication";

const App = () => {
  return (
    <Routes>
      <Route path="/" element={<Navigation />}>
        <Route path="home" element={<Home />} />
        <Route path="shop" element={<Shop />} />
        <Route path="auth" element={<Authentication />} />
        <Route path="/" element={<Home />} />
      </Route>
    </Routes>
  );
};

export default App;
```

### src/routes/Authentication/Authentication.jsx:

```js
import React from "react";
import SignUpForm from "../../components/SignUpForm/SignUpForm";
import SignInForm from "../../components/SignInForm/SignInForm";

import "./Authentication.scss";

const Authentication = () => {
  return (
    <div className="authentication-container">
      <SignInForm />
      <SignUpForm />
    </div>
  );
};

export default Authentication;
```

### src/routes/Authentication/Authentication.scss:

```css
.authentication-container {
  display: flex;
  width: 900px;
  justify-content: space-between;
  margin: 30px auto;
}
```

### src/components/SignInForm/SignInForm.jsx:

```js
import { useState } from "react";

import {
  signInWithGooglePopup,
  signInAuthUserWithEmailAndPassword,
  createUserDocumentFromAuth,
} from "../../utils/firebase/firebase";

import FormInput from "../FormInput/FormInput";
import Button from "../Button/Button";
import "./SignInForm.scss";

const defaultFormFields = {
  email: "",
  password: "",
};

const SignInForm = () => {
  const [formFields, setFormFields] = useState(defaultFormFields);

  const { email, password } = formFields;

  const handleChange = (event) => {
    const { name, value } = event.target;
    setFormFields({ ...formFields, [name]: value });
  };

  const resetFormFields = () => {
    setFormFields(defaultFormFields);
  };

  const signInWithGoogle = async () => {
    const { user } = await signInWithGooglePopup();
    await createUserDocumentFromAuth(user);
  };

  const handleSubmit = async (event) => {
    event.preventDefault();
    if (!email || !password) {
      return;
    }

    try {
      const response = await signInAuthUserWithEmailAndPassword(
        email,
        password
      );
      console.log(response);
      resetFormFields();
    } catch (error) {
      // if (error.code === "auth/wrong-password") {
      //   alert("incorrect password for email");
      // }
      switch (error.code) {
        case "auth/wrong-password":
          alert("incorrect password for email");
          break;
        case "auth/user-not-found":
          alert("No User with this email");
          break;
        default:
          console.log(error);
      }
    }
  };

  return (
    <div className="sign-up-container">
      <h2>Already have an account?</h2>
      <span>Sign in with your email and password.</span>
      <form onSubmit={handleSubmit}>
        <FormInput
          label="Email"
          type="email"
          required
          onChange={handleChange}
          name="email"
          value={email}
          id="sign_in_email"
        />
        <FormInput
          label="Password"
          type="password"
          required
          onChange={handleChange}
          name="password"
          value={password}
          id="sign_in_password"
        />

        <div className="buttons-container">
          <Button buttonType="" type="submit">
            Sign In
          </Button>
          <Button buttonType="google" type="button" onClick={signInWithGoogle}>
            Google sign in
          </Button>
        </div>
      </form>
    </div>
  );
};

export default SignInForm;
```

# #End

</details>

+REACT CONTEXT

<details>
  <summary>53. React Context - Create User Context for Sign In Auth </summary>

# Create User Context for Sign In Auth

![](https://github.com/omeatai/React-Tutorial/assets/32337103/0f76285e-f4fe-4693-8296-9f5a16790c85)
![](https://github.com/omeatai/React-Tutorial/assets/32337103/d4e6e8cd-4b85-4db1-8131-b740bbce4d83)

### crwn-clothing/src/contexts/userContext.jsx:

```js
import React, { createContext, useState } from "react";

// as the actual value you want to access
export const UserContext = createContext({
  currentUser: null,
  setCurrentUser: () => null,
});

export const UserProvider = ({ children }) => {
  const [currentUser, setCurrentUser] = useState(null);
  const value = { currentUser, setCurrentUser };

  return <UserContext.Provider value={value}>{children}</UserContext.Provider>;
};
```

### crwn-clothing/src/index.js:

```js
import React from "react";
import ReactDOM from "react-dom/client";
import { BrowserRouter } from "react-router-dom";

import App from "./App";
import { UserProvider } from "./contexts/userContext";

import "./index.scss";

const root = ReactDOM.createRoot(document.getElementById("root"));
root.render(
  <React.StrictMode>
    <BrowserRouter>
      <UserProvider>
        <App />
      </UserProvider>
    </BrowserRouter>
  </React.StrictMode>
);
```

### crwn-clothing/src/components/SignInForm/SignInForm.jsx:

```js
import { useState, useContext } from "react";

import { UserContext } from "../../contexts/userContext";

import {
  signInWithGooglePopup,
  signInAuthUserWithEmailAndPassword,
  createUserDocumentFromAuth,
} from "../../utils/firebase/firebase";

import FormInput from "../FormInput/FormInput";
import Button from "../Button/Button";
import "./SignInForm.scss";

const defaultFormFields = {
  email: "",
  password: "",
};

const SignInForm = () => {
  const [formFields, setFormFields] = useState(defaultFormFields);
  const { email, password } = formFields;

  const { setCurrentUser } = useContext(UserContext);

  const handleChange = (event) => {
    const { name, value } = event.target;
    setFormFields({ ...formFields, [name]: value });
  };

  const resetFormFields = () => {
    setFormFields(defaultFormFields);
  };

  // Sign in with Google account
  const signInWithGoogle = async () => {
    try {
      const { user } = await signInWithGooglePopup();
      if (user) {
        setCurrentUser(user);
        // console.log(user);
      } else {
        console.log("User is not authenticated. Token Invalid!");
      }
      // await createUserDocumentFromAuth(user);
    } catch (error) {
      console.log(error.code, error.message);
    }
  };

  // Sign in with Auth User With Email And Password
  const handleSubmit = async (event) => {
    event.preventDefault();
    if (!email || !password) {
      alert("Both Username and Password are Required!");
      return;
    }

    try {
      const { user } = await signInAuthUserWithEmailAndPassword(
        email,
        password
      );
      if (user) {
        setCurrentUser(user);
        // console.log(user);
      }
      resetFormFields();
    } catch (error) {
      switch (error.code) {
        case "auth/wrong-password":
          alert("Username or Password is Invalid!");
          break;
        case "auth/user-not-found":
          alert("Username or Password is Invalid!");
          break;
        default:
          console.log(error);
      }
    }
  };

  return (
    <div className="sign-up-container">
      <h2>Already have an account?</h2>
      <span>Sign in with your email and password.</span>
      <form onSubmit={handleSubmit}>
        <FormInput
          label="Email"
          type="email"
          required
          onChange={handleChange}
          name="email"
          value={email}
          id="sign_in_email"
        />
        <FormInput
          label="Password"
          type="password"
          required
          onChange={handleChange}
          name="password"
          value={password}
          id="sign_in_password"
        />

        <div className="buttons-container">
          <Button buttonType="" type="submit">
            Sign In
          </Button>
          <Button buttonType="google" type="button" onClick={signInWithGoogle}>
            Google sign in
          </Button>
        </div>
      </form>
    </div>
  );
};

export default SignInForm;
```

### crwn-clothing/src/routes/Navigation/Navigation.jsx:

```js
import React, { Fragment, useContext } from "react";
import { Outlet, Link } from "react-router-dom";

import { ReactComponent as CrwnLogo } from "../../assets/crown.svg";
import { UserContext } from "../../contexts/userContext";

import "./Navigation.scss";

const Navigation = () => {
  const { currentUser } = useContext(UserContext);
  console.log(currentUser);

  return (
    <Fragment>
      <div className="navigation">
        <Link className="logo-container" to="/">
          <CrwnLogo className="logo" />
        </Link>
        <div className="nav-links-container">
          <Link className="nav-link" to="/home">
            HOME
          </Link>
          <Link className="nav-link" to="/shop">
            SHOP
          </Link>
          <Link className="nav-link" to="/auth">
            SIGN IN
          </Link>
          <Link className="nav-link" to="/home">
            {/* WELCOME, {currentUser ? currentUser.displayName : "VISITOR"} */}
            WELCOME,
          </Link>
        </div>
      </div>
      <Outlet />
    </Fragment>
  );
};

export default Navigation;
```

### crwn-clothing/src/components/SignUpForm/SignUpForm.jsx:

```js
import React, { useState } from "react";

import {
  createAuthUserWithEmailAndPassword,
  createUserDocumentFromAuth,
} from "../../utils/firebase/firebase";

import FormInput from "../FormInput/FormInput";
import Button from "../Button/Button";
import "./SignUpForm.scss";

const defaultFormFields = {
  displayName: "",
  email: "",
  password: "",
  confirmPassword: "",
};

const SignUpForm = () => {
  const [formFields, setFormFields] = useState(defaultFormFields);

  const { displayName, email, password, confirmPassword } = formFields;

  const handleChange = (event) => {
    const { name, value } = event.target;
    setFormFields({ ...formFields, [name]: value });
  };

  const resetFormFields = () => {
    setFormFields(defaultFormFields);
  };

  const handleSubmit = async (event) => {
    event.preventDefault();
    console.log({ displayName, email, password, confirmPassword });

    if (!email || !password) {
      return;
    }
    if (password !== confirmPassword) {
      alert("Passwords do not match");
      return;
    }
    try {
      const user = await createAuthUserWithEmailAndPassword(email, password);
      console.log("user: ", user);

      const userAuth = { ...user.user, displayName };
      console.log("userAuth: ", userAuth);

      const dbUser = await createUserDocumentFromAuth(userAuth);
      console.log("dbUser: ", dbUser);

      resetFormFields();
    } catch (err) {
      if (err.code === "auth/email-already-in-use") {
        alert("Cannot create user, email already in use");
        return;
      } else {
        console.log("user creation encountered an error", err);
        return;
      }
    }
  };

  return (
    <div className="sign-up-container">
      <h2>Don't have an account?</h2>
      <span>Sign up with your email and password.</span>
      <form onSubmit={handleSubmit}>
        <FormInput
          label="Display Name"
          type="text"
          required
          onChange={handleChange}
          name="displayName"
          value={displayName}
          id="displayName"
        />
        <FormInput
          label="Email"
          type="email"
          required
          onChange={handleChange}
          name="email"
          value={email}
          id="email"
        />
        <FormInput
          label="Password"
          type="password"
          required
          onChange={handleChange}
          name="password"
          value={password}
          id="password"
        />
        <FormInput
          label="Confirm Password"
          type="password"
          required
          onChange={handleChange}
          name="confirmPassword"
          value={confirmPassword}
          id="confirmPassword"
        />

        <Button buttonType="" type="submit">
          Sign Up
        </Button>
      </form>
    </div>
  );
};

export default SignUpForm;
```

# #End

</details>

<details>
  <summary>54. React Context - Create User Context Logic for Sign Out Auth </summary>

# Create User Context for Sign Out Auth

![](https://github.com/omeatai/React-Tutorial/assets/32337103/f357e0c4-b58f-4670-9f95-6ffe3c664f1f)
![](https://github.com/omeatai/React-Tutorial/assets/32337103/1440e202-a370-48d0-a8ae-aedb9b2f6926)

### crwn-clothing/src/utils/firebase/firebase.js:

```jsbs
export const signOutUser = async () => await signOut(auth);
```

```js
// Import the functions you need from the SDKs you need
import { initializeApp } from "firebase/app";
import {
  getAuth,
  signInWithRedirect,
  signInWithPopup,
  GoogleAuthProvider,
  createUserWithEmailAndPassword,
  signInWithEmailAndPassword,
  signOut,
} from "firebase/auth";

import { getFirestore, doc, getDoc, setDoc } from "firebase/firestore";

// Your web app's Firebase configuration
const firebaseConfig = {
  apiKey: "",
  authDomain: "",
  projectId: "",
  storageBucket: "",
  messagingSenderId: "",
  appId: "",
};

// Initialize Firebase
const firebaseApp = initializeApp(firebaseConfig);

// Google Provider Authentication
const googleProvider = new GoogleAuthProvider();

googleProvider.setCustomParameters({
  prompt: "select_account",
});

export const auth = getAuth();
export const signInWithGooglePopup = () =>
  signInWithPopup(auth, googleProvider);
export const signInWithGoogleRedirect = () =>
  signInWithRedirect(auth, googleProvider);

//Check if the user record (document) exists in Firebase
export const db = getFirestore();

export const createUserDocumentFromAuth = async (userAuth) => {
  if (!userAuth) {
    return;
  }

  // Get reference to user uid in the "users" table/collection
  const userDocRef = doc(db, "users", userAuth.uid);

  // get the user record (document) in the "users" table/collection
  const userSnapshot = await getDoc(userDocRef);

  // Checks if record (document) exists
  //   console.log(userSnapshot.exists());

  if (!userSnapshot.exists()) {
    //create a new user record/document in the "users" table/collection
    const { displayName, email } = userAuth;
    const createdAt = new Date();
    try {
      await setDoc(userDocRef, {
        displayName,
        email,
        createdAt,
      });
    } catch (error) {
      console.log("error creating the user", error.message);
    }
  } else {
    // console.log("User exists in database");
    console.log(userSnapshot);
  }
  return userDocRef;
};

export const createAuthUserWithEmailAndPassword = async (email, password) => {
  if (!email || !password) {
    return;
  }
  return await createUserWithEmailAndPassword(auth, email, password);
};

export const signInAuthUserWithEmailAndPassword = async (email, password) => {
  if (!email || !password) {
    return;
  }
  return await signInWithEmailAndPassword(auth, email, password);
};

export const signOutUser = async () => await signOut(auth);
```

### crwn-clothing/src/routes/Navigation/Navigation.jsx:

```js
import React, { Fragment, useContext } from "react";
import { Outlet, Link } from "react-router-dom";

import { ReactComponent as CrwnLogo } from "../../assets/crown.svg";
import { UserContext } from "../../contexts/userContext";

import { signOutUser } from "../../utils/firebase/firebase";

import "./Navigation.scss";

const Navigation = () => {
  const { currentUser, setCurrentUser } = useContext(UserContext);

  const getEmailUsername = (email) => {
    const re = /(.*)@.+/;
    return email.replace(re, "$1").toUpperCase();
  };

  const signOutHandler = async () => {
    await signOutUser();
    setCurrentUser(null);
  };

  return (
    <Fragment>
      <div className="navigation">
        <Link className="logo-container" to="/">
          <CrwnLogo className="logo" />
        </Link>
        <div className="nav-links-container">
          <Link className="nav-link" to="/home">
            HOME
          </Link>
          <Link className="nav-link" to="/shop">
            SHOP
          </Link>
          {currentUser ? (
            <Link className="nav-link" to="#" onClick={signOutHandler}>
              SIGN OUT
            </Link>
          ) : (
            <Link className="nav-link" to="/auth">
              SIGN IN
            </Link>
          )}
          {currentUser ? (
            <Link className="nav-link" to="#">
              <strong>Welcome, {getEmailUsername(currentUser.email)}!</strong>
            </Link>
          ) : null}
        </div>
      </div>
      <Outlet />
    </Fragment>
  );
};

export default Navigation;
```

### crwn-clothing/src/contexts/userContext.jsx:

```js
import React, { createContext, useState } from "react";

// as the actual value you want to access
export const UserContext = createContext({
  currentUser: null,
  setCurrentUser: () => null,
});

export const UserProvider = ({ children }) => {
  const [currentUser, setCurrentUser] = useState(null);
  const value = { currentUser, setCurrentUser };

  return <UserContext.Provider value={value}>{children}</UserContext.Provider>;
};
```

### crwn-clothing/src/components/SignInForm/SignInForm.jsx:

```js
import { useState, useContext } from "react";

import { UserContext } from "../../contexts/userContext";

import {
  signInWithGooglePopup,
  signInAuthUserWithEmailAndPassword,
  createUserDocumentFromAuth,
} from "../../utils/firebase/firebase";

import FormInput from "../FormInput/FormInput";
import Button from "../Button/Button";
import "./SignInForm.scss";

const defaultFormFields = {
  email: "",
  password: "",
};

const SignInForm = () => {
  const [formFields, setFormFields] = useState(defaultFormFields);
  const { email, password } = formFields;

  const { setCurrentUser } = useContext(UserContext);

  const handleChange = (event) => {
    const { name, value } = event.target;
    setFormFields({ ...formFields, [name]: value });
  };

  const resetFormFields = () => {
    setFormFields(defaultFormFields);
  };

  // Sign in with Google account
  const signInWithGoogle = async () => {
    try {
      const { user } = await signInWithGooglePopup();
      if (user) {
        setCurrentUser(user);
        // console.log(user);
      } else {
        console.log("User is not authenticated. Token Invalid!");
      }
      await createUserDocumentFromAuth(user);
    } catch (error) {
      console.log(error.code, error.message);
    }
  };

  // Sign in with Auth User With Email And Password
  const handleSubmit = async (event) => {
    event.preventDefault();
    if (!email || !password) {
      alert("Both Username and Password are Required!");
      return;
    }

    try {
      const { user } = await signInAuthUserWithEmailAndPassword(
        email,
        password
      );
      if (user) {
        setCurrentUser(user);
        // console.log(user);
      }
      resetFormFields();
    } catch (error) {
      switch (error.code) {
        case "auth/wrong-password":
          alert("Username or Password is Invalid!");
          break;
        case "auth/user-not-found":
          alert("Username or Password is Invalid!");
          break;
        default:
          console.log(error);
      }
    }
  };

  return (
    <div className="sign-up-container">
      <h2>Already have an account?</h2>
      <span>Sign in with your email and password.</span>
      <form onSubmit={handleSubmit}>
        <FormInput
          label="Email"
          type="email"
          required
          onChange={handleChange}
          name="email"
          value={email}
          id="sign_in_email"
        />
        <FormInput
          label="Password"
          type="password"
          required
          onChange={handleChange}
          name="password"
          value={password}
          id="sign_in_password"
        />

        <div className="buttons-container">
          <Button buttonType="" type="submit">
            Sign In
          </Button>
          <Button buttonType="google" type="button" onClick={signInWithGoogle}>
            Google sign in
          </Button>
        </div>
      </form>
    </div>
  );
};

export default SignInForm;
```

### crwn-clothing/src/components/SignUpForm/SignUpForm.jsx:

```js
import React, { useState, useContext } from "react";
import { UserContext } from "../../contexts/userContext";

import {
  createAuthUserWithEmailAndPassword,
  createUserDocumentFromAuth,
} from "../../utils/firebase/firebase";

import FormInput from "../FormInput/FormInput";
import Button from "../Button/Button";
import "./SignUpForm.scss";

const defaultFormFields = {
  displayName: "",
  email: "",
  password: "",
  confirmPassword: "",
};

const SignUpForm = () => {
  const [formFields, setFormFields] = useState(defaultFormFields);

  const { displayName, email, password, confirmPassword } = formFields;

  const { setCurrentUser } = useContext(UserContext);

  const handleChange = (event) => {
    const { name, value } = event.target;
    setFormFields({ ...formFields, [name]: value });
  };

  const resetFormFields = () => {
    setFormFields(defaultFormFields);
  };

  const handleSubmit = async (event) => {
    event.preventDefault();
    console.log({ displayName, email, password, confirmPassword });

    if (!email || !password) {
      return;
    }
    if (password !== confirmPassword) {
      alert("Passwords do not match");
      return;
    }
    try {
      const { user } = await createAuthUserWithEmailAndPassword(
        email,
        password
      );

      setCurrentUser(user);

      await createUserDocumentFromAuth(user, { displayName });
      resetFormFields();
    } catch (err) {
      if (err.code === "auth/email-already-in-use") {
        alert("Cannot create user, email already in use");
        return;
      } else {
        console.log("user creation encountered an error", err);
        return;
      }
    }
  };

  return (
    <div className="sign-up-container">
      <h2>Don't have an account?</h2>
      <span>Sign up with your email and password.</span>
      <form onSubmit={handleSubmit}>
        <FormInput
          label="Display Name"
          type="text"
          required
          onChange={handleChange}
          name="displayName"
          value={displayName}
          id="displayName"
        />
        <FormInput
          label="Email"
          type="email"
          required
          onChange={handleChange}
          name="email"
          value={email}
          id="email"
        />
        <FormInput
          label="Password"
          type="password"
          required
          onChange={handleChange}
          name="password"
          value={password}
          id="password"
        />
        <FormInput
          label="Confirm Password"
          type="password"
          required
          onChange={handleChange}
          name="confirmPassword"
          value={confirmPassword}
          id="confirmPassword"
        />

        <Button buttonType="" type="submit">
          Sign Up
        </Button>
      </form>
    </div>
  );
};

export default SignUpForm;
```

# #End

</details>

<details>
  <summary>55. React Context - Create Firebase Observer for onAuthStateChange Listener </summary>

# Create Firebase Observer for onAuthStateChange Listener

![](https://github.com/omeatai/React-Tutorial/assets/32337103/a3d5699f-742b-4fcc-873d-4f0478651671)
![](https://github.com/omeatai/React-Tutorial/assets/32337103/32df1bf6-1a44-41bb-b58e-360c37b29a56)
![](https://github.com/omeatai/React-Tutorial/assets/32337103/ca93f094-f26b-4710-b186-1df216102b28)
![](https://github.com/omeatai/React-Tutorial/assets/32337103/5605cfd1-8f8e-4f3d-a751-67b07a91d83d)

### crwn-clothing/src/contexts/userContext.jsx:

```js
import React, { createContext, useState, useEffect } from "react";

import {
  onAuthStateChangedListener,
  createUserDocumentFromAuth,
} from "../utils/firebase/firebase";

// as the actual value you want to access
export const UserContext = createContext({
  currentUser: null,
  setCurrentUser: () => null,
});

export const UserProvider = ({ children }) => {
  const [currentUser, setCurrentUser] = useState(null);
  const value = { currentUser, setCurrentUser };

  useEffect(() => {
    const unsubscribe = onAuthStateChangedListener((user) => {
      if (user) {
        createUserDocumentFromAuth(user);
      }
      setCurrentUser(user);
      console.log(user);
    });

    return unsubscribe;
  }, []);

  return <UserContext.Provider value={value}>{children}</UserContext.Provider>;
};
```

### crwn-clothing/src/utils/firebase/firebase.js:

```js
// Import the functions you need from the SDKs you need
import { initializeApp } from "firebase/app";
import {
  getAuth,
  signInWithRedirect,
  signInWithPopup,
  GoogleAuthProvider,
  createUserWithEmailAndPassword,
  signInWithEmailAndPassword,
  signOut,
  onAuthStateChanged,
} from "firebase/auth";

import { getFirestore, doc, getDoc, setDoc } from "firebase/firestore";

// Your web app's Firebase configuration
const firebaseConfig = {
  apiKey: "",
  authDomain: "",
  projectId: "",
  storageBucket: "",
  messagingSenderId: "",
  appId: "",
};

// Initialize Firebase
const firebaseApp = initializeApp(firebaseConfig);

// Google Provider Authentication
const googleProvider = new GoogleAuthProvider();

googleProvider.setCustomParameters({
  prompt: "select_account",
});

export const auth = getAuth();
export const signInWithGooglePopup = () =>
  signInWithPopup(auth, googleProvider);
export const signInWithGoogleRedirect = () =>
  signInWithRedirect(auth, googleProvider);

//Check if the user record (document) exists in Firebase
export const db = getFirestore();

export const createUserDocumentFromAuth = async (userAuth) => {
  if (!userAuth) {
    return;
  }

  // Get reference to user uid in the "users" table/collection
  const userDocRef = doc(db, "users", userAuth.uid);

  // get the user record (document) in the "users" table/collection
  const userSnapshot = await getDoc(userDocRef);

  // Checks if record (document) exists
  //   console.log(userSnapshot.exists());

  if (!userSnapshot.exists()) {
    //create a new user record/document in the "users" table/collection
    const { displayName, email } = userAuth;
    const createdAt = new Date();
    try {
      await setDoc(userDocRef, {
        displayName,
        email,
        createdAt,
      });
    } catch (error) {
      console.log("error creating the user", error.message);
    }
  } else {
    // console.log("User exists in database");
    console.log(userSnapshot);
  }
  return userDocRef;
};

export const createAuthUserWithEmailAndPassword = async (email, password) => {
  if (!email || !password) {
    return;
  }
  return await createUserWithEmailAndPassword(auth, email, password);
};

export const signInAuthUserWithEmailAndPassword = async (email, password) => {
  if (!email || !password) {
    return;
  }
  return await signInWithEmailAndPassword(auth, email, password);
};

export const signOutUser = async () => await signOut(auth);

export const onAuthStateChangedListener = (callback) =>
  onAuthStateChanged(auth, callback);
```

#### crwn-clothing/src/components/SignInForm/SignInForm.jsx:

```js
import { useState, useContext } from "react";

// import { UserContext } from "../../contexts/userContext";

import {
  signInWithGooglePopup,
  signInAuthUserWithEmailAndPassword,
} from "../../utils/firebase/firebase";

import FormInput from "../FormInput/FormInput";
import Button from "../Button/Button";
import "./SignInForm.scss";

const defaultFormFields = {
  email: "",
  password: "",
};

const SignInForm = () => {
  const [formFields, setFormFields] = useState(defaultFormFields);
  const { email, password } = formFields;

  // const { setCurrentUser } = useContext(UserContext);

  const handleChange = (event) => {
    const { name, value } = event.target;
    setFormFields({ ...formFields, [name]: value });
  };

  const resetFormFields = () => {
    setFormFields(defaultFormFields);
  };

  // Sign in with Google account
  const signInWithGoogle = async () => {
    try {
      await signInWithGooglePopup();
      // const { user } = await signInWithGooglePopup();
      // await createUserDocumentFromAuth(user);
    } catch (error) {
      console.log(error.code, error.message);
    }
  };

  // Sign in with Auth User With Email And Password
  const handleSubmit = async (event) => {
    event.preventDefault();
    if (!email || !password) {
      alert("Both Username and Password are Required!");
      return;
    }

    try {
      const { user } = await signInAuthUserWithEmailAndPassword(
        email,
        password
      );
      if (user) {
        // setCurrentUser(user);
      }
      resetFormFields();
    } catch (error) {
      switch (error.code) {
        case "auth/wrong-password":
          alert("Username or Password is Invalid!");
          break;
        case "auth/user-not-found":
          alert("Username or Password is Invalid!");
          break;
        default:
          console.log(error);
      }
    }
  };

  return (
    <div className="sign-up-container">
      <h2>Already have an account?</h2>
      <span>Sign in with your email and password.</span>
      <form onSubmit={handleSubmit}>
        <FormInput
          label="Email"
          type="email"
          required
          onChange={handleChange}
          name="email"
          value={email}
          id="sign_in_email"
        />
        <FormInput
          label="Password"
          type="password"
          required
          onChange={handleChange}
          name="password"
          value={password}
          id="sign_in_password"
        />

        <div className="buttons-container">
          <Button buttonType="" type="submit">
            Sign In
          </Button>
          <Button buttonType="google" type="button" onClick={signInWithGoogle}>
            Google sign in
          </Button>
        </div>
      </form>
    </div>
  );
};

export default SignInForm;
```

### crwn-clothing/src/components/SignUpForm/SignUpForm.jsx:

```js
import React, { useState } from "react";
// import { UserContext } from "../../contexts/userContext";

import {
  createAuthUserWithEmailAndPassword,
  createUserDocumentFromAuth,
} from "../../utils/firebase/firebase";

import FormInput from "../FormInput/FormInput";
import Button from "../Button/Button";
import "./SignUpForm.scss";

const defaultFormFields = {
  displayName: "",
  email: "",
  password: "",
  confirmPassword: "",
};

const SignUpForm = () => {
  const [formFields, setFormFields] = useState(defaultFormFields);

  const { displayName, email, password, confirmPassword } = formFields;

  // const { setCurrentUser } = useContext(UserContext);

  const handleChange = (event) => {
    const { name, value } = event.target;
    setFormFields({ ...formFields, [name]: value });
  };

  const resetFormFields = () => {
    setFormFields(defaultFormFields);
  };

  const handleSubmit = async (event) => {
    event.preventDefault();
    console.log({ displayName, email, password, confirmPassword });

    if (!email || !password) {
      return;
    }
    if (password !== confirmPassword) {
      alert("Passwords do not match");
      return;
    }
    try {
      const { user } = await createAuthUserWithEmailAndPassword(
        email,
        password
      );

      // setCurrentUser(user);

      await createUserDocumentFromAuth(user, { displayName });
      resetFormFields();
    } catch (err) {
      if (err.code === "auth/email-already-in-use") {
        alert("Cannot create user, email already in use");
        return;
      } else {
        console.log("user creation encountered an error", err);
        return;
      }
    }
  };

  return (
    <div className="sign-up-container">
      <h2>Don't have an account?</h2>
      <span>Sign up with your email and password.</span>
      <form onSubmit={handleSubmit}>
        <FormInput
          label="Display Name"
          type="text"
          required
          onChange={handleChange}
          name="displayName"
          value={displayName}
          id="displayName"
        />
        <FormInput
          label="Email"
          type="email"
          required
          onChange={handleChange}
          name="email"
          value={email}
          id="email"
        />
        <FormInput
          label="Password"
          type="password"
          required
          onChange={handleChange}
          name="password"
          value={password}
          id="password"
        />
        <FormInput
          label="Confirm Password"
          type="password"
          required
          onChange={handleChange}
          name="confirmPassword"
          value={confirmPassword}
          id="confirmPassword"
        />

        <Button buttonType="" type="submit">
          Sign Up
        </Button>
      </form>
    </div>
  );
};

export default SignUpForm;
```

### crwn-clothing/src/routes/Navigation/Navigation.jsx:

```js
import React, { Fragment, useContext } from "react";
import { Outlet, Link } from "react-router-dom";

import { ReactComponent as CrwnLogo } from "../../assets/crown.svg";
import { UserContext } from "../../contexts/userContext";

import { signOutUser } from "../../utils/firebase/firebase";

import "./Navigation.scss";

const Navigation = () => {
  const { currentUser } = useContext(UserContext);

  const getEmailUsername = (email) => {
    const re = /(.*)@.+/;
    return email.replace(re, "$1").toUpperCase();
  };

  // const signOutHandler = async () => {
  //   await signOutUser();
  //   setCurrentUser(null);
  // };

  return (
    <Fragment>
      <div className="navigation">
        <Link className="logo-container" to="/">
          <CrwnLogo className="logo" />
        </Link>
        <div className="nav-links-container">
          <Link className="nav-link" to="/home">
            HOME
          </Link>
          <Link className="nav-link" to="/shop">
            SHOP
          </Link>
          {currentUser ? (
            <Link className="nav-link" to="#" onClick={signOutUser}>
              SIGN OUT
            </Link>
          ) : (
            <Link className="nav-link" to="/auth">
              SIGN IN
            </Link>
          )}
          {currentUser ? (
            <Link className="nav-link" to="#">
              <strong>Welcome, {getEmailUsername(currentUser.email)}!</strong>
            </Link>
          ) : null}
        </div>
      </div>
      <Outlet />
    </Fragment>
  );
};

export default Navigation;
```

# #End

</details>

<details>
  <summary>56. React Context - Create Shop Page </summary>

# Create Shop Page

![](https://github.com/omeatai/React-Tutorial/assets/32337103/7c97f298-0281-45e0-a259-8afe3cdb180a)
![](https://github.com/omeatai/React-Tutorial/assets/32337103/a626a579-3325-4623-aae4-3d8657fd6af2)

### crwn-clothing/src/data/shop-data.json:

```js
[
  {
    id: 1,
    name: "Brown Brim",
    imageUrl: "https://i.ibb.co/ZYW3VTp/brown-brim.png",
    price: 25,
  },
  {
    id: 2,
    name: "Blue Beanie",
    imageUrl: "https://i.ibb.co/ypkgK0X/blue-beanie.png",
    price: 18,
  },
  {
    id: 3,
    name: "Brown Cowboy",
    imageUrl: "https://i.ibb.co/QdJwgmp/brown-cowboy.png",
    price: 35,
  },
  {
    id: 4,
    name: "Grey Brim",
    imageUrl: "https://i.ibb.co/RjBLWxB/grey-brim.png",
    price: 25,
  },
  {
    id: 5,
    name: "Green Beanie",
    imageUrl: "https://i.ibb.co/YTjW3vF/green-beanie.png",
    price: 18,
  },
  {
    id: 6,
    name: "Palm Tree Cap",
    imageUrl: "https://i.ibb.co/rKBDvJX/palm-tree-cap.png",
    price: 14,
  },
  {
    id: 7,
    name: "Red Beanie",
    imageUrl: "https://i.ibb.co/bLB646Z/red-beanie.png",
    price: 18,
  },
  {
    id: 8,
    name: "Wolf Cap",
    imageUrl: "https://i.ibb.co/1f2nWMM/wolf-cap.png",
    price: 14,
  },
  {
    id: 9,
    name: "Blue Snapback",
    imageUrl: "https://i.ibb.co/X2VJP2W/blue-snapback.png",
    price: 16,
  },
];
```

### crwn-clothing/src/App.js:

```js
import "./App.scss";
import { Routes, Route } from "react-router-dom";
import Home from "./routes/Home/Home";
import Shop from "./routes/Shop/Shop";
import Navigation from "./routes/Navigation/Navigation";
import Authentication from "./routes/Authentication/Authentication";

const App = () => {
  return (
    <Routes>
      <Route path="/" element={<Navigation />}>
        <Route path="home" element={<Home />} />
        <Route path="shop" element={<Shop />} />
        <Route path="auth" element={<Authentication />} />
        <Route path="/" element={<Home />} />
      </Route>
    </Routes>
  );
};

export default App;
```

### crwn-clothing/src/routes/Shop/Shop.jsx:

```js
import React from "react";
import SHOP_DATA from "../../data/shop-data.json";

const Shop = () => {
  return (
    <div>
      <h1>This is the Shop Page</h1>
      <div>
        {SHOP_DATA.map(({ id, name, price, imageUrl }) => (
          <div key={id}>
            <h2>
              {id}. {name}
            </h2>
            <h3>Price: {price} </h3>
            <img src={imageUrl} alt="product" width={"200px"}></img>
          </div>
        ))}
      </div>
    </div>
  );
};

export default Shop;
```

# #End

</details>

<details>
  <summary>57. React Context - Create Products Context </summary>

# Create Products Context

![](https://github.com/omeatai/React-Tutorial/assets/32337103/86408cc9-a96f-484f-a15a-f353ad7750c7)
![](https://github.com/omeatai/React-Tutorial/assets/32337103/271ba94f-2886-4102-a788-f4fa3c286162)

### crwn-clothing/src/contexts/productsContext.jsx:

```js
import React, { createContext, useState, useEffect } from "react";
import PRODUCTS from "../data/shop-data.json";

// as the actual value you want to access
export const ProductsContext = createContext({
  products: null,
  setProducts: () => null,
});

export const ProductsProvider = ({ children }) => {
  const [products, setProducts] = useState(PRODUCTS);
  const value = { products, setProducts };

  return (
    <ProductsContext.Provider value={value}>
      {children}
    </ProductsContext.Provider>
  );
};
```

### crwn-clothing/src/data/shop-data.json:

```js
[
  {
    id: 1,
    name: "Brown Brim",
    imageUrl: "https://i.ibb.co/ZYW3VTp/brown-brim.png",
    price: 25,
  },
  {
    id: 2,
    name: "Blue Beanie",
    imageUrl: "https://i.ibb.co/ypkgK0X/blue-beanie.png",
    price: 18,
  },
  {
    id: 3,
    name: "Brown Cowboy",
    imageUrl: "https://i.ibb.co/QdJwgmp/brown-cowboy.png",
    price: 35,
  },
  {
    id: 4,
    name: "Grey Brim",
    imageUrl: "https://i.ibb.co/RjBLWxB/grey-brim.png",
    price: 25,
  },
  {
    id: 5,
    name: "Green Beanie",
    imageUrl: "https://i.ibb.co/YTjW3vF/green-beanie.png",
    price: 18,
  },
  {
    id: 6,
    name: "Palm Tree Cap",
    imageUrl: "https://i.ibb.co/rKBDvJX/palm-tree-cap.png",
    price: 14,
  },
  {
    id: 7,
    name: "Red Beanie",
    imageUrl: "https://i.ibb.co/bLB646Z/red-beanie.png",
    price: 18,
  },
  {
    id: 8,
    name: "Wolf Cap",
    imageUrl: "https://i.ibb.co/1f2nWMM/wolf-cap.png",
    price: 14,
  },
  {
    id: 9,
    name: "Blue Snapback",
    imageUrl: "https://i.ibb.co/X2VJP2W/blue-snapback.png",
    price: 16,
  },
];
```

### crwn-clothing/src/index.js:

```js
import React from "react";
import ReactDOM from "react-dom/client";
import { BrowserRouter } from "react-router-dom";

import App from "./App";
import { UserProvider } from "./contexts/userContext";
import { ProductsProvider } from "./contexts/productsContext";

import "./index.scss";

const root = ReactDOM.createRoot(document.getElementById("root"));
root.render(
  <React.StrictMode>
    <BrowserRouter>
      <UserProvider>
        <ProductsProvider>
          <App />
        </ProductsProvider>
      </UserProvider>
    </BrowserRouter>
  </React.StrictMode>
);
```

### crwn-clothing/src/App.js:

```js
import "./App.scss";
import { Routes, Route } from "react-router-dom";
import Home from "./routes/Home/Home";
import Shop from "./routes/Shop/Shop";
import Navigation from "./routes/Navigation/Navigation";
import Authentication from "./routes/Authentication/Authentication";

const App = () => {
  return (
    <Routes>
      <Route path="/" element={<Navigation />}>
        <Route path="home" element={<Home />} />
        <Route path="shop" element={<Shop />} />
        <Route path="auth" element={<Authentication />} />
        <Route path="/" element={<Home />} />
      </Route>
    </Routes>
  );
};

export default App;
```

### crwn-clothing/src/routes/Shop/Shop.jsx:

```js
import React, { useContext } from "react";
import { ProductsContext } from "../../contexts/productsContext";

const Shop = () => {
  const { products } = useContext(ProductsContext);

  return (
    <div>
      <h1>This is the Shop Page</h1>
      <div>
        {products.map(({ id, name, price, imageUrl }) => (
          <div key={id}>
            <h2>
              {id}. {name}
            </h2>
            <h3>Price: {price} </h3>
            <img src={imageUrl} alt="product" width={"200px"}></img>
          </div>
        ))}
      </div>
    </div>
  );
};

export default Shop;
```

# #End

</details>

<details>
  <summary>58. React Context - Create Product Card Component </summary>

# Create Product Card Component

![](https://github.com/omeatai/React-Tutorial/assets/32337103/487c987b-b218-487d-b778-e26e520de54c)
![](https://github.com/omeatai/React-Tutorial/assets/32337103/0baac29c-ae7d-4e6c-bfc5-c1fc053bebda)

### crwn-clothing/src/routes/Shop/Shop.jsx:

```js
import React, { useContext } from "react";
import { ProductsContext } from "../../contexts/productsContext";
import ProductCard from "../../components/ProductCard/ProductCard";
import "./Shop.scss";

const Shop = () => {
  const { products } = useContext(ProductsContext);

  return (
    <div className="shop-container">
      {products.map((product) => (
        <ProductCard key={product.id} product={product} />
      ))}
    </div>
  );
};

export default Shop;
```

### crwn-clothing/src/routes/Shop/Shop.scss:

```css
.shop-container {
  display: grid;
  grid-template-columns: repeat(4, 1fr);
  column-gap: 10px;
  row-gap: 50px;
}
```

### crwn-clothing/src/components/ProductCard/ProductCard.jsx:

```js
import React from "react";
import Button from "../Button/Button";
import "./ProductCard.scss";

const ProductCard = ({ product }) => {
  const { name, price, imageUrl } = product;
  return (
    <div className="product-card-container">
      <img src={imageUrl} alt={`${name}`} />
      <div className="footer">
        <span className="name">{name}</span>
        <span className="price">{price}</span>
      </div>
      <Button buttonType="inverted">Add to Cart</Button>
    </div>
  );
};

export default ProductCard;
```

### crwn-clothing/src/components/ProductCard/ProductCard.scss:

```css
.product-card-container {
  width: 100%;
  display: flex;
  flex-direction: column;
  height: 350px;
  align-items: center;
  position: relative;

  img {
    width: 100%;
    height: 95%;
    object-fit: cover;
    margin-bottom: 5px;
  }

  button {
    width: 80%;
    opacity: 0.7;
    position: absolute;
    top: 255px;
    display: none;
  }

  &:hover {
    img {
      opacity: 0.8;
    }

    button {
      opacity: 0.85;
      display: flex;
    }
  }

  .footer {
    width: 100%;
    height: 5%;
    display: flex;
    justify-content: space-between;
    font-size: 18px;

    .name {
      width: 90%;
      margin-bottom: 15px;
    }

    .price {
      width: 10%;
    }
  }
}
```

# #End

</details>

<details>
  <summary>59. React Context - Create Cart Icon Dropdown </summary>

# Create Cart Icon Dropdown

![](https://github.com/omeatai/React-Tutorial/assets/32337103/46487e8c-bbf9-4f4f-bed9-bd01fe6bc054)
![](https://github.com/omeatai/React-Tutorial/assets/32337103/70a92ab8-3e69-4261-ae49-c4cef3f50b94)

### crwn-clothing/src/index.js:

```js
import React from "react";
import ReactDOM from "react-dom/client";
import { BrowserRouter } from "react-router-dom";

import App from "./App";
import { UserProvider } from "./contexts/userContext";
import { ProductsProvider } from "./contexts/productsContext";
import { CartProvider } from "./contexts/cartContext";

import "./index.scss";

const root = ReactDOM.createRoot(document.getElementById("root"));
root.render(
  <React.StrictMode>
    <BrowserRouter>
      <UserProvider>
        <ProductsProvider>
          <CartProvider>
            <App />
          </CartProvider>
        </ProductsProvider>
      </UserProvider>
    </BrowserRouter>
  </React.StrictMode>
);
```

### crwn-clothing/src/index.scss:

```css
body {
  margin: 0;
  padding: 20px 40px;
  font-family: "Roboto Condensed", sans-serif;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

code {
  font-family: source-code-pro, Menlo, Monaco, Consolas, "Courier New",
    monospace;
}

a {
  text-decoration: none;
  color: black;
}

* {
  box-sizing: border;
}
```

### crwn-clothing/src/contexts/cartContext.jsx:

```js
import React, { createContext, useState } from "react";

// as the actual value you want to access
export const CartContext = createContext({
  isCartOpen: false,
  setIsCartOpen: () => {},
});

export const CartProvider = ({ children }) => {
  const [isCartOpen, setIsCartOpen] = useState(false);
  const value = { isCartOpen, setIsCartOpen };

  return <CartContext.Provider value={value}>{children}</CartContext.Provider>;
};
```

### crwn-clothing/src/routes/Navigation/Navigation.jsx:

```js
import React, { Fragment, useContext } from "react";
import { Outlet, Link } from "react-router-dom";

import { ReactComponent as CrwnLogo } from "../../assets/crown.svg";
import { UserContext } from "../../contexts/userContext";
import { CartContext } from "../../contexts/cartContext";

import { signOutUser } from "../../utils/firebase/firebase";

import CartIcon from "../../components/CartIcon/CartIcon";
import CartDropDown from "../../components/CartDropDown/CartDropDown";

import "./Navigation.scss";

const Navigation = () => {
  const { currentUser } = useContext(UserContext);
  const { isCartOpen } = useContext(CartContext);

  const getEmailUsername = (email) => {
    const re = /(.*)@.+/;
    return email.replace(re, "$1").toUpperCase();
  };

  return (
    <Fragment>
      <div className="navigation">
        <Link className="logo-container" to="/">
          <CrwnLogo className="logo" />
        </Link>
        <div className="nav-links-container">
          <Link className="nav-link" to="/home">
            HOME
          </Link>
          <Link className="nav-link" to="/shop">
            SHOP
          </Link>
          {currentUser ? (
            <Link className="nav-link" to="#" onClick={signOutUser}>
              SIGN OUT
            </Link>
          ) : (
            <Link className="nav-link" to="/auth">
              SIGN IN
            </Link>
          )}
          {currentUser ? (
            <Link className="nav-link" to="#">
              <strong>Welcome, {getEmailUsername(currentUser.email)}!</strong>
            </Link>
          ) : null}
          <CartIcon />
        </div>
        {isCartOpen && <CartDropDown />}
      </div>
      <Outlet />
    </Fragment>
  );
};

export default Navigation;
```

### crwn-clothing/src/assets/shopping-bag.svg:

```xml
<?xml version="1.0" encoding="iso-8859-1"?>
<!-- Generator: Adobe Illustrator 18.1.1, SVG Export Plug-In . SVG Version: 6.00 Build 0)  -->
<svg version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
	 viewBox="0 0 407.453 407.453" style="enable-background:new 0 0 407.453 407.453;" xml:space="preserve">
<g>
	<path style="fill:#010002;" d="M255.099,116.515c4.487,0,8.129-3.633,8.129-8.129c0-4.495-3.642-8.129-8.129-8.129H143.486
		c-4.487,0-8.129,3.633-8.129,8.129c0,4.495,3.642,8.129,8.129,8.129H255.099z"/>
	<path style="fill:#010002;" d="M367.062,100.258H311.69c-4.487,0-8.129,3.633-8.129,8.129c0,4.495,3.642,8.129,8.129,8.129h47.243
		v274.681H48.519V116.515h44.536c4.487,0,8.129-3.633,8.129-8.129c0-4.495-3.642-8.129-8.129-8.129H40.391
		c-4.487,0-8.129,3.633-8.129,8.129v290.938c0,4.495,3.642,8.129,8.129,8.129h326.671c4.487,0,8.129-3.633,8.129-8.129V108.386
		C375.191,103.891,371.557,100.258,367.062,100.258z"/>
	<path style="fill:#010002;" d="M282.59,134.796c4.487,0,8.129-3.633,8.129-8.129V67.394C290.718,30.238,250.604,0,201.101,0
		c-49.308,0-89.414,30.238-89.414,67.394v59.274c0,4.495,3.642,8.129,8.129,8.129s8.129-3.633,8.129-8.129V67.394
		c0-28.198,32.823-51.137,73.36-51.137c40.334,0,73.157,22.939,73.157,51.137v59.274
		C274.461,131.163,278.095,134.796,282.59,134.796z"/>
	<path style="fill:#010002;" d="M98.892,147.566c0,11.526,9.389,20.907,20.923,20.907c11.534,0,20.923-9.38,20.923-20.907
		c0-4.495-3.642-8.129-8.129-8.129s-8.129,3.633-8.129,8.129c0,2.561-2.089,4.65-4.666,4.65c-2.569,0-4.666-2.089-4.666-4.65
		c0-4.495-3.642-8.129-8.129-8.129S98.892,143.071,98.892,147.566z"/>
	<path style="fill:#010002;" d="M282.59,168.473c11.534,0,20.923-9.38,20.923-20.907c0-4.495-3.642-8.129-8.129-8.129
		c-4.487,0-8.129,3.633-8.129,8.129c0,2.561-2.089,4.65-4.666,4.65c-2.577,0-4.666-2.089-4.666-4.65
		c0-4.495-3.642-8.129-8.129-8.129c-4.487,0-8.129,3.633-8.129,8.129C261.667,159.092,271.055,168.473,282.59,168.473z"/>
</g>
<g>
</g>
<g>
</g>
<g>
</g>
<g>
</g>
<g>
</g>
<g>
</g>
<g>
</g>
<g>
</g>
<g>
</g>
<g>
</g>
<g>
</g>
<g>
</g>
<g>
</g>
<g>
</g>
<g>
</g>
</svg>
```

### crwn-clothing/src/components/CartIcon/CartIcon.jsx:

```js
import React, { useContext } from "react";
import { ReactComponent as ShoppingIcon } from "../../assets/shopping-bag.svg";
import { CartContext } from "../../contexts/cartContext";

import "./CartIcon.scss";

const CartIcon = () => {
  const { setIsCartOpen } = useContext(CartContext);

  return (
    <div
      className="cart-icon-container"
      onClick={() => setIsCartOpen((prev) => !prev)}
    >
      <ShoppingIcon className="shopping-icon" />
      <span className="item-count">0</span>
    </div>
  );
};

export default CartIcon;
```

### crwn-clothing/src/components/CartIcon/CartIcon.scss:

```css
.cart-icon-container {
  width: 45px;
  height: 45px;
  position: relative;
  display: flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;

  .shopping-icon {
    width: 24px;
    height: 24px;
  }

  .item-count {
    position: absolute;
    font-size: 10px;
    font-weight: bold;
    bottom: 12px;
  }
}
```

### crwn-clothing/src/components/CartDropDown/CartDropDown.jsx:

```js
import React from "react";
import Button from "../Button/Button";
import "./CartDropDown.scss";

const CartDropDown = () => {
  return (
    <div className="cart-dropdown-container">
      <div className="cart-items"></div>
      <Button>GO TO CHECKOUT</Button>
    </div>
  );
};

export default CartDropDown;
```

### crwn-clothing/src/components/CartDropDown/CartDropDown.scss:

```css
.cart-dropdown-container {
  position: absolute;
  width: 240px;
  height: 340px;
  display: flex;
  flex-direction: column;
  padding: 20px;
  border: 1px solid black;
  background-color: white;
  top: 90px;
  right: 40px;
  z-index: 5;

  .empty-message {
    font-size: 18px;
    margin: 50px auto;
  }

  .cart-items {
    height: 240px;
    display: flex;
    flex-direction: column;
    overflow: scroll;
  }

  button {
    margin-top: auto;
  }
}
```

# #End

</details>

<details>
  <summary>60. React Context - Add To Cart Functionality </summary>

# Add To Cart Functionality

![](https://github.com/omeatai/React-Tutorial/assets/32337103/f1d77677-69e8-448f-ac2f-a9b65fcbcbbd)
![](https://github.com/omeatai/React-Tutorial/assets/32337103/546b30f6-10a3-4a52-9c27-88b4287700d3)

### crwn-clothing/src/contexts/cartContext.jsx:

```js
import React, { createContext, useState } from "react";

// as the actual value you want to access
export const CartContext = createContext({
  isCartOpen: false,
  setIsCartOpen: () => {},
  cartItems: [],
  addItemToCart: () => {},
});

export const CartProvider = ({ children }) => {
  const [isCartOpen, setIsCartOpen] = useState(false);
  const [cartItems, setCartItems] = useState([]);

  const addItemToCart = (productToAdd) => {
    const addCartItem = (cartItems, productToAdd) => {
      // find if cartItems contains productToAdd
      const existingCartItem = cartItems.find(
        (cartItem) => cartItem.id === productToAdd.id
      );

      //if found, increment quantity
      if (existingCartItem) {
        return cartItems.map((cartItem) =>
          cartItem.id === productToAdd.id
            ? { ...cartItem, quantity: cartItem.quantity + 1 }
            : cartItem
        );
      }

      // return new array with modified cartItems/ new cart item
      return [...cartItems, { ...productToAdd, quantity: 1 }];
    };

    setCartItems(addCartItem(cartItems, productToAdd));
  };

  const value = { isCartOpen, setIsCartOpen, cartItems, addItemToCart };

  return <CartContext.Provider value={value}>{children}</CartContext.Provider>;
};
```

### crwn-clothing/src/components/CartDropDown/CartDropDown.jsx:

```js
import React, { useContext } from "react";

import Button from "../Button/Button";
import CartItem from "../CartItem/CartItem";
import { CartContext } from "../../contexts/cartContext";

import "./CartDropDown.scss";

const CartDropDown = () => {
  const { cartItems } = useContext(CartContext);

  return (
    <div className="cart-dropdown-container">
      <div className="cart-items">
        {cartItems.map((item) => (
          <CartItem key={item.id} cartItem={item} />
        ))}
      </div>
      <Button>GO TO CHECKOUT</Button>
    </div>
  );
};

export default CartDropDown;
```

### crwn-clothing/src/components/ProductCard/ProductCard.jsx:

```js
import React, { useContext } from "react";
import Button from "../Button/Button";
import { CartContext } from "../../contexts/cartContext";
import "./ProductCard.scss";

const ProductCard = ({ product }) => {
  const { name, price, imageUrl } = product;
  const { addItemToCart } = useContext(CartContext);

  const addProductToCart = () => addItemToCart(product);

  return (
    <div className="product-card-container">
      <img src={imageUrl} alt={`${name}`} />
      <div className="footer">
        <span className="name">{name}</span>
        <span className="price">{price}</span>
      </div>
      <Button buttonType="inverted" onClick={addProductToCart}>
        Add to Cart
      </Button>
    </div>
  );
};

export default ProductCard;
```

### crwn-clothing/src/components/CartItem/CartItem.jsx:

```js
import React from "react";
import "./CartItem.scss";

const CartItem = ({ cartItem }) => {
  const { name, quantity } = cartItem;
  return (
    <div>
      <h2>{name}</h2>
      <span>{quantity}</span>
    </div>
  );
};

export default CartItem;
```

# #End

</details>

<details>
  <summary>61. React Context - Style Cart Item Component with Cart count</summary>

# Style Cart Item Component with Cart count

![](https://github.com/omeatai/React-Tutorial/assets/32337103/13c52cc6-1400-4cda-8c4c-496ccff002a1)
![](https://github.com/omeatai/React-Tutorial/assets/32337103/ea464e97-033d-4daa-a4fa-06d1c397d11a)

### crwn-clothing/src/contexts/cartContext.jsx:

```js
import React, { createContext, useState, useEffect } from "react";

// as the actual value you want to access
export const CartContext = createContext({
  isCartOpen: false,
  setIsCartOpen: () => {},
  cartItems: [],
  addItemToCart: () => {},
  cartCount: 0,
});

export const CartProvider = ({ children }) => {
  const [isCartOpen, setIsCartOpen] = useState(false);
  const [cartItems, setCartItems] = useState([]);
  const [cartCount, setCartCount] = useState(0);

  useEffect(() => {
    const newCartCount = cartItems.reduce((total, cartItem) => {
      return total + cartItem.quantity;
    }, 0);
    setCartCount(newCartCount);
  }, [cartItems]);

  const addItemToCart = (productToAdd) => {
    const addCartItem = (cartItems, productToAdd) => {
      // find if cartItems contains productToAdd
      const existingCartItem = cartItems.find(
        (cartItem) => cartItem.id === productToAdd.id
      );

      //if found, increment quantity
      if (existingCartItem) {
        return cartItems.map((cartItem) =>
          cartItem.id === productToAdd.id
            ? { ...cartItem, quantity: cartItem.quantity + 1 }
            : cartItem
        );
      }

      // return new array with modified cartItems/ new cart item
      return [...cartItems, { ...productToAdd, quantity: 1 }];
    };

    setCartItems(addCartItem(cartItems, productToAdd));
  };

  const value = {
    isCartOpen,
    setIsCartOpen,
    cartItems,
    addItemToCart,
    cartCount,
  };

  return <CartContext.Provider value={value}>{children}</CartContext.Provider>;
};
```

### crwn-clothing/src/components/CartIcon/CartIcon.jsx:

```js
import React, { useContext } from "react";
import { ReactComponent as ShoppingIcon } from "../../assets/shopping-bag.svg";
import { CartContext } from "../../contexts/cartContext";

import "./CartIcon.scss";

const CartIcon = () => {
  const { setIsCartOpen, cartCount } = useContext(CartContext);

  return (
    <div
      className="cart-icon-container"
      onClick={() => setIsCartOpen((prev) => !prev)}
    >
      <ShoppingIcon className="shopping-icon" />
      <span className="item-count">{cartCount}</span>
    </div>
  );
};

export default CartIcon;
```

### crwn-clothing/src/components/CartItem/CartItem.jsx:

```js
import React from "react";
import "./CartItem.scss";

const CartItem = ({ cartItem }) => {
  const { name, imageUrl, price, quantity } = cartItem;
  return (
    <div className="cart-item-container">
      <img src={imageUrl} alt={`${name}`} />
      <div className="item-details">
        <span className="name">{name}</span>
        <span className="price">
          {quantity} x ${price}
        </span>
      </div>
    </div>
  );
};

export default CartItem;
```

### crwn-clothing/src/components/CartItem/CartItem.scss:

```css
.cart-item-container {
  width: 100%;
  display: flex;
  height: 80px;
  margin-bottom: 15px;

  img {
    width: 30%;
  }

  .item-details {
    width: 70%;
    display: flex;
    flex-direction: column;
    align-items: flex-start;
    justify-content: center;
    padding: 10px 20px;

    .name {
      font-size: 16px;
    }
  }
}
```

### crwn-clothing/src/components/CartDropDown/CartDropDown.jsx:

```js
import React, { useContext } from "react";

import Button from "../Button/Button";
import CartItem from "../CartItem/CartItem";
import { CartContext } from "../../contexts/cartContext";

import "./CartDropDown.scss";

const CartDropDown = () => {
  const { cartItems } = useContext(CartContext);

  return (
    <div className="cart-dropdown-container">
      <div className="cart-items">
        {cartItems.map((item) => (
          <CartItem key={item.id} cartItem={item} />
        ))}
      </div>
      <Button>GO TO CHECKOUT</Button>
    </div>
  );
};

export default CartDropDown;
```

### crwn-clothing/src/components/CartDropDown/CartDropDown.scss:

```css
.cart-dropdown-container {
  position: absolute;
  width: 240px;
  height: 340px;
  display: flex;
  flex-direction: column;
  padding: 20px;
  border: 1px solid black;
  background-color: white;
  top: 90px;
  right: 40px;
  z-index: 5;
  overflow: hidden; // added to hide scrollbar

  .empty-message {
    font-size: 18px;
    margin: 50px auto;
  }

  .cart-items {
    display: flex;
    flex-direction: column;
    width: 100%;
    height: 100%;
    overflow-y: scroll;
    padding-right: 40px; // added to hide scrollbar
    box-sizing: content-box;
  }

  button {
    margin-top: auto;
  }
}
```

# #End

</details>

<details>
  <summary>62. React Context - Create Checkout Page </summary>

# Create Checkout Page

![](https://github.com/omeatai/React-Tutorial/assets/32337103/d5793011-b99b-48ce-a440-3707b4d8682a)
![](https://github.com/omeatai/React-Tutorial/assets/32337103/c639542f-7757-4d31-bd36-80a1729e2d40)

### crwn-clothing/src/App.js:

```js
import "./App.scss";
import { Routes, Route } from "react-router-dom";
import Home from "./routes/Home/Home";
import Shop from "./routes/Shop/Shop";
import Navigation from "./routes/Navigation/Navigation";
import Authentication from "./routes/Authentication/Authentication";
import Checkout from "./routes/Checkout/Checkout";

const App = () => {
  return (
    <Routes>
      <Route path="/" element={<Navigation />}>
        <Route path="home" element={<Home />} />
        <Route path="shop" element={<Shop />} />
        <Route path="auth" element={<Authentication />} />
        <Route path="checkout" element={<Checkout />} />
        <Route path="/" element={<Home />} />
      </Route>
    </Routes>
  );
};

export default App;
```

### crwn-clothing/src/components/CartDropDown/CartDropDown.jsx:

```js
import React, { useContext } from "react";
import { useNavigate } from "react-router-dom";

import Button from "../Button/Button";
import CartItem from "../CartItem/CartItem";
import { CartContext } from "../../contexts/cartContext";

import "./CartDropDown.scss";

const CartDropDown = () => {
  const { cartItems } = useContext(CartContext);
  const navigate = useNavigate();

  const GoToCheckoutHandler = () => {
    navigate("/checkout");
  };

  return (
    <div className="cart-dropdown-container">
      <div className="cart-items">
        {cartItems.map((item) => (
          <CartItem key={item.id} cartItem={item} />
        ))}
      </div>
      <Button onClick={GoToCheckoutHandler}>GO TO CHECKOUT</Button>
    </div>
  );
};

export default CartDropDown;
```

### crwn-clothing/src/contexts/cartContext.jsx:

```js
import React, { createContext, useState, useEffect } from "react";

// Add Item to Cart
const addCartItem = (cartItems, productToAdd) => {
  // find if cartItems contains productToAdd
  const existingCartItem = cartItems.find(
    (cartItem) => cartItem.id === productToAdd.id
  );

  //if found, increment quantity
  if (existingCartItem) {
    return cartItems.map((cartItem) =>
      cartItem.id === productToAdd.id
        ? { ...cartItem, quantity: cartItem.quantity + 1 }
        : cartItem
    );
  }

  // return new array with modified cartItems/ new cart item
  return [...cartItems, { ...productToAdd, quantity: 1 }];
};

// Remove Item from Cart
const removeCartItem = (cartItems, cartItemToRemove) => {
  // find the cart item to remove
  const existingCartItem = cartItems.find(
    (cartItem) => cartItem.id === cartItemToRemove.id
  );

  // check if quantity is equal to 1, if it is remove that item from the cart
  if (existingCartItem.quantity === 1) {
    return cartItems.filter((cartItem) => cartItem.id !== cartItemToRemove.id);
  }

  // return back cartitems with matching cart item with reduced quantity
  return cartItems.map((cartItem) =>
    cartItem.id === cartItemToRemove.id
      ? { ...cartItem, quantity: cartItem.quantity - 1 }
      : cartItem
  );
};

// as the actual value you want to access
export const CartContext = createContext({
  isCartOpen: false,
  setIsCartOpen: () => {},
  cartItems: [],
  addItemToCart: () => {},
  removeItemFromCart: () => {},
  cartCount: 0,
});

export const CartProvider = ({ children }) => {
  const [isCartOpen, setIsCartOpen] = useState(false);
  const [cartItems, setCartItems] = useState([]);
  const [cartCount, setCartCount] = useState(0);

  useEffect(() => {
    const newCartCount = cartItems.reduce((total, cartItem) => {
      return total + cartItem.quantity;
    }, 0);
    setCartCount(newCartCount);
  }, [cartItems]);

  const addItemToCart = (productToAdd) => {
    setCartItems(addCartItem(cartItems, productToAdd));
  };

  const removeItemFromCart = (cartItemToRemove) => {
    setCartItems(removeCartItem(cartItems, cartItemToRemove));
  };

  const value = {
    isCartOpen,
    setIsCartOpen,
    cartItems,
    addItemToCart,
    removeItemFromCart,
    cartCount,
  };

  return <CartContext.Provider value={value}>{children}</CartContext.Provider>;
};
```

### crwn-clothing/src/routes/Checkout/Checkout.jsx:

```js
import React, { useContext } from "react";

import { CartContext } from "../../contexts/cartContext";

import "./Checkout.scss";

const Checkout = () => {
  const { cartItems, addItemToCart, removeItemFromCart } =
    useContext(CartContext);

  return (
    <div>
      <h1>Checkout Page</h1>
      <div>
        {cartItems.map((cartItem) => {
          const { id, name, quantity } = cartItem;
          return (
            <div key={id}>
              <h2>{name}</h2>
              <span>{quantity}</span>
              <span>
                <button onClick={() => removeItemFromCart(cartItem)}>
                  decrement
                </button>
              </span>
              <span>
                <button onClick={() => addItemToCart(cartItem)}>
                  increment
                </button>
              </span>
            </div>
          );
        })}
      </div>
    </div>
  );
};

export default Checkout;
```

# #End

</details>

<details>
  <summary>63. React Context - Style Checkout Page Heading </summary>

# Style Checkout Page Heading

![](https://github.com/omeatai/React-Tutorial/assets/32337103/4685fecb-ffa2-45a0-8d8c-7b5e4c1cf196)
![](https://github.com/omeatai/React-Tutorial/assets/32337103/843b273c-81cd-4ce7-860f-9791edf79002)

### crwn-clothing/src/routes/Checkout/Checkout.jsx:

```js
import React, { useContext } from "react";

import { CartContext } from "../../contexts/cartContext";

import "./Checkout.scss";

const Checkout = () => {
  const { cartItems, addItemToCart, removeItemFromCart } =
    useContext(CartContext);

  return (
    <div className="checkout-container">
      <div className="checkout-header">
        <div className="header-block">
          <span>Product</span>
        </div>
        <div className="header-block">
          <span>Description</span>
        </div>
        <div className="header-block">
          <span>Quantity</span>
        </div>
        <div className="header-block">
          <span>Price</span>
        </div>
        <div className="header-block">
          <span>Remove</span>
        </div>
      </div>
      <div>
        {cartItems.map((cartItem) => {
          const { id, name, quantity } = cartItem;
          return (
            <div key={id}>
              <h2>{name}</h2>
              <span>{quantity}</span>
              <span>
                <button onClick={() => removeItemFromCart(cartItem)}>
                  decrement
                </button>
              </span>
              <span>
                <button onClick={() => addItemToCart(cartItem)}>
                  increment
                </button>
              </span>
            </div>
          );
        })}
        <span className="total">Total: 0</span>
      </div>
    </div>
  );
};

export default Checkout;
```

### crwn-clothing/src/routes/Checkout/Checkout.scss:

```scss
.checkout-container {
  width: 55%;
  min-height: 90vh;
  display: flex;
  flex-direction: column;
  align-items: center;
  margin: 50px auto 0;

  .checkout-header {
    width: 100%;
    padding: 10px 0;
    display: flex;
    justify-content: space-between;
    border-bottom: 1px solid darkgrey;

    .header-block {
      text-transform: capitalize;
      width: 23%;

      &:last-child {
        width: 8%;
      }
    }
  }

  .total {
    margin-top: 30px;
    margin-left: auto;
    font-size: 36px;
  }
}
```

# #End

</details>

<details>
  <summary>64. React Context - Create Checkout Item Component </summary>

# Create Checkout Item Component

![](https://github.com/omeatai/React-Tutorial/assets/32337103/97239d24-84c6-4f2a-a78d-b41c26c8c087)
![](https://github.com/omeatai/React-Tutorial/assets/32337103/3e7e67bb-e18c-475c-a004-5fcee8c6d121)

### crwn-clothing/src/routes/Checkout/Checkout.jsx:

```js
import React, { useContext } from "react";

import { CartContext } from "../../contexts/cartContext";
import CheckoutItem from "../../components/CheckoutItem/CheckoutItem";

import "./Checkout.scss";

const Checkout = () => {
  const { cartItems, addItemToCart, removeItemFromCart } =
    useContext(CartContext);

  return (
    <div className="checkout-container">
      <div className="checkout-header">
        <div className="header-block">
          <span>Product</span>
        </div>
        <div className="header-block">
          <span>Description</span>
        </div>
        <div className="header-block">
          <span>Quantity</span>
        </div>
        <div className="header-block">
          <span>Price</span>
        </div>
        <div className="header-block">
          <span>Remove</span>
        </div>
      </div>

      {cartItems.map((cartItem) => {
        return <CheckoutItem key={cartItem.id} cartItem={cartItem} />;
      })}
      <span className="total">Total: 0</span>
    </div>
  );
};

export default Checkout;
```

### crwn-clothing/src/components/CheckoutItem/CheckoutItem.jsx:

```js
import React from "react";

import "./CheckoutItem.scss";

const CheckoutItem = ({ cartItem }) => {
  const { name, imageUrl, price, quantity } = cartItem;

  return (
    <div className="checkout-item-container">
      <div className="image-container">
        <img src={imageUrl} alt={`${name}`} />
      </div>
      <span className="name">{name}</span>
      <span className="quantity">{quantity}</span>
      <span className="price">{price}</span>
      <div className="remove-button">&#10005;</div>
    </div>
  );
};

export default CheckoutItem;
```

### crwn-clothing/src/components/CheckoutItem/CheckoutItem.scss:

```scss
.checkout-item-container {
  width: 100%;
  display: flex;
  min-height: 100px;
  border-bottom: 1px solid darkgrey;
  padding: 15px 0;
  font-size: 20px;
  align-items: center;

  .image-container {
    width: 23%;
    padding-right: 15px;

    img {
      width: 100%;
      height: 100%;
    }
  }
  .name,
  .quantity,
  .price {
    width: 23%;
  }

  .quantity {
    display: flex;

    .arrow {
      cursor: pointer;
    }

    .value {
      margin: 0 10px;
    }
  }

  .remove-button {
    padding-left: 12px;
    cursor: pointer;
  }
}
```

# #End

</details>

<details>
  <summary>65. React Context - Modify Quantity and Clear Item Button Functionality </summary>

# Modify Quantity and Clear Item Button Functionality

![](https://github.com/omeatai/React-Tutorial/assets/32337103/aed8eac8-2502-401b-8535-0fc2a88cb8d3)
![](https://github.com/omeatai/React-Tutorial/assets/32337103/7fd24faf-69a2-44d6-9cea-3b6949ccbedf)

### crwn-clothing/src/contexts/cartContext.jsx:

```js
import React, { createContext, useState, useEffect } from "react";

// Add Item to Cart
const addCartItem = (cartItems, productToAdd) => {
  // find if cartItems contains productToAdd
  const existingCartItem = cartItems.find(
    (cartItem) => cartItem.id === productToAdd.id
  );

  //if found, increment quantity
  if (existingCartItem) {
    return cartItems.map((cartItem) =>
      cartItem.id === productToAdd.id
        ? { ...cartItem, quantity: cartItem.quantity + 1 }
        : cartItem
    );
  }

  // return new array with modified cartItems/ new cart item
  return [...cartItems, { ...productToAdd, quantity: 1 }];
};

// Remove Item from Cart
const removeCartItem = (cartItems, cartItemToRemove) => {
  // find the cart item to remove
  const existingCartItem = cartItems.find(
    (cartItem) => cartItem.id === cartItemToRemove.id
  );

  // check if quantity is equal to 1, if it is remove that item from the cart
  if (existingCartItem.quantity === 1) {
    return cartItems.filter((cartItem) => cartItem.id !== cartItemToRemove.id);
  }

  // return back cartitems with matching cart item with reduced quantity
  return cartItems.map((cartItem) =>
    cartItem.id === cartItemToRemove.id
      ? { ...cartItem, quantity: cartItem.quantity - 1 }
      : cartItem
  );
};

// Clear Item from Cart
const clearCartItem = (cartItems, cartItemToClear) => {
  return cartItems.filter((cartItem) => cartItem.id !== cartItemToClear.id);
};

// as the actual value you want to access
export const CartContext = createContext({
  isCartOpen: false,
  setIsCartOpen: () => {},
  cartItems: [],
  addItemToCart: () => {},
  removeItemFromCart: () => {},
  clearItemFromCart: () => {},
  cartCount: 0,
});

export const CartProvider = ({ children }) => {
  const [isCartOpen, setIsCartOpen] = useState(false);
  const [cartItems, setCartItems] = useState([]);
  const [cartCount, setCartCount] = useState(0);

  useEffect(() => {
    const newCartCount = cartItems.reduce((total, cartItem) => {
      return total + cartItem.quantity;
    }, 0);
    setCartCount(newCartCount);
  }, [cartItems]);

  const addItemToCart = (productToAdd) => {
    setCartItems(addCartItem(cartItems, productToAdd));
  };

  const removeItemFromCart = (cartItemToRemove) => {
    setCartItems(removeCartItem(cartItems, cartItemToRemove));
  };

  const clearItemFromCart = (cartItemToClear) => {
    setCartItems(clearCartItem(cartItems, cartItemToClear));
  };

  const value = {
    isCartOpen,
    setIsCartOpen,
    cartItems,
    addItemToCart,
    removeItemFromCart,
    clearItemFromCart,
    cartCount,
  };

  return <CartContext.Provider value={value}>{children}</CartContext.Provider>;
};
```

### crwn-clothing/src/routes/Checkout/Checkout.jsx:

```js
import React, { useContext } from "react";

import { CartContext } from "../../contexts/cartContext";
import CheckoutItem from "../../components/CheckoutItem/CheckoutItem";

import "./Checkout.scss";

const Checkout = () => {
  const { cartItems } = useContext(CartContext);

  return (
    <div className="checkout-container">
      <div className="checkout-header">
        <div className="header-block">
          <span>Product</span>
        </div>
        <div className="header-block">
          <span>Description</span>
        </div>
        <div className="header-block">
          <span>Quantity</span>
        </div>
        <div className="header-block">
          <span>Price</span>
        </div>
        <div className="header-block">
          <span>Remove</span>
        </div>
      </div>

      {cartItems.map((cartItem) => {
        return <CheckoutItem key={cartItem.id} cartItem={cartItem} />;
      })}
      <span className="total">Total: 0</span>
    </div>
  );
};

export default Checkout;
```

### crwn-clothing/src/components/CheckoutItem/CheckoutItem.jsx:

```js
import React, { useContext } from "react";

import { CartContext } from "../../contexts/cartContext";

import "./CheckoutItem.scss";

const CheckoutItem = ({ cartItem }) => {
  const { name, imageUrl, price, quantity } = cartItem;

  const { addItemToCart, removeItemFromCart, clearItemFromCart } =
    useContext(CartContext);

  const addItemHandler = () => addItemToCart(cartItem);
  const removeItemHandler = () => removeItemFromCart(cartItem);
  const clearItemHandler = () => clearItemFromCart(cartItem);

  return (
    <div className="checkout-item-container">
      <div className="image-container">
        <img src={imageUrl} alt={`${name}`} />
      </div>
      <span className="name">{name}</span>
      <span className="quantity">
        <div className="arrow" onClick={removeItemHandler}>
          &#10094;
        </div>
        <span className="value">{quantity}</span>
        <div className="arrow" onClick={addItemHandler}>
          &#10095;
        </div>
      </span>
      <span className="price">{price}</span>
      <div className="remove-button" onClick={clearItemHandler}>
        &#10005;
      </div>
    </div>
  );
};

export default CheckoutItem;
```

### crwn-clothing/src/components/CheckoutItem/CheckoutItem.scss:

```scss
.checkout-item-container {
  width: 100%;
  display: flex;
  min-height: 100px;
  border-bottom: 1px solid darkgrey;
  padding: 15px 0;
  font-size: 20px;
  align-items: center;

  .image-container {
    width: 23%;
    padding-right: 15px;

    img {
      width: 100%;
      height: 100%;
    }
  }
  .name,
  .quantity,
  .price {
    width: 23%;
  }

  .quantity {
    display: flex;

    .arrow {
      cursor: pointer;
    }

    .value {
      margin: 0 10px;
    }
  }

  .remove-button {
    padding-left: 12px;
    cursor: pointer;
  }
}
```

# #End

</details>

<details>
  <summary>66. React Context - Display Total Cart </summary>

# Display Total Cart

![](https://github.com/omeatai/React-Tutorial/assets/32337103/ba51e9a0-73da-4d61-ad00-102138af2fd4)
![](https://github.com/omeatai/React-Tutorial/assets/32337103/2f23c3ba-9593-4abd-9dad-fabf582192f1)

### crwn-clothing/src/contexts/cartContext.jsx:

```js
import React, { createContext, useState, useEffect } from "react";

// Add Item to Cart
const addCartItem = (cartItems, productToAdd) => {
  // find if cartItems contains productToAdd
  const existingCartItem = cartItems.find(
    (cartItem) => cartItem.id === productToAdd.id
  );

  //if found, increment quantity
  if (existingCartItem) {
    return cartItems.map((cartItem) =>
      cartItem.id === productToAdd.id
        ? { ...cartItem, quantity: cartItem.quantity + 1 }
        : cartItem
    );
  }

  // return new array with modified cartItems/ new cart item
  return [...cartItems, { ...productToAdd, quantity: 1 }];
};

// Remove Item from Cart
const removeCartItem = (cartItems, cartItemToRemove) => {
  // find the cart item to remove
  const existingCartItem = cartItems.find(
    (cartItem) => cartItem.id === cartItemToRemove.id
  );

  // check if quantity is equal to 1, if it is remove that item from the cart
  if (existingCartItem.quantity === 1) {
    return cartItems.filter((cartItem) => cartItem.id !== cartItemToRemove.id);
  }

  // return back cartitems with matching cart item with reduced quantity
  return cartItems.map((cartItem) =>
    cartItem.id === cartItemToRemove.id
      ? { ...cartItem, quantity: cartItem.quantity - 1 }
      : cartItem
  );
};

// Clear Item from Cart
const clearCartItem = (cartItems, cartItemToClear) => {
  return cartItems.filter((cartItem) => cartItem.id !== cartItemToClear.id);
};

// as the actual value you want to access
export const CartContext = createContext({
  isCartOpen: false,
  setIsCartOpen: () => {},
  cartItems: [],
  addItemToCart: () => {},
  removeItemFromCart: () => {},
  clearItemFromCart: () => {},
  cartCount: 0,
  cartTotal: 0,
});

export const CartProvider = ({ children }) => {
  const [isCartOpen, setIsCartOpen] = useState(false);
  const [cartItems, setCartItems] = useState([]);
  const [cartCount, setCartCount] = useState(0);
  const [cartTotal, setCartTotal] = useState(0);

  useEffect(() => {
    const newCartCount = cartItems.reduce((total, cartItem) => {
      return total + cartItem.quantity;
    }, 0);

    setCartCount(newCartCount);
  }, [cartItems]);

  useEffect(() => {
    const newCartTotal = cartItems.reduce((total, cartItem) => {
      return total + cartItem.quantity * cartItem.price;
    }, 0);

    setCartTotal(newCartTotal);
  }, [cartItems]);

  const addItemToCart = (productToAdd) => {
    setCartItems(addCartItem(cartItems, productToAdd));
  };

  const removeItemFromCart = (cartItemToRemove) => {
    setCartItems(removeCartItem(cartItems, cartItemToRemove));
  };

  const clearItemFromCart = (cartItemToClear) => {
    setCartItems(clearCartItem(cartItems, cartItemToClear));
  };

  const value = {
    isCartOpen,
    setIsCartOpen,
    cartItems,
    addItemToCart,
    removeItemFromCart,
    clearItemFromCart,
    cartCount,
    cartTotal,
  };

  return <CartContext.Provider value={value}>{children}</CartContext.Provider>;
};
```

### crwn-clothing/src/routes/Checkout/Checkout.jsx:

```js
import React, { useContext } from "react";

import { CartContext } from "../../contexts/cartContext";
import CheckoutItem from "../../components/CheckoutItem/CheckoutItem";

import "./Checkout.scss";

const Checkout = () => {
  const { cartItems, cartTotal } = useContext(CartContext);

  return (
    <div className="checkout-container">
      <div className="checkout-header">
        <div className="header-block">
          <span>Product</span>
        </div>
        <div className="header-block">
          <span>Description</span>
        </div>
        <div className="header-block">
          <span>Quantity</span>
        </div>
        <div className="header-block">
          <span>Price</span>
        </div>
        <div className="header-block">
          <span>Remove</span>
        </div>
      </div>

      {cartItems.map((cartItem) => {
        return <CheckoutItem key={cartItem.id} cartItem={cartItem} />;
      })}
      <span className="total">Total: ${cartTotal}</span>
    </div>
  );
};

export default Checkout;
```

# #End

</details>

+FIREBASE DATABASE STORAGE

<details>
  <summary>67. Firebase Database - Add Products to Firestore Database </summary>

# Add Products to Firestore Database

![](https://github.com/omeatai/React-Tutorial/assets/32337103/7e6cb4b1-b537-4a7e-bd98-319cb0f56393)
![](https://github.com/omeatai/React-Tutorial/assets/32337103/3cdde1ab-584e-4866-9569-5ca1aa5baaab)
![](https://github.com/omeatai/React-Tutorial/assets/32337103/5fe9f446-eb52-4cf6-82c3-e6c154e50fbf)

### crwn-clothing/src/data/shop-data.js:

```js
const SHOP_DATA = [
  {
    title: "Hats",
    items: [
      {
        id: 1,
        name: "Brown Brim",
        imageUrl: "https://i.ibb.co/ZYW3VTp/brown-brim.png",
        price: 25,
      },
      {
        id: 2,
        name: "Blue Beanie",
        imageUrl: "https://i.ibb.co/ypkgK0X/blue-beanie.png",
        price: 18,
      },
      {
        id: 3,
        name: "Brown Cowboy",
        imageUrl: "https://i.ibb.co/QdJwgmp/brown-cowboy.png",
        price: 35,
      },
      {
        id: 4,
        name: "Grey Brim",
        imageUrl: "https://i.ibb.co/RjBLWxB/grey-brim.png",
        price: 25,
      },
      {
        id: 5,
        name: "Green Beanie",
        imageUrl: "https://i.ibb.co/YTjW3vF/green-beanie.png",
        price: 18,
      },
      {
        id: 6,
        name: "Palm Tree Cap",
        imageUrl: "https://i.ibb.co/rKBDvJX/palm-tree-cap.png",
        price: 14,
      },
      {
        id: 7,
        name: "Red Beanie",
        imageUrl: "https://i.ibb.co/bLB646Z/red-beanie.png",
        price: 18,
      },
      {
        id: 8,
        name: "Wolf Cap",
        imageUrl: "https://i.ibb.co/1f2nWMM/wolf-cap.png",
        price: 14,
      },
      {
        id: 9,
        name: "Blue Snapback",
        imageUrl: "https://i.ibb.co/X2VJP2W/blue-snapback.png",
        price: 16,
      },
    ],
  },
  {
    title: "Sneakers",
    items: [
      {
        id: 10,
        name: "Adidas NMD",
        imageUrl: "https://i.ibb.co/0s3pdnc/adidas-nmd.png",
        price: 220,
      },
      {
        id: 11,
        name: "Adidas Yeezy",
        imageUrl: "https://i.ibb.co/dJbG1cT/yeezy.png",
        price: 280,
      },
      {
        id: 12,
        name: "Black Converse",
        imageUrl: "https://i.ibb.co/bPmVXyP/black-converse.png",
        price: 110,
      },
      {
        id: 13,
        name: "Nike White AirForce",
        imageUrl: "https://i.ibb.co/1RcFPk0/white-nike-high-tops.png",
        price: 160,
      },
      {
        id: 14,
        name: "Nike Red High Tops",
        imageUrl: "https://i.ibb.co/QcvzydB/nikes-red.png",
        price: 160,
      },
      {
        id: 15,
        name: "Nike Brown High Tops",
        imageUrl: "https://i.ibb.co/fMTV342/nike-brown.png",
        price: 160,
      },
      {
        id: 16,
        name: "Air Jordan Limited",
        imageUrl: "https://i.ibb.co/w4k6Ws9/nike-funky.png",
        price: 190,
      },
      {
        id: 17,
        name: "Timberlands",
        imageUrl: "https://i.ibb.co/Mhh6wBg/timberlands.png",
        price: 200,
      },
    ],
  },
  {
    title: "Jackets",
    items: [
      {
        id: 18,
        name: "Black Jean Shearling",
        imageUrl: "https://i.ibb.co/XzcwL5s/black-shearling.png",
        price: 125,
      },
      {
        id: 19,
        name: "Blue Jean Jacket",
        imageUrl: "https://i.ibb.co/mJS6vz0/blue-jean-jacket.png",
        price: 90,
      },
      {
        id: 20,
        name: "Grey Jean Jacket",
        imageUrl: "https://i.ibb.co/N71k1ML/grey-jean-jacket.png",
        price: 90,
      },
      {
        id: 21,
        name: "Brown Shearling",
        imageUrl: "https://i.ibb.co/s96FpdP/brown-shearling.png",
        price: 165,
      },
      {
        id: 22,
        name: "Tan Trench",
        imageUrl: "https://i.ibb.co/M6hHc3F/brown-trench.png",
        price: 185,
      },
    ],
  },
  {
    title: "Womens",
    items: [
      {
        id: 23,
        name: "Blue Tanktop",
        imageUrl: "https://i.ibb.co/7CQVJNm/blue-tank.png",
        price: 25,
      },
      {
        id: 24,
        name: "Floral Blouse",
        imageUrl: "https://i.ibb.co/4W2DGKm/floral-blouse.png",
        price: 20,
      },
      {
        id: 25,
        name: "Floral Dress",
        imageUrl: "https://i.ibb.co/KV18Ysr/floral-skirt.png",
        price: 80,
      },
      {
        id: 26,
        name: "Red Dots Dress",
        imageUrl: "https://i.ibb.co/N3BN1bh/red-polka-dot-dress.png",
        price: 80,
      },
      {
        id: 27,
        name: "Striped Sweater",
        imageUrl: "https://i.ibb.co/KmSkMbH/striped-sweater.png",
        price: 45,
      },
      {
        id: 28,
        name: "Yellow Track Suit",
        imageUrl: "https://i.ibb.co/v1cvwNf/yellow-track-suit.png",
        price: 135,
      },
      {
        id: 29,
        name: "White Blouse",
        imageUrl: "https://i.ibb.co/qBcrsJg/white-vest.png",
        price: 20,
      },
    ],
  },
  {
    title: "Mens",
    items: [
      {
        id: 30,
        name: "Camo Down Vest",
        imageUrl: "https://i.ibb.co/xJS0T3Y/camo-vest.png",
        price: 325,
      },
      {
        id: 31,
        name: "Floral T-shirt",
        imageUrl: "https://i.ibb.co/qMQ75QZ/floral-shirt.png",
        price: 20,
      },
      {
        id: 32,
        name: "Black & White Longsleeve",
        imageUrl: "https://i.ibb.co/55z32tw/long-sleeve.png",
        price: 25,
      },
      {
        id: 33,
        name: "Pink T-shirt",
        imageUrl: "https://i.ibb.co/RvwnBL8/pink-shirt.png",
        price: 25,
      },
      {
        id: 34,
        name: "Jean Long Sleeve",
        imageUrl: "https://i.ibb.co/VpW4x5t/roll-up-jean-shirt.png",
        price: 40,
      },
      {
        id: 35,
        name: "Burgundy T-shirt",
        imageUrl: "https://i.ibb.co/mh3VM1f/polka-dot-shirt.png",
        price: 25,
      },
    ],
  },
];

export default SHOP_DATA;
```

### crwn-clothing/src/utils/firebase/firebase.js:

```jsbs
//Create a new table/collection and add records (documents) to it
export const addCollectionAndDocuments = async (
  collectionKey,
  objectsToAdd,
  field = "title"
) => {
  const collectionRef = collection(db, collectionKey);
  const batch = writeBatch(db);

  objectsToAdd.forEach((object) => {
    const docRef = doc(collectionRef, object[field].toLowerCase());
    batch.set(docRef, object);
  });

  await batch.commit();
  console.log("done....");
};
```

```js
// Import the functions you need from the SDKs you need
import { initializeApp } from "firebase/app";
import {
  getAuth,
  signInWithRedirect,
  signInWithPopup,
  GoogleAuthProvider,
  createUserWithEmailAndPassword,
  signInWithEmailAndPassword,
  signOut,
  onAuthStateChanged,
} from "firebase/auth";

import {
  getFirestore,
  doc,
  getDoc,
  setDoc,
  collection,
  writeBatch,
} from "firebase/firestore";

// Your web app's Firebase configuration
const firebaseConfig = {
  apiKey: "",
  authDomain: "",
  projectId: "",
  storageBucket: "",
  messagingSenderId: "",
  appId: "",
};

// Initialize Firebase
const firebaseApp = initializeApp(firebaseConfig);

// Google Provider Authentication
const googleProvider = new GoogleAuthProvider();

googleProvider.setCustomParameters({
  prompt: "select_account",
});

export const auth = getAuth();

//Sign in with Google Auth
export const signInWithGooglePopup = () =>
  signInWithPopup(auth, googleProvider);
export const signInWithGoogleRedirect = () =>
  signInWithRedirect(auth, googleProvider);

//Check if the user record (document) exists in Firebase
export const db = getFirestore();

//Create a new table/collection and add records (documents) to it
export const addCollectionAndDocuments = async (
  collectionKey,
  objectsToAdd,
  field = "title"
) => {
  const collectionRef = collection(db, collectionKey);
  const batch = writeBatch(db);

  objectsToAdd.forEach((object) => {
    const docRef = doc(collectionRef, object[field].toLowerCase());
    batch.set(docRef, object);
  });

  await batch.commit();
  console.log("done....");
};

//Create a new user record (document) in the "users" table/collection
export const createUserDocumentFromAuth = async (userAuth) => {
  if (!userAuth) {
    return;
  }

  // Get reference to user uid in the "users" table/collection
  const userDocRef = doc(db, "users", userAuth.uid);

  // get the user record (document) in the "users" table/collection
  const userSnapshot = await getDoc(userDocRef);

  if (!userSnapshot.exists()) {
    //create a new user record (document) in the "users" table/collection
    const { displayName, email } = userAuth;
    const createdAt = new Date();
    try {
      await setDoc(userDocRef, {
        displayName,
        email,
        createdAt,
      });
    } catch (error) {
      console.log("error creating the user", error.message);
    }
  } else {
    // console.log(userSnapshot);
  }
  return userDocRef;
};

//Create a new user record in Google Auth with Username and Password
export const createAuthUserWithEmailAndPassword = async (email, password) => {
  if (!email || !password) {
    return;
  }
  return await createUserWithEmailAndPassword(auth, email, password);
};

//Sign in with Username and Password
export const signInAuthUserWithEmailAndPassword = async (email, password) => {
  if (!email || !password) {
    return;
  }
  return await signInWithEmailAndPassword(auth, email, password);
};

//Sign out With Google Auth
export const signOutUser = async () => await signOut(auth);

//Auth Listener Event Handler
export const onAuthStateChangedListener = (callback) =>
  onAuthStateChanged(auth, callback);
```

### crwn-clothing/src/contexts/productsContext.jsx:

```js
import React, { createContext, useState, useEffect } from "react";
import { addCollectionAndDocuments } from "../utils/firebase/firebase";
import SHOP_DATA from "../data/shop-data.js";

// as the actual value you want to access
export const ProductsContext = createContext({
  products: null,
  setProducts: () => null,
});

export const ProductsProvider = ({ children }) => {
  const [products, setProducts] = useState([]);
  const value = { products, setProducts };

  //Add records (documents) from json/js file to DB table/collection
  useEffect(() => {
    addCollectionAndDocuments("categories", SHOP_DATA);
  }, []);

  return (
    <ProductsContext.Provider value={value}>
      {children}
    </ProductsContext.Provider>
  );
};
```

# #End

</details>

<details>
  <summary>68. Firebase Database - Get Products and Categories from Firestore Database </summary>

# Get Products and Categories from Firestore Database

![](https://github.com/omeatai/React-Tutorial/assets/32337103/ce3f4b57-b15a-4f6f-b802-b2557c28d318)
![](https://github.com/omeatai/React-Tutorial/assets/32337103/9905f737-dacc-4266-8048-53f99d1c5800)

### crwn-clothing/src/utils/firebase/firebase.js:

```jsbs
//Get categories and documents from DB collection
export const getCategoriesAndDocuments = async () => {
  const collectionRef = collection(db, "categories");

  const q = query(collectionRef);
  const querySnapshot = await getDocs(q);

  const categoryMap = querySnapshot.docs.reduce((acc, docSnapshot) => {
    const { title, items } = docSnapshot.data();
    acc[title.toLowerCase()] = items;
    return acc;
  }, {});

  return categoryMap;
};
```

```js
// Import the functions you need from the SDKs you need
import { initializeApp } from "firebase/app";
import {
  getAuth,
  signInWithRedirect,
  signInWithPopup,
  GoogleAuthProvider,
  createUserWithEmailAndPassword,
  signInWithEmailAndPassword,
  signOut,
  onAuthStateChanged,
} from "firebase/auth";

import {
  getFirestore,
  doc,
  getDoc,
  setDoc,
  collection,
  writeBatch,
  query,
  getDocs,
} from "firebase/firestore";

// Your web app's Firebase configuration
const firebaseConfig = {
  apiKey: "",
  authDomain: "",
  projectId: "",
  storageBucket: "",
  messagingSenderId: "",
  appId: "",
};

// Initialize Firebase
const firebaseApp = initializeApp(firebaseConfig);

// Google Provider Authentication
const googleProvider = new GoogleAuthProvider();

googleProvider.setCustomParameters({
  prompt: "select_account",
});

export const auth = getAuth();

//Sign in with Google Auth
export const signInWithGooglePopup = () =>
  signInWithPopup(auth, googleProvider);
export const signInWithGoogleRedirect = () =>
  signInWithRedirect(auth, googleProvider);

//Check if the user record (document) exists in Firebase
export const db = getFirestore();

//Create a new table/collection and add records (documents) to it
export const addCollectionAndDocuments = async (
  collectionKey,
  objectsToAdd,
  field = "title"
) => {
  const collectionRef = collection(db, collectionKey);
  const batch = writeBatch(db);

  objectsToAdd.forEach((object) => {
    const docRef = doc(collectionRef, object[field].toLowerCase());
    batch.set(docRef, object);
  });

  await batch.commit();
  console.log("done....");
};

//Get categories and documents from DB collection
export const getCategoriesAndDocuments = async () => {
  const collectionRef = collection(db, "categories");

  const q = query(collectionRef);
  const querySnapshot = await getDocs(q);

  const categoryMap = querySnapshot.docs.reduce((acc, docSnapshot) => {
    const { title, items } = docSnapshot.data();
    acc[title.toLowerCase()] = items;
    return acc;
  }, {});

  return categoryMap;
};

//Create a new user record (document) in the "users" table/collection
export const createUserDocumentFromAuth = async (userAuth) => {
  if (!userAuth) {
    return;
  }

  // Get reference to user uid in the "users" table/collection
  const userDocRef = doc(db, "users", userAuth.uid);

  // get the user record (document) in the "users" table/collection
  const userSnapshot = await getDoc(userDocRef);

  if (!userSnapshot.exists()) {
    //create a new user record (document) in the "users" table/collection
    const { displayName, email } = userAuth;
    const createdAt = new Date();
    try {
      await setDoc(userDocRef, {
        displayName,
        email,
        createdAt,
      });
    } catch (error) {
      console.log("error creating the user", error.message);
    }
  } else {
    // console.log(userSnapshot);
  }
  return userDocRef;
};

//Create a new user record in Google Auth with Username and Password
export const createAuthUserWithEmailAndPassword = async (email, password) => {
  if (!email || !password) {
    return;
  }
  return await createUserWithEmailAndPassword(auth, email, password);
};

//Sign in with Username and Password
export const signInAuthUserWithEmailAndPassword = async (email, password) => {
  if (!email || !password) {
    return;
  }
  return await signInWithEmailAndPassword(auth, email, password);
};

//Sign out With Google Auth
export const signOutUser = async () => await signOut(auth);

//Auth Listener Event Handler
export const onAuthStateChangedListener = (callback) =>
  onAuthStateChanged(auth, callback);
```

### crwn-clothing/src/contexts/productsContext.jsx:

```jsbs
//Get Categories collection with documents
  useEffect(() => {
    const getCategoriesMap = async () => {
      const categoryMap = await getCategoriesAndDocuments();
      console.log(categoryMap);
    };
    getCategoriesMap();
  }, []);
```

```js
import React, { createContext, useState, useEffect } from "react";
import { getCategoriesAndDocuments } from "../utils/firebase/firebase";
import SHOP_DATA from "../data/shop-data.js";

// as the actual value you want to access
export const ProductsContext = createContext({
  products: null,
  setProducts: () => null,
});

export const ProductsProvider = ({ children }) => {
  const [products, setProducts] = useState([]);
  const value = { products, setProducts };

  //Add records (documents) from json/js file to DB table/collection
  // useEffect(() => {
  //   addCollectionAndDocuments("categories", SHOP_DATA);
  // }, []);

  //Get Categories collection with documents
  useEffect(() => {
    const getCategoriesMap = async () => {
      const categoryMap = await getCategoriesAndDocuments();
      console.log(categoryMap);
    };
    getCategoriesMap();
  }, []);

  return (
    <ProductsContext.Provider value={value}>
      {children}
    </ProductsContext.Provider>
  );
};
```

# #End

</details>

<details>
  <summary>69. Firebase Database - Get Data from CategoriesMap </summary>

# Get Data from CategoriesMap

![](https://github.com/omeatai/React-Tutorial/assets/32337103/cd3acc74-ed26-4be7-b91d-4c739e6c53ad)
![](https://github.com/omeatai/React-Tutorial/assets/32337103/076ac553-4e1a-401b-867f-b5a0d9cb0adf)
![](https://github.com/omeatai/React-Tutorial/assets/32337103/ddb9602c-bc2c-491f-bab2-776aa998e1fd)
![](https://github.com/omeatai/React-Tutorial/assets/32337103/c8938f51-ad72-41d6-ba64-3d163cf3bb6d)
![](https://github.com/omeatai/React-Tutorial/assets/32337103/443c19bf-7a55-46fa-a3c7-2af95f36e5ce)
![](https://github.com/omeatai/React-Tutorial/assets/32337103/fa76f308-2fc4-4b00-9524-9b93c532aa70)

### crwn-clothing/src/contexts/categoriesContext.jsx:

```js
import React, { createContext, useState, useEffect } from "react";
import { getCategoriesAndDocuments } from "../utils/firebase/firebase";

// as the actual value you want to access
export const CategoriesContext = createContext({
  categoriesMap: null,
  setCategoriesMap: () => null,
});

export const CategoriesProvider = ({ children }) => {
  const [categoriesMap, setCategoriesMap] = useState({});
  const value = { categoriesMap, setCategoriesMap };

  //Get Categories collection with documents
  useEffect(() => {
    const getCategoriesMap = async () => {
      const categoryMap = await getCategoriesAndDocuments();
      console.log(categoryMap);
      setCategoriesMap(categoryMap);
    };
    getCategoriesMap();
  }, []);

  return (
    <CategoriesContext.Provider value={value}>
      {children}
    </CategoriesContext.Provider>
  );
};

// // as the actual value you want to access
// export const ProductsContext = createContext({
//   products: null,
//   setProducts: () => null,
// });

// export const ProductsProvider = ({ children }) => {
//   const [products, setProducts] = useState([]);
//   const value = { products, setProducts };

//   return (
//     <ProductsContext.Provider value={value}>
//       {children}
//     </ProductsContext.Provider>
//   );
// };
```

### crwn-clothing/src/index.js:

```js
import React from "react";
import ReactDOM from "react-dom/client";
import { BrowserRouter } from "react-router-dom";

import App from "./App";
import { UserProvider } from "./contexts/userContext";
import { CategoriesProvider } from "./contexts/categoriesContext";
import { CartProvider } from "./contexts/cartContext";

import "./index.scss";

const root = ReactDOM.createRoot(document.getElementById("root"));
root.render(
  <React.StrictMode>
    <BrowserRouter>
      <UserProvider>
        <CategoriesProvider>
          <CartProvider>
            <App />
          </CartProvider>
        </CategoriesProvider>
      </UserProvider>
    </BrowserRouter>
  </React.StrictMode>
);
```

### crwn-clothing/src/routes/Shop/Shop.jsx:

```js
import React, { useContext, Fragment } from "react";
import { CategoriesContext } from "../../contexts/categoriesContext";
import ProductCard from "../../components/ProductCard/ProductCard";
import "./Shop.scss";

const Shop = () => {
  const { categoriesMap } = useContext(CategoriesContext);

  return (
    <Fragment>
      {Object.keys(categoriesMap).map((title) => (
        <Fragment key={title}>
          <h2>{title}</h2>
          <div className="shop-container">
            {categoriesMap[title].map((product) => (
              <ProductCard key={product.id} product={product} />
            ))}
          </div>
        </Fragment>
      ))}
    </Fragment>
  );
};

export default Shop;
```

# #End

</details>

<details>
  <summary>70. Firebase Database - Category Preview Component </summary>

# Category Preview Component

![](https://github.com/omeatai/React-Tutorial/assets/32337103/6d7c8472-9a85-4d31-ad3a-2269fcc733a6)
![](https://github.com/omeatai/React-Tutorial/assets/32337103/7c0a11b5-c2f6-4e8e-99ee-903f1706d712)
![](https://github.com/omeatai/React-Tutorial/assets/32337103/2aa1abca-f2c3-4d10-9b3e-7a88e343a599)
![](https://github.com/omeatai/React-Tutorial/assets/32337103/2c4bbebe-fb1b-49d2-ae0a-863e3617bb98)

### crwn-clothing/src/routes/Shop/Shop.jsx:

```js
import React, { useContext, Fragment } from "react";
import { CategoriesContext } from "../../contexts/categoriesContext";
import CategoryPreview from "../../components/CategoryPreview/CategoryPreview";
import "./Shop.scss";

const Shop = () => {
  const { categoriesMap } = useContext(CategoriesContext);

  return (
    <div className="shop-container">
      {Object.keys(categoriesMap).map((title) => {
        const products = categoriesMap[title];

        return (
          <CategoryPreview key={title} title={title} products={products} />
        );
      })}
    </div>
  );
};

export default Shop;
```

### crwn-clothing/src/routes/Shop/Shop.scss:

```css
.shop-container {
  // display: grid;
  // grid-template-columns: repeat(4, 1fr);
  // column-gap: 10px;
  // row-gap: 50px;
}
```

### crwn-clothing/src/components/CategoryPreview/CategoryPreview.jsx:

```js
import React from "react";

import ProductCard from "../ProductCard/ProductCard";

import "./CategoryPreview.scss";

const CategoryPreview = ({ title, products }) => {
  return (
    <div className="category-preview-container">
      <h2>
        <span className="title">{title.toUpperCase()}</span>
      </h2>
      <div className="preview">
        {products
          .filter((_, idx) => idx < 4)
          .map((product) => (
            <ProductCard key={product.id} product={product} />
          ))}
      </div>
    </div>
  );
};

export default CategoryPreview;
```

### crwn-clothing/src/components/CategoryPreview/CategoryPreview.scss:

```css
.category-preview-container {
  display: flex;
  flex-direction: column;
  margin-bottom: 30px;

  .title {
    font-size: 28px;
    margin-bottom: 25px;
    cursor: pointer;
  }

  .preview {
    display: grid;
    grid-template-columns: repeat(4, 1fr);
    column-gap: 20px;
  }
}
```

# #End

</details>

<details>
  <summary>71. Firebase Database - Nested Shop Preview and Category Routes </summary>

# Nested Shop Preview and Category Routes

![](https://github.com/omeatai/React-Tutorial/assets/32337103/e746ff54-5062-44b9-ab77-525a82de2b19)
![](https://github.com/omeatai/React-Tutorial/assets/32337103/06abaa38-8466-4ba1-a0c8-fe98a69ee7bf)
![](https://github.com/omeatai/React-Tutorial/assets/32337103/5876f600-fd9a-452f-8a76-c3c665d20a56)

### crwn-clothing/src/App.js:

```js
import "./App.scss";
import { Routes, Route } from "react-router-dom";
import Home from "./routes/Home/Home";
import Shop from "./routes/Shop/Shop";
import Navigation from "./routes/Navigation/Navigation";
import Authentication from "./routes/Authentication/Authentication";
import Checkout from "./routes/Checkout/Checkout";

const App = () => {
  return (
    <Routes>
      <Route path="/" element={<Navigation />}>
        <Route path="home" element={<Home />} />
        <Route path="shop/*" element={<Shop />} />
        <Route path="auth" element={<Authentication />} />
        <Route path="checkout" element={<Checkout />} />
        <Route path="/*" element={<Home />} />
      </Route>
    </Routes>
  );
};

export default App;
```

### crwn-clothing/src/routes/Shop/Shop.jsx:

```js
import React from "react";
import { Routes, Route } from "react-router-dom";
import CategoriesPreview from "../CategoriesPreview/CategoriesPreview";
import Category from "../Category/Category";
import "./Shop.scss";

const Shop = () => {
  return (
    <Routes>
      <Route index element={<CategoriesPreview />} />
      <Route path=":category" element={<Category />} />
    </Routes>
  );
};

export default Shop;
```

### crwn-clothing/src/routes/Category/Category.jsx:

```js
import React, { useContext, useState, useEffect, Fragment } from "react";
import { useParams } from "react-router-dom";

import { CategoriesContext } from "../../contexts/categoriesContext";
import ProductCard from "../../components/ProductCard/ProductCard";

import "./Category.scss";

const Category = () => {
  const { category } = useParams();
  const { categoriesMap } = useContext(CategoriesContext);
  const [products, setProducts] = useState(categoriesMap[category]);

  useEffect(() => {
    setProducts(categoriesMap[category]);
  }, [category, categoriesMap]);

  return (
    <Fragment>
      <h2 className="category-title">{category.toUpperCase()}</h2>
      <div className="category-container">
        {products &&
          products.map((product) => (
            <ProductCard key={product.id} product={product} />
          ))}
      </div>
    </Fragment>
  );
};

export default Category;
```

### crwn-clothing/src/routes/Category/Category.scss:

```css
.category-container {
  display: grid;
  grid-template-columns: repeat(4, 1fr);
  column-gap: 20px;
  row-gap: 50px;
}

.category-title {
  font-size: 38px;
  margin-bottom: 25px;
  text-align: center;
}
```

### crwn-clothing/src/components/CategoryPreview/CategoryPreview.jsx:

```jsbs
<Link className="title" to={title}>
  {title.toUpperCase()}
</Link>
```

```js
import React from "react";
import { Link } from "react-router-dom";

import ProductCard from "../ProductCard/ProductCard";

import "./CategoryPreview.scss";

const CategoryPreview = ({ title, products }) => {
  return (
    <div className="category-preview-container">
      <h2>
        <Link className="title" to={title}>
          {title.toUpperCase()}
        </Link>
      </h2>
      <div className="preview">
        {products
          .filter((_, idx) => idx < 4)
          .map((product) => (
            <ProductCard key={product.id} product={product} />
          ))}
      </div>
    </div>
  );
};

export default CategoryPreview;
```

### crwn-clothing/src/components/CategoryItem/CategoryItem.jsx:

```jsbs
className="category-item-container"
```

```js
import React from "react";
import "./CategoryItem.scss";

const CategoryItem = ({ category }) => {
  const { imageUrl, title } = category;
  return (
    <div className="category-item-container">
      <div
        className="background-image"
        style={{
          backgroundImage: `url(${imageUrl})`,
        }}
      />
      <div className="category-body-container">
        <h2>{title}</h2>
        <p>Shop Now</p>
      </div>
    </div>
  );
};

export default CategoryItem;
```

### crwn-clothing/src/components/CategoryItem/CategoryItem.scss:

```jsbs
.category-item-container {
  min-width: 30%;
  height: 240px;
  flex: 1 1 auto;
  ..........
}
```

```css
.category-item-container {
  min-width: 30%;
  height: 240px;
  flex: 1 1 auto;
  display: flex;
  align-items: center;
  justify-content: center;
  border: 1px solid black;
  margin: 0 7.5px 15px;
  overflow: hidden;

  &:hover {
    cursor: pointer;

    & .background-image {
      transform: scale(1.1);
      transition: transform 6s cubic-bezier(0.25, 0.45, 0.45, 0.95);
    }

    & .category-body-container {
      opacity: 0.9;
    }
  }

  &.large {
    height: 380px;
  }

  &:first-child {
    margin-right: 7.5px;
  }

  &:last-child {
    margin-left: 7.5px;
  }

  .background-image {
    width: 100%;
    height: 100%;
    background-size: cover;
    background-position: center;
  }

  .category-body-container {
    height: 90px;
    padding: 0 25px;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    border: 1px solid black;
    background-color: white;
    opacity: 0.7;
    position: absolute;

    h2 {
      font-weight: bold;
      margin: 0 6px 0;
      font-size: 22px;
      color: #4a4a4a;
    }

    p {
      font-weight: lighter;
      font-size: 16px;
    }
  }
}
```

# #End

</details>

+STYLED COMPONENTS

<details>
  <summary>72. Styled Components - Introduction (Using Styled Components for Navigation Component) </summary>

# Introduction (Using Styled Components for Navigation Component)

![](https://github.com/omeatai/My-Tutorials/assets/32337103/2af5ef6f-e607-404a-a713-f545eeb3c601)
![](https://github.com/omeatai/My-Tutorials/assets/32337103/714b85f3-d613-4ffb-89fb-82abed6674d3)

# Install styled components

```jsbs
yarn add styled-components
npm install styled-components
```

```js
{
  "name": "crwn-clothing",
  "version": "0.1.0",
  "private": true,
  "dependencies": {
    "@testing-library/jest-dom": "^5.14.1",
    "@testing-library/react": "^13.0.0",
    "@testing-library/user-event": "^13.2.1",
    "firebase": "^9.22.2",
    "react": "^18.2.0",
    "react-dom": "^18.2.0",
    "react-router-dom": "6",
    "react-scripts": "5.0.1",
    "sass": "^1.63.4",
    "styled-components": "^6.0.2",
    "web-vitals": "^2.1.0"
  },
  "scripts": {
    "start": "react-scripts start",
    "build": "react-scripts build",
    "test": "react-scripts test",
    "eject": "react-scripts eject"
  },
  "eslintConfig": {
    "extends": [
      "react-app",
      "react-app/jest"
    ]
  },
  "browserslist": {
    "production": [
      ">0.2%",
      "not dead",
      "not op_mini all"
    ],
    "development": [
      "last 1 chrome version",
      "last 1 firefox version",
      "last 1 safari version"
    ]
  }
}

```

### crwn-clothing/src/routes/Navigation/Navigation.jsx:

```js
import React, { Fragment, useContext } from "react";
import { Outlet, Link } from "react-router-dom";

import { ReactComponent as CrwnLogo } from "../../assets/crown.svg";
import { UserContext } from "../../contexts/userContext";
import { CartContext } from "../../contexts/cartContext";
import { signOutUser } from "../../utils/firebase/firebase";

import CartIcon from "../../components/CartIcon/CartIcon";
import CartDropDown from "../../components/CartDropDown/CartDropDown";

import {
  NavigationContainer,
  LogoContainer,
  NavLinksContainer,
  NavLink,
} from "./NavigationStyle";

const Navigation = () => {
  const { currentUser } = useContext(UserContext);
  const { isCartOpen } = useContext(CartContext);

  const getEmailUsername = (email) => {
    const re = /(.*)@.+/;
    return email.replace(re, "$1").toUpperCase();
  };

  return (
    <Fragment>
      <NavigationContainer>
        <LogoContainer to="/">
          <CrwnLogo className="logo" />
        </LogoContainer>
        <NavLinksContainer>
          <NavLink to="/home">HOME</NavLink>
          <NavLink to="/shop">SHOP</NavLink>
          {currentUser ? (
            <NavLink as="span" to="#" onClick={signOutUser}>
              SIGN OUT
            </NavLink>
          ) : (
            <NavLink to="/auth">SIGN IN</NavLink>
          )}
          {currentUser ? (
            <NavLink to="#">
              <strong>Welcome, {getEmailUsername(currentUser.email)}!</strong>
            </NavLink>
          ) : null}
          <CartIcon />
        </NavLinksContainer>
        {isCartOpen && <CartDropDown />}
      </NavigationContainer>
      <Outlet />
    </Fragment>
  );
};

export default Navigation;
```

### crwn-clothing/src/routes/Navigation/NavigationStyle.js:

```js
import styled from "styled-components";
import { Link } from "react-router-dom";

export const NavigationContainer = styled.div`
  height: 70px;
  width: 100%;
  display: flex;
  justify-content: space-between;
  margin-bottom: 25px;
`;

export const LogoContainer = styled(Link)`
  height: 100%;
  width: 70px;
  padding: 25px;
`;

export const NavLinksContainer = styled.div`
  width: 50%;
  height: 100%;
  display: flex;
  align-items: center;
  justify-content: flex-end;
`;

export const NavLink = styled(Link)`
  padding: 10px 15px;
  cursor: pointer;
`;
```

### crwn-clothing/src/routes/Navigation/Navigation.scss:

```css
.navigation {
  height: 70px;
  width: 100%;
  display: flex;
  justify-content: space-between;
  margin-bottom: 25px;

  .logo-container {
    height: 100%;
    width: 70px;
    padding: 25px;
  }

  .nav-links-container {
    width: 50%;
    height: 100%;
    display: flex;
    align-items: center;
    justify-content: flex-end;

    .nav-link {
      padding: 10px 15px;
      cursor: pointer;
    }
  }
}
```

# #End

</details>

<details>
  <summary>74. Styled Components - Using Styled Components for Button </summary>

# Using Styled Components for Button

![](https://github.com/omeatai/My-Tutorials/assets/32337103/5335684d-360f-4ed6-8988-3a749a7be1a6)
![](https://github.com/omeatai/My-Tutorials/assets/32337103/07bcdf2e-04f8-4465-9b5f-b9d80a716254)

### crwn-clothing/src/components/Button/ButtonStyle.js:

```js
import styled from "styled-components";

export const BaseButton = styled.button`
  min-width: 165px;
  width: auto;
  height: 50px;
  letter-spacing: 0.5px;
  line-height: 50px;
  padding: 0 35px 0 35px;
  font-size: 15px;
  background-color: black;
  color: white;
  text-transform: uppercase;
  font-family: "Open Sans Condensed";
  font-weight: bolder;
  border: none;
  cursor: pointer;
  display: flex;
  justify-content: center;

  &:hover {
    background-color: white;
    color: black;
    border: 1px solid black;
  }
`;

export const GoogleSignInButton = styled(BaseButton)`
  background-color: #4285f4;
  color: white;

  &:hover {
    background-color: #357ae8;
    border: none;
  }
`;

export const InvertedButton = styled(BaseButton)`
  background-color: white;
  color: black;
  border: 1px solid black;

  &:hover {
    background-color: black;
    color: white;
    border: none;
  }
`;
```

### crwn-clothing/src/components/Button/Button.jsx:

```js
import React from "react";
import { BaseButton, GoogleSignInButton, InvertedButton } from "./ButtonStyle";

export const BUTTON_TYPE_CLASSES = {
  base: "base",
  google: "google-sign-in",
  inverted: "inverted",
};

const getButton = (buttonType) => {
  if (!buttonType) {
    buttonType = BUTTON_TYPE_CLASSES.base;
  }

  return {
    [BUTTON_TYPE_CLASSES.base]: BaseButton,
    [BUTTON_TYPE_CLASSES.google]: GoogleSignInButton,
    [BUTTON_TYPE_CLASSES.inverted]: InvertedButton,
  }[buttonType];

  // switch (buttonType) {
  //   case BUTTON_TYPE_CLASSES.base:
  //     return BaseButton;
  //   case BUTTON_TYPE_CLASSES.google:
  //     return GoogleSignInButton;
  //   case BUTTON_TYPE_CLASSES.inverted:
  //     return InvertedButton;
  // }
};

const Button = ({ children, buttonType, ...otherProps }) => {
  const CustomButton = getButton(buttonType);
  return <CustomButton {...otherProps}>{children}</CustomButton>;
};

export default Button;
```

### crwn-clothing/src/components/SignInForm/SignInForm.jsx:

```js
import { useState, useContext } from "react";

import {
  signInWithGooglePopup,
  signInAuthUserWithEmailAndPassword,
} from "../../utils/firebase/firebase";

import FormInput from "../FormInput/FormInput";
import Button, { BUTTON_TYPE_CLASSES } from "../Button/Button";
import "./SignInForm.scss";

const defaultFormFields = {
  email: "",
  password: "",
};

const SignInForm = () => {
  const [formFields, setFormFields] = useState(defaultFormFields);
  const { email, password } = formFields;

  const handleChange = (event) => {
    const { name, value } = event.target;
    setFormFields({ ...formFields, [name]: value });
  };

  const resetFormFields = () => {
    setFormFields(defaultFormFields);
  };

  // Sign in with Google account
  const signInWithGoogle = async () => {
    try {
      await signInWithGooglePopup();
    } catch (error) {
      console.log(error.code, error.message);
    }
  };

  // Sign in with Auth User With Email And Password
  const handleSubmit = async (event) => {
    event.preventDefault();
    if (!email || !password) {
      alert("Both Username and Password are Required!");
      return;
    }

    try {
      await signInAuthUserWithEmailAndPassword(email, password);

      resetFormFields();
    } catch (error) {
      switch (error.code) {
        case "auth/wrong-password":
          alert("Username or Password is Invalid!");
          break;
        case "auth/user-not-found":
          alert("Username or Password is Invalid!");
          break;
        default:
          console.log(error);
      }
    }
  };

  return (
    <div className="sign-up-container">
      <h2>Already have an account?</h2>
      <span>Sign in with your email and password.</span>
      <form onSubmit={handleSubmit}>
        <FormInput
          label="Email"
          type="email"
          required
          onChange={handleChange}
          name="email"
          value={email}
          id="sign_in_email"
        />
        <FormInput
          label="Password"
          type="password"
          required
          onChange={handleChange}
          name="password"
          value={password}
          id="sign_in_password"
        />

        <div className="buttons-container">
          <Button buttonType="" type="submit">
            Sign In
          </Button>
          <Button
            buttonType={BUTTON_TYPE_CLASSES.google}
            type="button"
            onClick={signInWithGoogle}
          >
            Google sign in
          </Button>
        </div>
      </form>
    </div>
  );
};

export default SignInForm;
```

### crwn-clothing/src/components/ProductCard/ProductCard.jsx:

```js
import React, { useContext } from "react";
import Button, { BUTTON_TYPE_CLASSES } from "../Button/Button";
import { CartContext } from "../../contexts/cartContext";
import "./ProductCard.scss";

const ProductCard = ({ product }) => {
  const { name, price, imageUrl } = product;
  const { addItemToCart } = useContext(CartContext);

  const addProductToCart = () => addItemToCart(product);

  return (
    <div className="product-card-container">
      <img src={imageUrl} alt={`${name}`} />
      <div className="footer">
        <span className="name">{name}</span>
        <span className="price">{price}</span>
      </div>
      <Button
        buttonType={BUTTON_TYPE_CLASSES.inverted}
        onClick={addProductToCart}
      >
        Add to Cart
      </Button>
    </div>
  );
};

export default ProductCard;
```

# #End

</details>

<details>
  <summary>75. Styled Components - Using Styled Components for Cart DropDown </summary>

# Using Styled Components for Cart DropDown

![](https://github.com/omeatai/My-Tutorials/assets/32337103/eaecc444-f958-4a97-ac90-7f899d8cf3ae)
![](https://github.com/omeatai/My-Tutorials/assets/32337103/8a09b1b1-7198-4a1b-b141-cebc4b9aa695)

### crwn-clothing/src/components/CartDropDown/CartDropDown.jsx:

```js
import React, { useContext } from "react";
import { useNavigate } from "react-router-dom";

import Button from "../Button/Button";
import CartItem from "../CartItem/CartItem";
import { CartContext } from "../../contexts/cartContext";

import {
  CartDropdownContainer,
  EmptyMessage,
  CartItems,
} from "./CartDropDownStyle";

const CartDropDown = () => {
  const { cartItems } = useContext(CartContext);
  const navigate = useNavigate();

  const GoToCheckoutHandler = () => {
    navigate("/checkout");
  };

  return (
    <CartDropdownContainer>
      <CartItems>
        {cartItems.length > 0 ? (
          cartItems.map((item) => <CartItem key={item.id} cartItem={item} />)
        ) : (
          <EmptyMessage>Your Cart is Empty!</EmptyMessage>
        )}
      </CartItems>
      <Button onClick={GoToCheckoutHandler}>GO TO CHECKOUT</Button>
    </CartDropdownContainer>
  );
};

export default CartDropDown;
```

### crwn-clothing/src/components/CartDropDown/CartDropDownStyle.js:

```js
import styled from "styled-components";
import {
  BaseButton,
  GoogleSignInButton,
  InvertedButton,
} from "../Button/ButtonStyle";

export const CartDropdownContainer = styled.div`
  position: absolute;
  width: 240px;
  height: 340px;
  display: flex;
  flex-direction: column;
  padding: 20px;
  border: 1px solid black;
  background-color: white;
  top: 90px;
  right: 40px;
  z-index: 5;
  overflow: hidden; // added to hide scrollbar

  ${BaseButton}, ${GoogleSignInButton}, ${InvertedButton} {
    margin-top: auto;
  }
`;

export const EmptyMessage = styled.span`
  font-size: 18px;
  margin: 50px auto;
`;

export const CartItems = styled.div`
  display: flex;
  flex-direction: column;
  width: 100%;
  height: 100%;
  overflow-y: scroll;
  padding-right: 40px; // added to hide scrollbar
  box-sizing: content-box;
`;
```

# #End

</details>

<details>
  <summary>76. Styled Components - Using Styled Components for Category Item and Cart Icon </summary>

# Using Styled Components for Category Item and Cart Icon

![](https://github.com/omeatai/My-Tutorials/assets/32337103/feed252e-e579-48f2-a5f4-5220c500a710)
![](https://github.com/omeatai/My-Tutorials/assets/32337103/8b83171f-8e75-4fdb-8266-4fe35a0fde68)

### crwn-clothing/src/components/CartIcon/CartIcon.jsx:

```js
import React, { useContext } from "react";

import { CartContext } from "../../contexts/cartContext";

import { ShoppingIcon, CartIconContainer, ItemCount } from "./CartIconStyle.js";

const CartIcon = () => {
  const { setIsCartOpen, cartCount } = useContext(CartContext);

  return (
    <CartIconContainer onClick={() => setIsCartOpen((prev) => !prev)}>
      <ShoppingIcon />
      <ItemCount>{cartCount}</ItemCount>
    </CartIconContainer>
  );
};

export default CartIcon;
```

### crwn-clothing/src/components/CartIcon/CartIconStyle.js:

```js
import styled from "styled-components";

import { ReactComponent as ShoppingSvg } from "../../assets/shopping-bag.svg";

export const ShoppingIcon = styled(ShoppingSvg)`
  width: 24px;
  height: 24px;
`;

export const CartIconContainer = styled.div`
  width: 45px;
  height: 45px;
  position: relative;
  display: flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
`;

export const ItemCount = styled.span`
  position: absolute;
  font-size: 10px;
  font-weight: bold;
  bottom: 12px;
`;
```

### crwn-clothing/src/components/CategoryItem/CategoryItem.jsx:

```js
import React from "react";
import {
  BackgroundImage,
  CategoryBodyContainer,
  CategoryItemContainer,
} from "./CategoryItemStyle.js";

const CategoryItem = ({ category }) => {
  const { imageUrl, title } = category;
  return (
    <CategoryItemContainer>
      <BackgroundImage imageUrl={imageUrl} />
      <CategoryBodyContainer>
        <h2>{title}</h2>
        <p>Shop Now</p>
      </CategoryBodyContainer>
    </CategoryItemContainer>
  );
};

export default CategoryItem;
```

### crwn-clothing/src/components/CategoryItem/CategoryItemStyle.js:

```js
import styled from "styled-components";

export const BackgroundImage = styled.div`
  width: 100%;
  height: 100%;
  background-size: cover;
  background-position: center;
  background-image: ${({ imageUrl }) => `url(${imageUrl})`};
`;

export const CategoryBodyContainer = styled.div`
  height: 90px;
  padding: 0 25px;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  border: 1px solid black;
  background-color: white;
  opacity: 0.7;
  position: absolute;

  h2 {
    font-weight: bold;
    margin: 0 6px 0;
    font-size: 22px;
    color: #4a4a4a;
    text-transform: uppercase;
  }

  p {
    font-weight: lighter;
    font-size: 16px;
  }
`;

export const CategoryItemContainer = styled.div`
  min-width: 30%;
  height: 240px;
  flex: 1 1 auto;
  display: flex;
  align-items: center;
  justify-content: center;
  border: 1px solid black;
  margin: 0 7.5px 15px;
  overflow: hidden;

  &:hover {
    cursor: pointer;

    & ${BackgroundImage} {
      transform: scale(1.1);
      transition: transform 6s cubic-bezier(0.25, 0.45, 0.45, 0.95);
    }

    & ${CategoryBodyContainer} {
      opacity: 0.9;
    }
  }

  &.large {
    height: 380px;
  }

  &:first-child {
    margin-right: 7.5px;
  }

  &:last-child {
    margin-left: 7.5px;
  }
`;
```

### crwn-clothing/src/components/CategoryItem/CategoryItem.scss:

```css
.category-item-container {
  min-width: 30%;
  height: 240px;
  flex: 1 1 auto;
  display: flex;
  align-items: center;
  justify-content: center;
  border: 1px solid black;
  margin: 0 7.5px 15px;
  overflow: hidden;

  &:hover {
    cursor: pointer;

    & .background-image {
      transform: scale(1.1);
      transition: transform 6s cubic-bezier(0.25, 0.45, 0.45, 0.95);
    }

    & .category-body-container {
      opacity: 0.9;
    }
  }

  &.large {
    height: 380px;
  }

  &:first-child {
    margin-right: 7.5px;
  }

  &:last-child {
    margin-left: 7.5px;
  }

  .background-image {
    width: 100%;
    height: 100%;
    background-size: cover;
    background-position: center;
  }

  .category-body-container {
    height: 90px;
    padding: 0 25px;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    border: 1px solid black;
    background-color: white;
    opacity: 0.7;
    position: absolute;

    h2 {
      font-weight: bold;
      margin: 0 6px 0;
      font-size: 22px;
      color: #4a4a4a;
    }

    p {
      font-weight: lighter;
      font-size: 16px;
    }
  }
}
```

# #End

</details>

<details>
  <summary>77. Styled Components - Using Styled Components for Form Input Component </summary>

# Using Styled Components for Form Input Component

![](https://github.com/omeatai/My-Tutorials/assets/32337103/fac52fd7-3321-45ef-b7c3-a059148c49c4)
![](https://github.com/omeatai/My-Tutorials/assets/32337103/645b9013-e3e2-4a05-a58d-5e842ca875ce)

### crwn-clothing/src/components/FormInput/FormInput.jsx:

```js
import React from "react";
import { FormInputLabel, Input, Group } from "./FormInputStyle.js";

const FormInput = ({ label, ...otherProps }) => {
  return (
    <Group>
      <Input {...otherProps} />
      {label && (
        <FormInputLabel
          shrink={otherProps.value.length}
          htmlFor={`${otherProps.id}`}
          // className={`${
          //   otherProps.value.length ? "shrink" : ""
          // } form-input-label`}
        >
          {label}
        </FormInputLabel>
      )}
    </Group>
  );
};

export default FormInput;
```

### crwn-clothing/src/components/FormInput/FormInputStyle.js:

```js
import styled, { css } from "styled-components";

const subColor = "grey";
const mainColor = "black";

const shrinkLabelStyles = css`
  top: -14px;
  font-size: 12px;
  color: ${mainColor};
`;

export const FormInputLabel = styled.label`
  color: ${subColor};
  font-size: 16px;
  font-weight: normal;
  position: absolute;
  pointer-events: none;
  left: 5px;
  top: 10px;
  transition: 300ms ease all;
  ${({ shrink }) => shrink && shrinkLabelStyles};
`;

export const Input = styled.input`
  background: none;
  background-color: white;
  color: ${subColor};
  font-size: 18px;
  padding: 10px 10px 10px 5px;
  display: block;
  width: 100%;
  border: none;
  border-radius: 0;
  border-bottom: 1px solid ${subColor};
  margin: 25px 0;

  &:focus {
    outline: none;
  }

  &:focus ~ ${FormInputLabel} {
    ${shrinkLabelStyles};
  }
`;

export const Group = styled.div`
  position: relative;
  margin: 45px 0;

  input[type="password"] {
    letter-spacing: 0.3em;
  }
`;
```

### crwn-clothing/src/components/FormInput/FormInput.scss:

```css
$sub-color: grey;
$main-color: black;

@mixin shrinkLabel {
  top: -14px;
  font-size: 12px;
  color: $main-color;
}

.group {
  position: relative;
  margin: 45px 0;

  .form-input {
    background: none;
    background-color: white;
    color: $sub-color;
    font-size: 18px;
    padding: 10px 10px 10px 5px;
    display: block;
    width: 100%;
    border: none;
    border-radius: 0;
    border-bottom: 1px solid $sub-color;
    margin: 25px 0;

    &:focus {
      outline: none;
    }

    &:focus ~ .form-input-label {
      @include shrinkLabel();
    }
  }

  input[type="password"] {
    letter-spacing: 0.3em;
  }

  .form-input-label {
    color: $sub-color;
    font-size: 16px;
    font-weight: normal;
    position: absolute;
    pointer-events: none;
    left: 5px;
    top: 10px;
    transition: 300ms ease all;

    &.shrink {
      @include shrinkLabel();
    }
  }
}
```

# #End

</details>

<details>
  <summary>78. Styled Components - Linking Homepage Items to Pages </summary>

# Linking Homepage Items to Pages

![](https://github.com/omeatai/My-Tutorials/assets/32337103/7dc0b61f-ba8c-4c68-8d60-b892e35349e7)
![](https://github.com/omeatai/My-Tutorials/assets/32337103/4987bcc3-654a-41e1-8eed-efd92713e1e8)

### crwn-clothing/src/routes/Home/Home.jsx:

```js
import React from "react";
import Categories from "../../components/Categories/Categories";

const categories = [
  {
    id: 1,
    title: "hats",
    imageUrl: "https://i.ibb.co/cvpntL1/hats.png",
    route: "shop/hats",
  },
  {
    id: 2,
    title: "jackets",
    imageUrl: "https://i.ibb.co/px2tCc3/jackets.png",
    route: "shop/jackets",
  },
  {
    id: 3,
    title: "sneakers",
    imageUrl: "https://i.ibb.co/0jqHpnp/sneakers.png",
    route: "shop/sneakers",
  },
  {
    id: 4,
    title: "womens",
    imageUrl: "https://i.ibb.co/GCCdy8t/womens.png",
    route: "shop/womens",
  },
  {
    id: 5,
    title: "mens",
    imageUrl: "https://i.ibb.co/R70vBrQ/men.png",
    route: "shop/mens",
  },
];

const Home = () => {
  return (
    <section>
      <Categories categories={categories} />
    </section>
  );
};

export default Home;
```

### crwn-clothing/src/components/Categories/Categories.jsx:

```js
import React from "react";
import CategoryItem from "../CategoryItem/CategoryItem";
import "./Categories.scss";

const Categories = ({ categories }) => {
  return (
    <div className="categories-container">
      {categories.map((category) => (
        <CategoryItem key={category.id} category={category} />
      ))}
    </div>
  );
};

export default Categories;
```

### crwn-clothing/src/components/CategoryItem/CategoryItem.jsx:

```js
import React from "react";
import { useNavigate } from "react-router-dom";

import {
  BackgroundImage,
  CategoryBodyContainer,
  CategoryItemContainer,
} from "./CategoryItemStyle.js";

const CategoryItem = ({ category }) => {
  const { imageUrl, title, route } = category;
  const navigate = useNavigate();

  const onNavigateHandler = () => navigate(route);

  return (
    <CategoryItemContainer onClick={onNavigateHandler}>
      <BackgroundImage imageUrl={imageUrl} />
      <CategoryBodyContainer>
        <h2>{title}</h2>
        <p>Shop Now</p>
      </CategoryBodyContainer>
    </CategoryItemContainer>
  );
};

export default CategoryItem;
```

# #End

</details>

+DEPLOY APP

<details>
  <summary>79. Deploy with Netlify - Introduction </summary>

# Deploy with Netlify - Introduction

```jsbs
#create a new repository on the command line
echo "# clothing-eccommerce-store" >> README.md
git init
git add README.md
git commit -m "first commit"
git branch -M main
git remote add origin https://github.com/omeatai/clothing-eccommerce-store.git
git push -u origin main

#push an existing repository from the command line
git remote add origin https://github.com/omeatai/clothing-eccommerce-store.git
git branch -M main
git push -u origin main
```

![](https://github.com/omeatai/My-Tutorials/assets/32337103/2d75b092-64de-4a0f-9732-76d79e74191d)
![](https://github.com/omeatai/My-Tutorials/assets/32337103/770b0744-15f4-46d6-ab27-d80e9e965a8a)
![](https://github.com/omeatai/My-Tutorials/assets/32337103/daa22ef3-1fe5-4ca2-80ee-b54c7be6aea6)
![](https://github.com/omeatai/My-Tutorials/assets/32337103/22f388f5-2484-403f-b78a-169c1256dc0a)

# #End

</details>

<details>
  <summary>80. Deploy with Netlify - Adding Redirects </summary>

# Deploy with Netlify - Adding Redirects

![](https://github.com/omeatai/My-Tutorials/assets/32337103/0a586e4c-afa5-4334-a87f-b6b85f254831)
![](https://github.com/omeatai/My-Tutorials/assets/32337103/8b19c80b-5add-4179-a615-90b63a555ac7)

### crwn-clothing/public/_redirects:

```jsbs
/* /index.html 200
```

### crwn-clothing/src/App.js:

```js
import "./App.scss";
import { Routes, Route } from "react-router-dom";
import Home from "./routes/Home/Home";
import Shop from "./routes/Shop/Shop";
import Navigation from "./routes/Navigation/Navigation";
import Authentication from "./routes/Authentication/Authentication";
import Checkout from "./routes/Checkout/Checkout";

const App = () => {
  return (
    <Routes>
      <Route path="/" element={<Navigation />}>
        <Route index element={<Home />} />
        <Route path="shop/*" element={<Shop />} />
        <Route path="auth" element={<Authentication />} />
        <Route path="checkout" element={<Checkout />} />
        <Route path="/*" element={<Home />} />
      </Route>
    </Routes>
  );
};

export default App;

```

# #End </details>

+REDUCERS

<details>
  <summary>81. Reducers - Create User Reducer </summary>

# Create User Reducer

<img width="1022" alt="image" src="https://github.com/omeatai/My-Tutorials/assets/32337103/97dd2b2a-a76e-498b-aef9-688c55f67a0b">
<img width="1022" alt="image" src="https://github.com/omeatai/My-Tutorials/assets/32337103/f6e9f31b-1531-4f3d-a875-cfbe6033f420">
<img width="1022" alt="image" src="https://github.com/omeatai/My-Tutorials/assets/32337103/0820048a-c347-489f-9a9e-66ca3b4aa727">
<img width="1191" alt="image" src="https://github.com/omeatai/My-Tutorials/assets/32337103/88e96747-d6fd-49be-92f0-286112645929">
<img width="1191" alt="image" src="https://github.com/omeatai/My-Tutorials/assets/32337103/86d5f146-0a0a-4269-83dc-afbb5a30c2ff">

### crwn-clothing/src/contexts/userContext.jsx:

```js
import React, { createContext, useEffect, useReducer } from "react";

import {
  onAuthStateChangedListener,
  createUserDocumentFromAuth,
} from "../utils/firebase/firebase";

// as the actual value you want to access
export const UserContext = createContext({
  currentUser: null,
  setCurrentUser: () => null,
});

export const USER_ACTION_TYPES = {
  SET_CURRENT_USER: "SET_CURRENT_USER",
};

const userReducer = (state, action) => {
  console.log("Dispatched");
  console.log("Action: ", action);

  const { type, payload } = action;
  switch (type) {
    case USER_ACTION_TYPES.SET_CURRENT_USER:
      return {
        ...state,
        currentUser: payload,
      };
    // case "increment":
    //   return {
    //     value: state.value + 1,
    //   };
    default:
      throw new Error(`Unhandled type ${type} in userReducer`);
  }
};

const INITIAL_STATE = {
  currentUser: null,
};

export const UserProvider = ({ children }) => {
  // const [currentUser, setCurrentUser] = useState(null);
  const [{ currentUser }, dispatch] = useReducer(userReducer, INITIAL_STATE);
  const setCurrentUser = (user) => {
    dispatch({ type: USER_ACTION_TYPES.SET_CURRENT_USER, payload: user });
  };

  const value = { currentUser, setCurrentUser };

  useEffect(() => {
    const unsubscribe = onAuthStateChangedListener((user) => {
      if (user) {
        createUserDocumentFromAuth(user);
      }
      setCurrentUser(user);
    });

    return unsubscribe;
  }, []);

  return <UserContext.Provider value={value}>{children}</UserContext.Provider>;
};
```

# #End </details>

<details>
  <summary>82. Reducers - Create Cart Reducer </summary>

# Create Cart Reducer

<img width="923" alt="image" src="https://github.com/omeatai/My-Tutorials/assets/32337103/60ddc131-add9-4327-b84b-088d82aa1f8b">
<img width="923" alt="image" src="https://github.com/omeatai/My-Tutorials/assets/32337103/87fa1889-0489-421d-ba03-2e30ac5416c7">
<img width="923" alt="image" src="https://github.com/omeatai/My-Tutorials/assets/32337103/b02d6aad-bb39-4c97-84bc-f899b164fab3">
<img width="923" alt="image" src="https://github.com/omeatai/My-Tutorials/assets/32337103/ec07bfc1-af3c-4cb9-b194-6f41154d57de">
<img width="1291" alt="image" src="https://github.com/omeatai/My-Tutorials/assets/32337103/043228fe-abd1-45ad-b7a9-984d1d7e88c2">
<img width="1291" alt="image" src="https://github.com/omeatai/My-Tutorials/assets/32337103/1eb4116d-a4ee-4d4a-8cb1-ef6e7b955060">

### crwn-clothing/src/index.js:

```js
import React from "react";
import ReactDOM from "react-dom/client";
import { BrowserRouter } from "react-router-dom";

import App from "./App";
import { UserProvider } from "./contexts/userContext";
import { CategoriesProvider } from "./contexts/categoriesContext";
import { CartProvider } from "./contexts/cartContext";

import "./index.scss";

const root = ReactDOM.createRoot(document.getElementById("root"));
root.render(
  <React.StrictMode>
    <BrowserRouter>
      <UserProvider>
        <CategoriesProvider>
          <CartProvider>
            <App />
          </CartProvider>
        </CategoriesProvider>
      </UserProvider>
    </BrowserRouter>
  </React.StrictMode>
);
```

### crwn-clothing/src/App.js:

```js
import "./App.scss";
import { Routes, Route } from "react-router-dom";
import Home from "./routes/Home/Home";
import Shop from "./routes/Shop/Shop";
import Navigation from "./routes/Navigation/Navigation";
import Authentication from "./routes/Authentication/Authentication";
import Checkout from "./routes/Checkout/Checkout";

const App = () => {
  return (
    <Routes>
      <Route path="/" element={<Navigation />}>
        <Route index element={<Home />} />
        <Route path="shop/*" element={<Shop />} />
        <Route path="auth" element={<Authentication />} />
        <Route path="checkout" element={<Checkout />} />
        <Route path="/*" element={<Home />} />
      </Route>
    </Routes>
  );
};

export default App;
```

### crwn-clothing/src/contexts/cartContext.jsx:

```js
import React, { createContext, useState, useEffect, useReducer } from "react";

// Add Item to Cart
const addCartItem = (cartItems, productToAdd) => {
  // find if cartItems contains productToAdd
  const existingCartItem = cartItems.find(
    (cartItem) => cartItem.id === productToAdd.id
  );

  //if found, increment quantity
  if (existingCartItem) {
    return cartItems.map((cartItem) =>
      cartItem.id === productToAdd.id
        ? { ...cartItem, quantity: cartItem.quantity + 1 }
        : cartItem
    );
  }

  // return new array with modified cartItems/ new cart item
  return [...cartItems, { ...productToAdd, quantity: 1 }];
};

// Remove Item from Cart
const removeCartItem = (cartItems, cartItemToRemove) => {
  // find the cart item to remove
  const existingCartItem = cartItems.find(
    (cartItem) => cartItem.id === cartItemToRemove.id
  );

  // check if quantity is equal to 1, if it is remove that item from the cart
  if (existingCartItem.quantity === 1) {
    return cartItems.filter((cartItem) => cartItem.id !== cartItemToRemove.id);
  }

  // return back cartitems with matching cart item with reduced quantity
  return cartItems.map((cartItem) =>
    cartItem.id === cartItemToRemove.id
      ? { ...cartItem, quantity: cartItem.quantity - 1 }
      : cartItem
  );
};

// Clear Item from Cart
const clearCartItem = (cartItems, cartItemToClear) => {
  return cartItems.filter((cartItem) => cartItem.id !== cartItemToClear.id);
};

// as the actual value you want to access
export const CartContext = createContext({
  isCartOpen: false,
  setIsCartOpen: () => {},
  cartItems: [],
  addItemToCart: () => {},
  removeItemFromCart: () => {},
  clearItemFromCart: () => {},
  cartCount: 0,
  cartTotal: 0,
});

const CART_ACTION_TYPES = {
  SET_CART_ITEMS: "SET_CART_ITEMS",
  SET_IS_CART_OPEN: "SET_IS_CART_OPEN",
};

const INITIAL_STATE = {
  cartItems: [],
  isCartOpen: false,
  cartCount: 0,
  cartTotal: 0,
};

const cartReducer = (state, action) => {
  const { type, payload } = action;

  console.log("payload: ", payload);
  console.log("type: ", type);
  console.log("state: ", state);

  switch (type) {
    case CART_ACTION_TYPES.SET_CART_ITEMS:
      return { ...state, ...payload };
    case CART_ACTION_TYPES.SET_IS_CART_OPEN:
      return { ...state, isCartOpen: payload };
    default:
      throw new Error(`unhandled type of type} in cartReducer`);
  }
};

export const CartProvider = ({ children }) => {
  const [{ cartItems, isCartOpen, cartCount, cartTotal }, dispatch] =
    useReducer(cartReducer, INITIAL_STATE);

  const updateCartItemsReducer = (newCartItems) => {
    const newCartCount = newCartItems.reduce((total, cartItem) => {
      return total + cartItem.quantity;
    }, 0);

    const newCartTotal = newCartItems.reduce((total, cartItem) => {
      return total + cartItem.quantity * cartItem.price;
    }, 0);

    dispatch({
      type: CART_ACTION_TYPES.SET_CART_ITEMS,
      payload: {
        cartItems: newCartItems,
        cartTotal: newCartTotal,
        cartCount: newCartCount,
      },
    });
  };

  const addItemToCart = (productToAdd) => {
    const newCartItems = addCartItem(cartItems, productToAdd);
    updateCartItemsReducer(newCartItems);
  };

  const removeItemFromCart = (cartItemToRemove) => {
    const newCartItems = removeCartItem(cartItems, cartItemToRemove);
    updateCartItemsReducer(newCartItems);
  };

  const clearItemFromCart = (cartItemToClear) => {
    const newCartItems = clearCartItem(cartItems, cartItemToClear);
    updateCartItemsReducer(newCartItems);
  };

  const setIsCartOpen = (bool) => {
    dispatch({ type: CART_ACTION_TYPES.SET_IS_CART_OPEN, payload: bool });
  };

  const value = {
    isCartOpen,
    setIsCartOpen,
    cartItems,
    addItemToCart,
    removeItemFromCart,
    clearItemFromCart,
    cartCount,
    cartTotal,
  };

  return <CartContext.Provider value={value}>{children}</CartContext.Provider>;
};
```

### crwn-clothing/src/components/CartIcon/CartIcon.jsx:

```js
import React, { useContext } from "react";

import { CartContext } from "../../contexts/cartContext";

import { ShoppingIcon, CartIconContainer, ItemCount } from "./CartIconStyle.js";

const CartIcon = () => {
  const { isCartOpen, setIsCartOpen, cartCount } = useContext(CartContext);

  return (
    <CartIconContainer onClick={() => setIsCartOpen(!isCartOpen)}>
      <ShoppingIcon />
      <ItemCount>{cartCount}</ItemCount>
    </CartIconContainer>
  );
};

export default CartIcon;
```

# #End </details>

<details>
  <summary>83. Reducers - Optimize Cart and User Context </summary>

# Optimize Cart and User Context

<img width="1021" alt="image" src="https://github.com/omeatai/My-Tutorials/assets/32337103/916dc901-40fe-4c3a-ab6b-837d2c914f2c">
<img width="1021" alt="image" src="https://github.com/omeatai/My-Tutorials/assets/32337103/29270eb3-bfc1-488e-8fa3-48ccb2f4c0e5">
<img width="1021" alt="image" src="https://github.com/omeatai/My-Tutorials/assets/32337103/277f0569-04c5-48bc-9039-143dc0ca2ffc">
<img width="1021" alt="image" src="https://github.com/omeatai/My-Tutorials/assets/32337103/75ecde46-1feb-4d1a-ad84-d4840cb1514c">
<img width="1021" alt="image" src="https://github.com/omeatai/My-Tutorials/assets/32337103/8a348951-9263-4002-8ee9-a25b6a581846">

### crwn-clothing/src/index.js:

```js
import React from "react";
import ReactDOM from "react-dom/client";
import { BrowserRouter } from "react-router-dom";

import App from "./App";
import { UserProvider } from "./contexts/userContext";
import { CategoriesProvider } from "./contexts/categoriesContext";
import { CartProvider } from "./contexts/cartContext";

import "./index.scss";

const root = ReactDOM.createRoot(document.getElementById("root"));
root.render(
  <React.StrictMode>
    <BrowserRouter>
      <UserProvider>
        <CategoriesProvider>
          <CartProvider>
            <App />
          </CartProvider>
        </CategoriesProvider>
      </UserProvider>
    </BrowserRouter>
  </React.StrictMode>
);
```

### crwn-clothing/src/App.js:

```js
import "./App.scss";
import { Routes, Route } from "react-router-dom";
import Home from "./routes/Home/Home";
import Shop from "./routes/Shop/Shop";
import Navigation from "./routes/Navigation/Navigation";
import Authentication from "./routes/Authentication/Authentication";
import Checkout from "./routes/Checkout/Checkout";

const App = () => {
  return (
    <Routes>
      <Route path="/" element={<Navigation />}>
        <Route index element={<Home />} />
        <Route path="shop/*" element={<Shop />} />
        <Route path="auth" element={<Authentication />} />
        <Route path="checkout" element={<Checkout />} />
        <Route path="/*" element={<Home />} />
      </Route>
    </Routes>
  );
};

export default App;
```

### crwn-clothing/src/utils/reducer/reducer.js:

```js
export const createAction = (type, payload) => ({ type, payload });
```

### crwn-clothing/src/contexts/cartContext.jsx:

```js
import React, { createContext, useReducer } from "react";

import { createAction } from "../utils/reducer/reducer";

// Add Item to Cart
const addCartItem = (cartItems, productToAdd) => {
  // find if cartItems contains productToAdd
  const existingCartItem = cartItems.find(
    (cartItem) => cartItem.id === productToAdd.id
  );

  //if found, increment quantity
  if (existingCartItem) {
    return cartItems.map((cartItem) =>
      cartItem.id === productToAdd.id
        ? { ...cartItem, quantity: cartItem.quantity + 1 }
        : cartItem
    );
  }

  // return new array with modified cartItems/ new cart item
  return [...cartItems, { ...productToAdd, quantity: 1 }];
};

// Remove Item from Cart
const removeCartItem = (cartItems, cartItemToRemove) => {
  // find the cart item to remove
  const existingCartItem = cartItems.find(
    (cartItem) => cartItem.id === cartItemToRemove.id
  );

  // check if quantity is equal to 1, if it is remove that item from the cart
  if (existingCartItem.quantity === 1) {
    return cartItems.filter((cartItem) => cartItem.id !== cartItemToRemove.id);
  }

  // return back cartitems with matching cart item with reduced quantity
  return cartItems.map((cartItem) =>
    cartItem.id === cartItemToRemove.id
      ? { ...cartItem, quantity: cartItem.quantity - 1 }
      : cartItem
  );
};

// Clear Item from Cart
const clearCartItem = (cartItems, cartItemToClear) => {
  return cartItems.filter((cartItem) => cartItem.id !== cartItemToClear.id);
};

// as the actual value you want to access
export const CartContext = createContext({
  isCartOpen: false,
  setIsCartOpen: () => {},
  cartItems: [],
  addItemToCart: () => {},
  removeItemFromCart: () => {},
  clearItemFromCart: () => {},
  cartCount: 0,
  cartTotal: 0,
});

const CART_ACTION_TYPES = {
  SET_CART_ITEMS: "SET_CART_ITEMS",
  SET_IS_CART_OPEN: "SET_IS_CART_OPEN",
};

const INITIAL_STATE = {
  cartItems: [],
  isCartOpen: false,
  cartCount: 0,
  cartTotal: 0,
};

const cartReducer = (state, action) => {
  const { type, payload } = action;

  console.log("payload: ", payload);
  console.log("type: ", type);
  console.log("state: ", state);

  switch (type) {
    case CART_ACTION_TYPES.SET_CART_ITEMS:
      return { ...state, ...payload };
    case CART_ACTION_TYPES.SET_IS_CART_OPEN:
      return { ...state, isCartOpen: payload };
    default:
      throw new Error(`unhandled type of type} in cartReducer`);
  }
};

export const CartProvider = ({ children }) => {
  const [{ cartItems, isCartOpen, cartCount, cartTotal }, dispatch] =
    useReducer(cartReducer, INITIAL_STATE);

  const updateCartItemsReducer = (newCartItems) => {
    const newCartCount = newCartItems.reduce((total, cartItem) => {
      return total + cartItem.quantity;
    }, 0);

    const newCartTotal = newCartItems.reduce((total, cartItem) => {
      return total + cartItem.quantity * cartItem.price;
    }, 0);

    dispatch(
      createAction(CART_ACTION_TYPES.SET_CART_ITEMS, {
        cartItems: newCartItems,
        cartTotal: newCartTotal,
        cartCount: newCartCount,
      })
    );
  };

  const addItemToCart = (productToAdd) => {
    const newCartItems = addCartItem(cartItems, productToAdd);
    updateCartItemsReducer(newCartItems);
  };

  const removeItemFromCart = (cartItemToRemove) => {
    const newCartItems = removeCartItem(cartItems, cartItemToRemove);
    updateCartItemsReducer(newCartItems);
  };

  const clearItemFromCart = (cartItemToClear) => {
    const newCartItems = clearCartItem(cartItems, cartItemToClear);
    updateCartItemsReducer(newCartItems);
  };

  const setIsCartOpen = (bool) => {
    dispatch(createAction(CART_ACTION_TYPES.SET_IS_CART_OPEN, bool));
    // dispatch({ type: CART_ACTION_TYPES.SET_IS_CART_OPEN, payload: bool });
  };

  const value = {
    isCartOpen,
    setIsCartOpen,
    cartItems,
    addItemToCart,
    removeItemFromCart,
    clearItemFromCart,
    cartCount,
    cartTotal,
  };

  return <CartContext.Provider value={value}>{children}</CartContext.Provider>;
};
```

### crwn-clothing/src/contexts/userContext.jsx:

```js
import React, { createContext, useEffect, useReducer } from "react";

import { createAction } from "../utils/reducer/reducer";

import {
  onAuthStateChangedListener,
  createUserDocumentFromAuth,
} from "../utils/firebase/firebase";

// as the actual value you want to access
export const UserContext = createContext({
  currentUser: null,
  setCurrentUser: () => null,
});

export const USER_ACTION_TYPES = {
  SET_CURRENT_USER: "SET_CURRENT_USER",
};

const userReducer = (state, action) => {
  console.log("Dispatched");
  console.log("Action: ", action);

  const { type, payload } = action;
  switch (type) {
    case USER_ACTION_TYPES.SET_CURRENT_USER:
      return {
        ...state,
        currentUser: payload,
      };
    // case "increment":
    //   return {
    //     value: state.value + 1,
    //   };
    default:
      throw new Error(`Unhandled type ${type} in userReducer`);
  }
};

const INITIAL_STATE = {
  currentUser: null,
};

export const UserProvider = ({ children }) => {
  // const [currentUser, setCurrentUser] = useState(null);
  const [{ currentUser }, dispatch] = useReducer(userReducer, INITIAL_STATE);
  const setCurrentUser = (user) => {
    dispatch(createAction(USER_ACTION_TYPES.SET_CURRENT_USER, user));
    // dispatch({ type: USER_ACTION_TYPES.SET_CURRENT_USER, payload: user });
  };

  const value = { currentUser, setCurrentUser };

  useEffect(() => {
    const unsubscribe = onAuthStateChangedListener((user) => {
      if (user) {
        createUserDocumentFromAuth(user);
      }
      setCurrentUser(user);
    });

    return unsubscribe;
  }, []);

  return <UserContext.Provider value={value}>{children}</UserContext.Provider>;
};
```

# #End </details>

+REDUX

<details>
  <summary>84. Redux - Introduction </summary>

# Redux - Introduction

<img width="1021" alt="image" src="https://github.com/omeatai/My-Tutorials/assets/32337103/807f1d04-6856-4511-8425-6c3ecb779629">
<img width="1021" alt="image" src="https://github.com/omeatai/My-Tutorials/assets/32337103/fa7a7c25-f009-4186-98bc-2f502c3a1314">
<img width="1021" alt="image" src="https://github.com/omeatai/My-Tutorials/assets/32337103/80ebdc15-91bb-49e2-a752-8cf8a107aa58">
<img width="1021" alt="image" src="https://github.com/omeatai/My-Tutorials/assets/32337103/a75e03b2-6aeb-4380-a42e-1787ccaf673f">
<img width="1021" alt="image" src="https://github.com/omeatai/My-Tutorials/assets/32337103/1c9ab86d-fb92-498c-8dc6-153c41d07685">
<img width="1021" alt="image" src="https://github.com/omeatai/My-Tutorials/assets/32337103/8cc29209-7107-4ec8-a662-ebc9792a8e78">

# Install Redux Dependencies

```jsbs
yarn add redux react-redux redux-logger
```

### crwn-clothing/src/index.js:

```js
import React from "react";
import ReactDOM from "react-dom/client";
import { BrowserRouter } from "react-router-dom";
import { Provider } from "react-redux";
import { store } from "./store/store";

import App from "./App";
import { UserProvider } from "./contexts/userContext";
import { CategoriesProvider } from "./contexts/categoriesContext";
import { CartProvider } from "./contexts/cartContext";

import "./index.scss";

const root = ReactDOM.createRoot(document.getElementById("root"));
root.render(
  <React.StrictMode>
    <Provider store={store}>
      <BrowserRouter>
        <UserProvider>
          <CategoriesProvider>
            <CartProvider>
              <App />
            </CartProvider>
          </CategoriesProvider>
        </UserProvider>
      </BrowserRouter>
    </Provider>
  </React.StrictMode>
);
```

### crwn-clothing/src/App.js:

```js
import "./App.scss";
import { Routes, Route } from "react-router-dom";
import Home from "./routes/Home/Home";
import Shop from "./routes/Shop/Shop";
import Navigation from "./routes/Navigation/Navigation";
import Authentication from "./routes/Authentication/Authentication";
import Checkout from "./routes/Checkout/Checkout";

const App = () => {
  return (
    <Routes>
      <Route path="/" element={<Navigation />}>
        <Route index element={<Home />} />
        <Route path="shop/*" element={<Shop />} />
        <Route path="auth" element={<Authentication />} />
        <Route path="checkout" element={<Checkout />} />
        <Route path="/*" element={<Home />} />
      </Route>
    </Routes>
  );
};

export default App;
```

### crwn-clothing/src/store/store.js:

```js
import {
  compose,
  legacy_createStore as createStore,
  applyMiddleware,
} from "redux";
import logger from "redux-logger";

import { rootReducer } from "./root-reducer";

const middleWares = [logger];

const composedEnhancers = compose(applyMiddleware(...middleWares));

// store root-reducer
export const store = createStore(rootReducer, undefined, composedEnhancers);
```

### crwn-clothing/src/store/root-reducer.js:

```js
import { combineReducers } from "redux";
import { userReducer } from "./user/userReducer";

export const rootReducer = combineReducers({
  user: userReducer,
});
```

### crwn-clothing/src/store/user/userReducer.js:

```js
export const USER_ACTION_TYPES = {
  SET_CURRENT_USER: "SET_CURRENT_USER",
};

const INITIAL_STATE = {
  currentUser: null,
};

export const userReducer = (state = INITIAL_STATE, action) => {
  console.log("Dispatched");
  console.log("Action: ", action);

  const { type, payload } = action;
  switch (type) {
    case USER_ACTION_TYPES.SET_CURRENT_USER:
      return {
        ...state,
        currentUser: payload,
      };
    default:
      return state;
  }
};
```

### crwn-clothing/src/contexts/userContext.jsx:

```js
import React, { createContext, useEffect, useReducer } from "react";

import { createAction } from "../utils/reducer/reducer";

import {
  onAuthStateChangedListener,
  createUserDocumentFromAuth,
} from "../utils/firebase/firebase";

// as the actual value you want to access
export const UserContext = createContext({
  currentUser: null,
  setCurrentUser: () => null,
});

export const USER_ACTION_TYPES = {
  SET_CURRENT_USER: "SET_CURRENT_USER",
};

const INITIAL_STATE = {
  currentUser: null,
};

const userReducer = (state, action) => {
  console.log("Dispatched");
  console.log("Action: ", action);

  const { type, payload } = action;
  switch (type) {
    case USER_ACTION_TYPES.SET_CURRENT_USER:
      return {
        ...state,
        currentUser: payload,
      };
    default:
      throw new Error(`Unhandled type ${type} in userReducer`);
  }
};

export const UserProvider = ({ children }) => {
  // const [currentUser, setCurrentUser] = useState(null);
  const [{ currentUser }, dispatch] = useReducer(userReducer, INITIAL_STATE);
  const setCurrentUser = (user) => {
    dispatch(createAction(USER_ACTION_TYPES.SET_CURRENT_USER, user));
    // dispatch({ type: USER_ACTION_TYPES.SET_CURRENT_USER, payload: user });
  };

  const value = { currentUser, setCurrentUser };

  useEffect(() => {
    const unsubscribe = onAuthStateChangedListener((user) => {
      if (user) {
        createUserDocumentFromAuth(user);
      }
      setCurrentUser(user);
    });

    return unsubscribe;
  }, []);

  return <UserContext.Provider value={value}>{children}</UserContext.Provider>;
};
```

# #End </details>

<details>
  <summary>85. Redux - Create Redux User Reducer </summary>

# Redux - Create Redux User Reducer

<img width="1021" alt="image" src="https://github.com/omeatai/My-Tutorials/assets/32337103/cd456379-d29d-4368-86c0-2c63571dcdc2">
<img width="1021" alt="image" src="https://github.com/omeatai/My-Tutorials/assets/32337103/c06e4584-3f95-4fbd-b004-6ac9523311ca">
<img width="1021" alt="image" src="https://github.com/omeatai/My-Tutorials/assets/32337103/627e02ca-51fb-49c6-b631-c9f945b3cba0">
<img width="1021" alt="image" src="https://github.com/omeatai/My-Tutorials/assets/32337103/9aeebc3b-a71a-4668-9f89-93e5ba7d9292">
<img width="1021" alt="image" src="https://github.com/omeatai/My-Tutorials/assets/32337103/fad7ef11-67a5-446d-a3ff-38bf44bc38c0">
<img width="1021" alt="image" src="https://github.com/omeatai/My-Tutorials/assets/32337103/2686aa71-ad1b-43ad-bf13-e5e530c3609e">
<img width="1021" alt="image" src="https://github.com/omeatai/My-Tutorials/assets/32337103/33c9134c-2fdc-42d5-88a9-587edf7cd3f5">
<img width="1021" alt="image" src="https://github.com/omeatai/My-Tutorials/assets/32337103/4822819c-4c9e-400b-8a4c-46cc09f1fd0d">
<img width="1021" alt="image" src="https://github.com/omeatai/My-Tutorials/assets/32337103/698bafb2-f632-46b5-89e0-358f9c071e94">
<img width="1199" alt="image" src="https://github.com/omeatai/My-Tutorials/assets/32337103/848a1e50-d468-4a0c-a411-777476da6d51">

### crwn-clothing/src/index.js:

```js
import React from "react";
import ReactDOM from "react-dom/client";
import { BrowserRouter } from "react-router-dom";
import { Provider } from "react-redux";
import { store } from "./store/store";

import App from "./App";
// import { UserProvider } from "./contexts/userContext";
import { CategoriesProvider } from "./contexts/categoriesContext";
import { CartProvider } from "./contexts/cartContext";

import "./index.scss";

const root = ReactDOM.createRoot(document.getElementById("root"));
root.render(
  <React.StrictMode>
    <Provider store={store}>
      <BrowserRouter>
        {/* <UserProvider> */}
        <CategoriesProvider>
          <CartProvider>
            <App />
          </CartProvider>
        </CategoriesProvider>
        {/* </UserProvider> */}
      </BrowserRouter>
    </Provider>
  </React.StrictMode>
);
```

### crwn-clothing/src/App.js:

```js
import "./App.scss";
import { Routes, Route } from "react-router-dom";
import Home from "./routes/Home/Home";
import Shop from "./routes/Shop/Shop";
import Navigation from "./routes/Navigation/Navigation";
import Authentication from "./routes/Authentication/Authentication";
import Checkout from "./routes/Checkout/Checkout";

import React, { useEffect } from "react";
import { setCurrentUser } from "./store/user/userAction";
import { useDispatch } from "react-redux";

import {
  onAuthStateChangedListener,
  createUserDocumentFromAuth,
} from "./utils/firebase/firebase";

const App = () => {
  const dispatch = useDispatch();

  useEffect(() => {
    const unsubscribe = onAuthStateChangedListener((user) => {
      if (user) {
        createUserDocumentFromAuth(user);
      }
      dispatch(setCurrentUser(user));
    });

    return unsubscribe;
  }, [dispatch]);

  return (
    <Routes>
      <Route path="/" element={<Navigation />}>
        <Route index element={<Home />} />
        <Route path="shop/*" element={<Shop />} />
        <Route path="auth" element={<Authentication />} />
        <Route path="checkout" element={<Checkout />} />
        <Route path="/*" element={<Home />} />
      </Route>
    </Routes>
  );
};

export default App;
```

### crwn-clothing/src/store/user/userAction.js:

```js
import { createAction } from "../../utils/reducer/reducer";
import { USER_ACTION_TYPES } from "./userTypes";

export const setCurrentUser = (user) => {
  return createAction(USER_ACTION_TYPES.SET_CURRENT_USER, user);
};
```

### crwn-clothing/src/utils/reducer/reducer.js:

```js
export const createAction = (type, payload) => ({ type, payload });
```

### crwn-clothing/src/store/user/userTypes.js:

```js
export const USER_ACTION_TYPES = {
  SET_CURRENT_USER: "SET_CURRENT_USER",
};
```

### crwn-clothing/src/store/store.js:

```js
import {
  compose,
  legacy_createStore as createStore,
  applyMiddleware,
} from "redux";
import logger from "redux-logger";

import { rootReducer } from "./root-reducer";

const middleWares = [logger];

const composedEnhancers = compose(applyMiddleware(...middleWares));

// store root-reducer
// createStore(reducer, [preloadedState], [enhancer])
export const store = createStore(rootReducer, undefined, composedEnhancers);
```

### crwn-clothing/src/store/root-reducer.js:

```js
import { combineReducers } from "redux";
import { userReducer } from "./user/userReducer";

export const rootReducer = combineReducers({
  user: userReducer,
});
```

### crwn-clothing/src/store/user/userReducer.js:

```js
import { USER_ACTION_TYPES } from "./userTypes";

const INITIAL_STATE = {
  currentUser: null,
};

export const userReducer = (state = INITIAL_STATE, action) => {
  //   console.log("Dispatched");
  //   console.log("Action: ", action);

  const { type, payload } = action;

  switch (type) {
    case USER_ACTION_TYPES.SET_CURRENT_USER:
      return {
        ...state,
        currentUser: payload,
      };
    default:
      return state;
  }
};
```

### crwn-clothing/src/contexts/userContext.jsx:

```js
import React, { createContext, useEffect, useReducer } from "react";

import { createAction } from "../utils/reducer/reducer";

import {
  onAuthStateChangedListener,
  createUserDocumentFromAuth,
} from "../utils/firebase/firebase";

// as the actual value you want to access
export const UserContext = createContext({
  currentUser: null,
  setCurrentUser: () => null,
});

export const USER_ACTION_TYPES = {
  SET_CURRENT_USER: "SET_CURRENT_USER",
};

const INITIAL_STATE = {
  currentUser: null,
};

const userReducer = (state, action) => {
  console.log("Dispatched");
  console.log("Action: ", action);

  const { type, payload } = action;
  switch (type) {
    case USER_ACTION_TYPES.SET_CURRENT_USER:
      return {
        ...state,
        currentUser: payload,
      };
    default:
      throw new Error(`Unhandled type ${type} in userReducer`);
  }
};

export const UserProvider = ({ children }) => {
  const [{ currentUser }, dispatch] = useReducer(userReducer, INITIAL_STATE);

  const setCurrentUser = (user) => {
    dispatch(createAction(USER_ACTION_TYPES.SET_CURRENT_USER, user));
  };

  const value = { currentUser, setCurrentUser };

  useEffect(() => {
    const unsubscribe = onAuthStateChangedListener((user) => {
      if (user) {
        createUserDocumentFromAuth(user);
      }
      setCurrentUser(user);
    });

    return unsubscribe;
  }, []);

  return <UserContext.Provider value={value}>{children}</UserContext.Provider>;
};
```

# #End </details>

<details>
  <summary>86. Redux - Redux Selectors for User Reducer </summary>

# Redux - Redux Selectors for User Reducer 

<img width="1022" alt="image" src="https://github.com/omeatai/My-Tutorials/assets/32337103/308b74ba-73b6-4511-9619-97d999ad7ac5">
<img width="1022" alt="image" src="https://github.com/omeatai/My-Tutorials/assets/32337103/82c384b3-fb55-44cd-9ef9-f8eccaa95559">
<img width="1022" alt="image" src="https://github.com/omeatai/My-Tutorials/assets/32337103/d00bfe8b-092e-452b-be4f-06c72d31babf">
<img width="1022" alt="image" src="https://github.com/omeatai/My-Tutorials/assets/32337103/7d2012eb-f449-43aa-b019-1be00d24299a">

### crwn-clothing/src/index.js:

```js
import React from "react";
import ReactDOM from "react-dom/client";
import { BrowserRouter } from "react-router-dom";
import { Provider } from "react-redux";
import { store } from "./store/store";

import App from "./App";
// import { UserProvider } from "./contexts/userContext";
import { CategoriesProvider } from "./contexts/categoriesContext";
import { CartProvider } from "./contexts/cartContext";

import "./index.scss";

const root = ReactDOM.createRoot(document.getElementById("root"));
root.render(
  <React.StrictMode>
    <Provider store={store}>
      <BrowserRouter>
        {/* <UserProvider> */}
        <CategoriesProvider>
          <CartProvider>
            <App />
          </CartProvider>
        </CategoriesProvider>
        {/* </UserProvider> */}
      </BrowserRouter>
    </Provider>
  </React.StrictMode>
);
```

### crwn-clothing/src/App.js:

```js
import "./App.scss";
import { Routes, Route } from "react-router-dom";
import Home from "./routes/Home/Home";
import Shop from "./routes/Shop/Shop";
import Navigation from "./routes/Navigation/Navigation";
import Authentication from "./routes/Authentication/Authentication";
import Checkout from "./routes/Checkout/Checkout";

import React, { useEffect } from "react";
import { setCurrentUser } from "./store/user/userAction";
import { useDispatch } from "react-redux";

import {
  onAuthStateChangedListener,
  createUserDocumentFromAuth,
} from "./utils/firebase/firebase";

const App = () => {
  const dispatch = useDispatch();

  useEffect(() => {
    const unsubscribe = onAuthStateChangedListener((user) => {
      if (user) {
        createUserDocumentFromAuth(user);
      }
      dispatch(setCurrentUser(user));
    });

    return unsubscribe;
  }, [dispatch]);

  return (
    <Routes>
      <Route path="/" element={<Navigation />}>
        <Route index element={<Home />} />
        <Route path="shop/*" element={<Shop />} />
        <Route path="auth" element={<Authentication />} />
        <Route path="checkout" element={<Checkout />} />
        <Route path="/*" element={<Home />} />
      </Route>
    </Routes>
  );
};

export default App;
```

### crwn-clothing/src/routes/Navigation/Navigation.jsx:

```jsbs
import { useSelector } from "react-redux";
import { selectCurrentUser } from "../../store/user/userSelector";

const currentUser = useSelector(selectCurrentUser);
// const currentUser = useSelector((state) => state.user.currentUser);
```

```js
import React, { Fragment, useContext } from "react";
import { Outlet } from "react-router-dom";

import { ReactComponent as CrwnLogo } from "../../assets/crown.svg";
// import { UserContext } from "../../contexts/userContext";
import { CartContext } from "../../contexts/cartContext";
import { signOutUser } from "../../utils/firebase/firebase";

import CartIcon from "../../components/CartIcon/CartIcon";
import CartDropDown from "../../components/CartDropDown/CartDropDown";

import { useSelector } from "react-redux";
import { selectCurrentUser } from "../../store/user/userSelector";

import {
  NavigationContainer,
  LogoContainer,
  NavLinksContainer,
  NavLink,
} from "./NavigationStyle";

const Navigation = () => {
  const currentUser = useSelector(selectCurrentUser);
  // const currentUser = useSelector((state) => state.user.currentUser);
  // const { currentUser } = useContext(UserContext);

  const { isCartOpen } = useContext(CartContext);

  const getEmailUsername = (email) => {
    const re = /(.*)@.+/;
    return email.replace(re, "$1").toUpperCase();
  };

  return (
    <Fragment>
      <NavigationContainer>
        <LogoContainer to="/home">
          <CrwnLogo className="logo" />
        </LogoContainer>
        <NavLinksContainer>
          <NavLink to="/">HOME</NavLink>
          <NavLink to="/shop">SHOP</NavLink>
          {currentUser ? (
            <NavLink as="span" to="#" onClick={signOutUser}>
              SIGN OUT
            </NavLink>
          ) : (
            <NavLink to="/auth">SIGN IN</NavLink>
          )}
          {currentUser ? (
            <NavLink to="#">
              <strong>Welcome, {getEmailUsername(currentUser.email)}!</strong>
            </NavLink>
          ) : null}
          <CartIcon />
        </NavLinksContainer>
        {isCartOpen && <CartDropDown />}
      </NavigationContainer>
      <Outlet />
    </Fragment>
  );
};

export default Navigation;
```

### crwn-clothing/src/store/user/userSelector.js:

```js
export const selectCurrentUser = (state) => state.user.currentUser;
```

# #End </details>

<details>
  <summary>87. Redux - Create Redux Categories Reducer </summary>

# Redux - Create Redux Categories Reducer

<img width="1022" alt="image" src="https://github.com/omeatai/My-Tutorials/assets/32337103/93fff3f2-34bb-45f2-82d8-8fc928176b04">
<img width="1022" alt="image" src="https://github.com/omeatai/My-Tutorials/assets/32337103/c6ba4a24-3b22-4e2d-abf2-7559ea0701e8">
<img width="1022" alt="image" src="https://github.com/omeatai/My-Tutorials/assets/32337103/6ea01adb-8d44-4aa8-b9c5-8b9e1334dda7">
<img width="1022" alt="image" src="https://github.com/omeatai/My-Tutorials/assets/32337103/cd9556b7-d82d-4e1e-99e5-de54ba97622b">
<img width="1022" alt="image" src="https://github.com/omeatai/My-Tutorials/assets/32337103/92178dc0-8eb8-44a1-a258-8698121a3142">
<img width="1022" alt="image" src="https://github.com/omeatai/My-Tutorials/assets/32337103/b8160f4e-2b4a-4f3d-a979-97fb244d59c2">

### crwn-clothing/src/index.js:

```js
import React from "react";
import ReactDOM from "react-dom/client";
import { BrowserRouter } from "react-router-dom";
import { Provider } from "react-redux";
import { store } from "./store/store";

import App from "./App";
// import { UserProvider } from "./contexts/userContext";
import { CategoriesProvider } from "./contexts/categoriesContext";
import { CartProvider } from "./contexts/cartContext";

import "./index.scss";

const root = ReactDOM.createRoot(document.getElementById("root"));
root.render(
  <React.StrictMode>
    <Provider store={store}>
      <BrowserRouter>
        {/* <UserProvider> */}
        <CategoriesProvider>
          <CartProvider>
            <App />
          </CartProvider>
        </CategoriesProvider>
        {/* </UserProvider> */}
      </BrowserRouter>
    </Provider>
  </React.StrictMode>
);
```

### crwn-clothing/src/App.js:

```js
import "./App.scss";
import { Routes, Route } from "react-router-dom";
import Home from "./routes/Home/Home";
import Shop from "./routes/Shop/Shop";
import Navigation from "./routes/Navigation/Navigation";
import Authentication from "./routes/Authentication/Authentication";
import Checkout from "./routes/Checkout/Checkout";

import React, { useEffect } from "react";
import { setCurrentUser } from "./store/user/userAction";
import { useDispatch } from "react-redux";

import {
  onAuthStateChangedListener,
  createUserDocumentFromAuth,
} from "./utils/firebase/firebase";

const App = () => {
  const dispatch = useDispatch();

  useEffect(() => {
    const unsubscribe = onAuthStateChangedListener((user) => {
      if (user) {
        createUserDocumentFromAuth(user);
      }
      dispatch(setCurrentUser(user));
    });

    return unsubscribe;
  }, [dispatch]);

  return (
    <Routes>
      <Route path="/" element={<Navigation />}>
        <Route index element={<Home />} />
        <Route path="shop/*" element={<Shop />} />
        <Route path="auth" element={<Authentication />} />
        <Route path="checkout" element={<Checkout />} />
        <Route path="/*" element={<Home />} />
      </Route>
    </Routes>
  );
};

export default App;
```

### crwn-clothing/src/store/root-reducer.js:

```js
import { combineReducers } from "redux";
import { userReducer } from "./user/userReducer";
import { categoriesReducer } from "./categories/categoryReducer";

export const rootReducer = combineReducers({
  user: userReducer,
  categories: categoriesReducer,
});
```

### crwn-clothing/src/store/categories/categoryReducer.js:

```js
import { CATEGORIES_ACTION_TYPES } from "./categoryTypes";

export const CATEGORIES_INITIAL_STATE = {
  categoriesMap: {},
};

export const categoriesReducer = (
  state = CATEGORIES_INITIAL_STATE,
  action = {}
) => {
  const { type, payload } = action;

  switch (type) {
    case CATEGORIES_ACTION_TYPES.SET_CATEGORIES_MAP:
      return { ...state, categoriesMap: payload };
    default:
      return state;
  }
};
```

### crwn-clothing/src/store/categories/categoryAction.js:

```js
import { CATEGORIES_ACTION_TYPES } from "./categoryTypes";
import { createAction } from "../../utils/reducer/reducer";

export const setCategoriesMap = (categoriesMap) =>
  createAction(CATEGORIES_ACTION_TYPES.SET_CATEGORIES_MAP, categoriesMap);
```

### crwn-clothing/src/store/categories/categoryTypes.js:

```js
export const CATEGORIES_ACTION_TYPES = {
  SET_CATEGORIES_MAP: "categories/SET_CATEGORIES_MAP",
};
```

# #End </details>

<details>
  <summary>88. Redux - Redux Selectors for Categories Reducer </summary>

# Redux - Redux Selectors for Categories Reducer

```js

```

```js

```

```js

```

```js

```

```js

```

```js

```

```js

```

```js

```

```js

```

```js

```

```js

```

```js

```

```js

```

````

```js

````

```js

```

```js

```

```js

```

```js

```

```js

```

```js

```

```js

```

```js

```

```js

```

```js

```

```js

```

# #End

</details>
