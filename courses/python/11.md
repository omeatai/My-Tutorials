#### [11-DJANGO COURSE FOR ABSOLUTE BEGINNERS - SSALI JONATHAN](/courses/python/11.md)

+INTRODUCTION

<details>
  <summary>1. Introduction </summary>

# Create Directory:

```py
mkdir django_beginners
cd django_beginners
```

Create virtual env:

```py
python3 -m venv env
source env/bin/activate
```

Install Django:

```py
python -m pip install Django
pip install Django
pip install Django==4.1.5

django-admin
```

Upgrade pip:

```py
python -m pip install --upgrade pip
```

Create Django Project:

```py
django-admin startproject blogproject
rm -rf blogproject
django-admin startproject blogproject .
```

Run local Server:

```py
python manage.py runserver
```

![](https://user-images.githubusercontent.com/32337103/226185512-058a66c2-2447-4460-b8b8-a84aa5af7363.png)

</details>

<details>
  <summary>2. Create App</summary>

```py
django-admin startapp posts
django-admin startapp users

python manage.py startapp posts
python manage.py startapp users
```

Register Apps in Django Settings -

django_beginners/blogproject/settings.py:

```pybs
INSTALLED_APPS = [
    'django.contrib.admin',
    'django.contrib.auth',
    'django.contrib.contenttypes',
    'django.contrib.sessions',
    'django.contrib.messages',
    'django.contrib.staticfiles',
    #apps
    'posts.apps.PostsConfig',
    'users.apps.UsersConfig',
]
```

```py
"""
Django settings for blogproject project.

Generated by 'django-admin startproject' using Django 4.1.7.

For more information on this file, see
https://docs.djangoproject.com/en/4.1/topics/settings/

For the full list of settings and their values, see
https://docs.djangoproject.com/en/4.1/ref/settings/
"""

from pathlib import Path

# Build paths inside the project like this: BASE_DIR / 'subdir'.
BASE_DIR = Path(__file__).resolve().parent.parent


# Quick-start development settings - unsuitable for production
# See https://docs.djangoproject.com/en/4.1/howto/deployment/checklist/

# SECURITY WARNING: keep the secret key used in production secret!
SECRET_KEY = 'django-insecure-%t0s5)w^0!f-y)xi0@8bk1pay1f9mtm!ld4rps)eadi+mqpyjt'

# SECURITY WARNING: don't run with debug turned on in production!
DEBUG = True

ALLOWED_HOSTS = []


# Application definition

INSTALLED_APPS = [
    'django.contrib.admin',
    'django.contrib.auth',
    'django.contrib.contenttypes',
    'django.contrib.sessions',
    'django.contrib.messages',
    'django.contrib.staticfiles',
    #apps
    'posts.apps.PostsConfig',
    'users.apps.Users Config',
]

MIDDLEWARE = [
    'django.middleware.security.SecurityMiddleware',
    'django.contrib.sessions.middleware.SessionMiddleware',
    'django.middleware.common.CommonMiddleware',
    'django.middleware.csrf.CsrfViewMiddleware',
    'django.contrib.auth.middleware.AuthenticationMiddleware',
    'django.contrib.messages.middleware.MessageMiddleware',
    'django.middleware.clickjacking.XFrameOptionsMiddleware',
]

ROOT_URLCONF = 'blogproject.urls'

TEMPLATES = [
    {
        'BACKEND': 'django.template.backends.django.DjangoTemplates',
        'DIRS': [],
        'APP_DIRS': True,
        'OPTIONS': {
            'context_processors': [
                'django.template.context_processors.debug',
                'django.template.context_processors.request',
                'django.contrib.auth.context_processors.auth',
                'django.contrib.messages.context_processors.messages',
            ],
        },
    },
]

WSGI_APPLICATION = 'blogproject.wsgi.application'


# Database
# https://docs.djangoproject.com/en/4.1/ref/settings/#databases

DATABASES = {
    'default': {
        'ENGINE': 'django.db.backends.sqlite3',
        'NAME': BASE_DIR / 'db.sqlite3',
    }
}


# Password validation
# https://docs.djangoproject.com/en/4.1/ref/settings/#auth-password-validators

AUTH_PASSWORD_VALIDATORS = [
    {
        'NAME': 'django.contrib.auth.password_validation.UserAttributeSimilarityValidator',
    },
    {
        'NAME': 'django.contrib.auth.password_validation.MinimumLengthValidator',
    },
    {
        'NAME': 'django.contrib.auth.password_validation.CommonPasswordValidator',
    },
    {
        'NAME': 'django.contrib.auth.password_validation.NumericPasswordValidator',
    },
]


# Internationalization
# https://docs.djangoproject.com/en/4.1/topics/i18n/

LANGUAGE_CODE = 'en-us'

TIME_ZONE = 'UTC'

USE_I18N = True

USE_TZ = True


# Static files (CSS, JavaScript, Images)
# https://docs.djangoproject.com/en/4.1/howto/static-files/

STATIC_URL = 'static/'

# Default primary key field type
# https://docs.djangoproject.com/en/4.1/ref/settings/#default-auto-field

DEFAULT_AUTO_FIELD = 'django.db.models.BigAutoField'

```

</details>

<details>
  <summary>3. View with simple HTTP Response </summary>

django_beginners/posts/views.py:

```py
from django.shortcuts import render
from django.http import HttpRequest, HttpResponse
# Create your views here.


def index(request:HttpRequest):
    return HttpResponse("Hello World!")

```

django_beginners/blogproject/urls.py:

```py
from django.contrib import admin
from django.urls import path, include

urlpatterns = [
    path('admin/', admin.site.urls),
    path('posts/', include('posts.urls'))
]

```

django_beginners/posts/urls.py:

```py
from django.urls import path
from . import views

urlpatterns = [
    path('', views.index, name="posts_home"),
]
```

![](https://user-images.githubusercontent.com/32337103/226186955-0fb9e30e-f106-4fa3-bb56-a0cc16576bf7.png)

</details>

<details>
  <summary>4. View with URL variables passed </summary>

django_beginners/posts/views.py:

```py
from django.shortcuts import render
from django.http import HttpRequest, HttpResponse
# Create your views here.


def index(request:HttpRequest):
    return HttpResponse("Hello World!")


def greet(request:HttpRequest):
    name = request.GET.get("name") or "Friend"
    return HttpResponse(f"Hello {name}")

```

django_beginners/posts/urls.py:

```py
from django.urls import path
from . import views

urlpatterns = [
    path('', views.index, name="posts_home"),
    path("greet/", views.greet, name="greet_name"),
]
```

![](https://user-images.githubusercontent.com/32337103/226187580-b56ed69e-98c0-4283-ac89-cbd28ca140ca.png)
![](https://user-images.githubusercontent.com/32337103/226187655-0bffc619-5752-4091-bd87-e80530c4eb50.png)

</details>

<details>
  <summary>5. View with List data to return all posts </summary>

django_beginners/posts/views.py:

```py
from django.shortcuts import render
from django.http import HttpRequest, HttpResponse
# Create your views here.


posts=[
    {
        "id":1,
        "title":"Learn Django",
        "author":"Tom Bradley"
    },
    {
        "id":2,
        "title":"Learn Python",
        "author":"Jerry Scrofield"
    },
    {
        "id":3,
        "title":"Learn C",
        "author":"Mary Green"
    },
]

def index(request:HttpRequest):
    return HttpResponse("Hello World!")


def greet(request:HttpRequest):
    name = request.GET.get("name") or "Friend"
    return HttpResponse(f"Hello {name}")

def all_posts(request:HttpRequest):
    return HttpResponse(str(posts))

```

django_beginners/posts/urls.py:

```py
from django.urls import path
from . import views

urlpatterns = [
    path('', views.index, name="posts_home"),
    path("greet/", views.greet, name="greet_name"),
    path("allposts/", views.all_posts, name="all_posts"),
]
```

![](https://user-images.githubusercontent.com/32337103/226188394-074d2161-2113-4375-a7b9-0223246601f9.png)

</details>

<details>
  <summary>6. View with List data to return one post </summary>

django_beginners/posts/views.py:

```pybs
def one_post(request:HttpRequest, post_id):
    for post in posts:
        if post["id"] == post_id:
            return HttpResponse(str(post))
    return HttpResponse("Post Not Found")
```

```py
from django.shortcuts import render
from django.http import HttpRequest, HttpResponse
# Create your views here.


posts=[
    {
        "id":1,
        "title":"Learn Django",
        "author":"Tom Bradley"
    },
    {
        "id":2,
        "title":"Learn Python",
        "author":"Jerry Scrofield"
    },
    {
        "id":3,
        "title":"Learn C",
        "author":"Mary Green"
    },
]

def index(request:HttpRequest):
    return HttpResponse("Hello World!")


def greet(request:HttpRequest):
    name = request.GET.get("name") or "Friend"
    return HttpResponse(f"Hello {name}")

def all_posts(request:HttpRequest):
    return HttpResponse(str(posts))

def one_post(request:HttpRequest, post_id):
    for post in posts:
        if post["id"] == post_id:
            return HttpResponse(str(post))
    return HttpResponse("Post Not Found")

```

django_beginners/posts/urls.py:

```py
from django.urls import path
from . import views

urlpatterns = [
    path('', views.index, name="posts_home"),
    path("greet/", views.greet, name="greet_name"),
    path("posts/", views.all_posts, name="posts"),
    path("posts/<int:post_id>/", views.one_post, name="one_post"),
]
```

![](https://user-images.githubusercontent.com/32337103/226189124-a1c60221-adda-4513-b65a-46ff2a212bf7.png)
![](https://user-images.githubusercontent.com/32337103/226189142-ae073d74-f795-4781-b3b6-5067e8a8109b.png)

</details>

<details>
  <summary>7. Render a simple HTML Template </summary>

django_beginners/posts/templates/index.html:

```html
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Django Template</title>
  </head>
  <body>
    <h1>Hello People!</h1>
  </body>
</html>
```

django_beginners/posts/views.py:

```pybs
def index(request:HttpRequest):
    return render(request, 'index.html')
```

```py
from django.shortcuts import render
from django.http import HttpRequest, HttpResponse
# Create your views here.


posts=[
    {
        "id":1,
        "title":"Learn Django",
        "author":"Tom Bradley"
    },
    {
        "id":2,
        "title":"Learn Python",
        "author":"Jerry Scrofield"
    },
    {
        "id":3,
        "title":"Learn C",
        "author":"Mary Green"
    },
]

def index(request:HttpRequest):
    return render(request, 'index.html')

def greet(request:HttpRequest):
    name = request.GET.get("name") or "Friend"
    return HttpResponse(f"Hello {name}")

def all_posts(request:HttpRequest):
    return HttpResponse(str(posts))

def one_post(request:HttpRequest, post_id):
    for post in posts:
        if post["id"] == post_id:
            return HttpResponse(str(post))
    return HttpResponse("Post Not Found")

```

django_beginners/posts/urls.py:

```py
from django.urls import path
from . import views

urlpatterns = [
    path('', views.index, name="posts_home"),
    path("greet/", views.greet, name="greet_name"),
    path("posts/", views.all_posts, name="posts"),
    path("posts/<int:post_id>/", views.one_post, name="one_post"),
]
```

![](https://user-images.githubusercontent.com/32337103/226190864-7b0b7de3-553a-4c89-bfcd-314f50ae55c3.png)

</details>

<details>
  <summary>8. Render Dynamic Template with Context</summary>

django_beginners/posts/templates/index.html:

```html
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Django Template</title>
  </head>
  <body>
    <h1>Hello {{name | title}}!</h1>
  </body>
</html>
```

django_beginners/posts/views.py:

```pybs
def index(request:HttpRequest):
    name = request.GET.get("name") or "People"
    context={
        "name":name
    }
    return render(request, 'index.html', context)
```

```py
from django.shortcuts import render
from django.http import HttpRequest, HttpResponse
# Create your views here.


posts=[
    {
        "id":1,
        "title":"Learn Django",
        "author":"Tom Bradley"
    },
    {
        "id":2,
        "title":"Learn Python",
        "author":"Jerry Scrofield"
    },
    {
        "id":3,
        "title":"Learn C",
        "author":"Mary Green"
    },
]

def index(request:HttpRequest):
    name = request.GET.get("name") or "People"
    context={
        "name":name
    }
    return render(request, 'index.html', context)

def greet(request:HttpRequest):
    name = request.GET.get("name") or "Friend"
    return HttpResponse(f"Hello {name}")

def all_posts(request:HttpRequest):
    return HttpResponse(str(posts))

def one_post(request:HttpRequest, post_id):
    for post in posts:
        if post["id"] == post_id:
            return HttpResponse(str(post))
    return HttpResponse("Post Not Found")

```

django_beginners/posts/urls.py:

```py
from django.urls import path
from . import views

urlpatterns = [
    path('', views.index, name="posts_home"),
    path("greet/", views.greet, name="greet_name"),
    path("posts/", views.all_posts, name="posts"),
    path("posts/<int:post_id>/", views.one_post, name="one_post"),
]
```

![](https://user-images.githubusercontent.com/32337103/226191722-611e2a37-8d79-47c2-8f29-f9cd8ac909dc.png)
![](https://user-images.githubusercontent.com/32337103/226191753-a399baaf-71e3-4955-b586-1b4c7fdecdd4.png)

</details>

<details>
  <summary>9. Render Template with List data using Context </summary>

django_beginners/posts/views.py:

```pybs
def index(request:HttpRequest):
    name = request.GET.get("name") or "People"
    context={
        "name":name,
        "posts":posts,
    }
    return render(request, 'index.html', context)
```

```py
from django.shortcuts import render
from django.http import HttpRequest, HttpResponse
# Create your views here.


posts=[
    {
        "id":1,
        "title":"Learn Django",
        "author":"Tom Bradley"
    },
    {
        "id":2,
        "title":"Learn Python",
        "author":"Jerry Scrofield"
    },
    {
        "id":3,
        "title":"Learn C",
        "author":"Mary Green"
    },
]

def index(request:HttpRequest):
    name = request.GET.get("name") or "People"
    context={
        "name":name,
        "posts":posts,
    }
    return render(request, 'index.html', context)

def greet(request:HttpRequest):
    name = request.GET.get("name") or "Friend"
    return HttpResponse(f"Hello {name}")

def all_posts(request:HttpRequest):
    return HttpResponse(str(posts))

def one_post(request:HttpRequest, post_id):
    for post in posts:
        if post["id"] == post_id:
            return HttpResponse(str(post))
    return HttpResponse("Post Not Found")

```

django_beginners/posts/templates/index.html:

```py
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Django Template</title>
</head>
<body>
    <h1>Hello {{name | title}}!</h1>
    <h2> - List of Posts - </h2>
    {% for post in posts %}
        <h2>{{ post.id }} | {{ post.title }}</h2>
        <p>By <strong>{{ post.author }}</strong></p>
    {% endfor %}

</body>
</html>
```

django_beginners/posts/urls.py:

```py
from django.urls import path
from . import views

urlpatterns = [
    path('', views.index, name="posts_home"),
    path("greet/", views.greet, name="greet_name"),
    path("posts/", views.all_posts, name="posts"),
    path("posts/<int:post_id>/", views.one_post, name="one_post"),
]
```

![](https://user-images.githubusercontent.com/32337103/226192483-05620533-e9cf-4f71-bd89-2e4c2d78f07a.png)

</details>

<details>
  <summary>10. Templates for About and Services Page </summary>

django_beginners/posts/views.py:

```py
from django.shortcuts import render
from django.http import HttpRequest, HttpResponse
# Create your views here.


posts=[
    {
        "id":1,
        "title":"Learn Django",
        "author":"Tom Bradley"
    },
    {
        "id":2,
        "title":"Learn Python",
        "author":"Jerry Scrofield"
    },
    {
        "id":3,
        "title":"Learn C",
        "author":"Mary Green"
    },
]

def index(request:HttpRequest):
    name = request.GET.get("name") or "People"
    context={
        "name":name,
        "posts":posts,
    }
    return render(request, 'index.html', context)

def about(request):
    return render(request, 'about.html')

def services(request):
    return render(request, 'services.html')

def greet(request:HttpRequest):
    name = request.GET.get("name") or "Friend"
    return HttpResponse(f"Hello {name}")

def all_posts(request:HttpRequest):
    return HttpResponse(str(posts))

def one_post(request:HttpRequest, post_id):
    for post in posts:
        if post["id"] == post_id:
            return HttpResponse(str(post))
    return HttpResponse("Post Not Found")

```

django_beginners/posts/urls.py:

```py
from django.urls import path
from . import views

urlpatterns = [
    path('', views.index, name="posts_home"),
    path("greet/", views.greet, name="greet_name"),
    path("posts/", views.all_posts, name="posts"),
    path("posts/<int:post_id>/", views.one_post, name="one_post"),
    path("about/", views.about, name="posts_about"),
    path("services/", views.services, name="posts_services"),
]
```

django_beginners/posts/templates/about.html:

```html
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>About</title>
  </head>
  <body>
    <h1>About Page</h1>
  </body>
</html>
```

django_beginners/posts/templates/services.html:

```html
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Services</title>
  </head>
  <body>
    <h1>Services Page</h1>
  </body>
</html>
```

![](https://user-images.githubusercontent.com/32337103/226253833-6702acf1-6497-4c4a-8644-5f93de8c2350.png)
![](https://user-images.githubusercontent.com/32337103/226253866-9a38a55c-002a-4a47-bd69-1f4043484ece.png)

</details>

<details>
  <summary>11. Nav links </summary>

django_beginners/posts/templates/index.html:

```html
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Django Template</title>
  </head>
  <body>
    <header>
      <nav>
        <a href="{% url 'posts_home' %}">Home</a>
        <a href="{% url 'posts_about' %}">About</a>
        <a href="{% url 'posts_services' %}">Services</a>
      </nav>
    </header>
    <h1>Hello {{name | title}}!</h1>
    <h2>- List of Posts -</h2>
    {% for post in posts %}
    <h2>{{ post.id }} | {{ post.title }}</h2>
    <p>By <strong>{{ post.author }}</strong></p>
    {% endfor %}
  </body>
</html>
```

django_beginners/posts/urls.py:

```py
from django.urls import path
from . import views

urlpatterns = [
    path('', views.index, name="posts_home"),
    path("greet/", views.greet, name="greet_name"),
    path("posts/", views.all_posts, name="posts"),
    path("posts/<int:post_id>/", views.one_post, name="one_post"),
    path("about/", views.about, name="posts_about"),
    path("services/", views.services, name="posts_services"),
]
```

![](https://user-images.githubusercontent.com/32337103/226254610-168ffe1f-c37e-4506-b3f0-7bdb8980f9d0.png)

</details>

<details>
  <summary>12. Template Inheritance </summary>

django_beginners/posts/views.py:

```py
from django.shortcuts import render
from django.http import HttpRequest, HttpResponse
# Create your views here.


posts=[
    {
        "id":1,
        "title":"Learn Django",
        "author":"Tom Bradley"
    },
    {
        "id":2,
        "title":"Learn Python",
        "author":"Jerry Scrofield"
    },
    {
        "id":3,
        "title":"Learn C",
        "author":"Mary Green"
    },
]

def index(request:HttpRequest):
    name = request.GET.get("name") or "People"
    context={
        "name": name,
        "posts": posts,
        "title": "Home Page",
    }
    return render(request, 'index.html', context)

def about(request):
    context={
        "title": "About Page",
    }
    return render(request, 'about.html', context)

def services(request):
    context={
        "title": "Services Page",
    }
    return render(request, 'services.html', context)

def greet(request:HttpRequest):
    name = request.GET.get("name") or "Friend"
    return HttpResponse(f"Hello {name}")

def all_posts(request:HttpRequest):
    return HttpResponse(str(posts))

def one_post(request:HttpRequest, post_id):
    for post in posts:
        if post["id"] == post_id:
            return HttpResponse(str(post))
    return HttpResponse("Post Not Found")

```

django_beginners/posts/templates/base.html:

```html
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>{{title}}</title>
  </head>
  <body>
    <header>
      <nav>
        <a href="{% url 'posts_home' %}">Home</a>
        <a href="{% url 'posts_about' %}">About</a>
        <a href="{% url 'posts_services' %}">Services</a>
      </nav>
    </header>
    <main>{% block content %} {% endblock content %}</main>

    <footer>&copy; Django App 2023</footer>
  </body>
</html>
```

django_beginners/posts/templates/index.html:

```py
{% extends 'base.html' %}

{% block content %}
    <h1>Hello {{name | title}}!</h1>
    <h2> - List of Posts - </h2>
    {% for post in posts %}
        <h2>{{ post.id }} | {{ post.title }}</h2>
        <p>By <strong>{{ post.author }}</strong></p>
    {% endfor %}
{% endblock content %}
```

django_beginners/posts/templates/about.html:

```py
{% extends 'base.html' %}

{% block content %}
    <h1>About Page</h1>
{% endblock content %}
```

django_beginners/posts/templates/services.html:

```py
{% extends 'base.html' %}

{% block content %}
    <h1>Services Page</h1>
{% endblock content %}

```

django_beginners/posts/urls.py:

```py
from django.urls import path
from . import views

urlpatterns = [
    path('', views.index, name="posts_home"),
    path("greet/", views.greet, name="greet_name"),
    path("posts/", views.all_posts, name="posts"),
    path("posts/<int:post_id>/", views.one_post, name="one_post"),
    path("about/", views.about, name="posts_about"),
    path("services/", views.services, name="posts_services"),
]
```

![](https://user-images.githubusercontent.com/32337103/226258453-1e7aecd3-c14d-4bc9-adfa-a77ea971c002.png)

![](https://user-images.githubusercontent.com/32337103/226258498-7af71cff-be30-426f-a160-9896ff7535b3.png)

![](https://user-images.githubusercontent.com/32337103/226258534-74e6996c-2617-44f3-af1b-aee83ee65d6f.png)

</details>

<details>
  <summary>13. Static Files </summary>

django_beginners/posts/templates/base.html:

```py
{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="{% static 'css/main.css' %}">
    <title>{{title}}</title>
</head>
<body>
    <header>
        <nav>
            <a class="nav-link" href="{% url 'posts_home' %}">Home</a>
            <a class="nav-link" href="{% url 'posts_about' %}">About</a>
            <a class="nav-link" href="{% url 'posts_services' %}">Services</a>
        </nav>
    </header>
    <main>
        {% block content %}

        {% endblock content %}
    </main>

    <footer class="footer">&copy; Django App 2023</footer>
    <script src="{% static 'js/index.js' %}"></script>
</body>
</html>
```

django_beginners/posts/templates/index.html:

```py
{% extends 'base.html' %}

{% block content %}
    <div class="container">
        <h1 class="shift-right"> - List of Posts - </h1>
        {% for post in posts %}
            <div class="post">
                <h2>{{ post.id }} | {{ post.title }}</h2>
                <p>By <strong>{{ post.author }}</strong></p>
            </div>
        {% endfor %}
        <div class="shift-right">
            <button id="mybtn">Click Alert</button>
        </div>

    </div>
{% endblock content %}
```

django_beginners/posts/static/js/index.js:

```js
const mybtn = document.getElementById("mybtn");

mybtn.addEventListener("click", () => {
  alert("This is your Django Alert!");
});
```

django_beginners/posts/static/css/main.css:

```css
* {
  padding: 0;
  margin: 0;
  box-sizing: border-box;
  font-family: "Gill Sans", "Gill Sans MT", Calibri, "Trebuchet MS", sans-serif;
}

nav {
  background-color: black;
  padding: 20px;
}

.nav-link {
  color: white;
  margin-left: 20px;
}

.shift-right {
  margin: 20px;
}

.container {
  display: flex;
  flex-direction: column;
  min-height: 85vh;
}

a {
  text-decoration: none;
}

button {
  padding: 15px 60px;
  border: 5px solid transparent;
  border-radius: 50px;
  background-color: deepskyblue;
  color: white;
  font-size: 1rem;
  outline: 2px solid deepskyblue;
  outline-offset: 2px;
  cursor: pointer;
}

button:hover {
  border: 5px solid black;
  outline: none;
}

button:active {
  background-color: black;
}

.post {
  padding: 20px;
}

.footer {
  text-align: center;
  background-color: black;
  color: wheat;
  padding: 30px;
  flex: 1;
  height: 15vh;
}
```

![](https://user-images.githubusercontent.com/32337103/226471687-6d35f1db-15cf-4246-8822-cd032e769606.png)
![](https://user-images.githubusercontent.com/32337103/226471741-026a0978-3d7c-4903-94b5-b88a911b6576.png)

django_beginners/posts/templates/index.html:

```py
{% extends 'base.html' %}
{% load static %}
{% block content %}
    <div class="container">
        <h1 class="shift-right"> - List of Posts - </h1>
        {% for post in posts %}
            <div class="post">
                <h2>{{ post.id }} | {{ post.title }}</h2>
                <p>By <strong>{{ post.author }}</strong></p>
                <img class="image" src="{% static 'images/me.jpeg' %}" alt="photo">
            </div>
        {% endfor %}
        <div class="shift-right">
            <button id="mybtn">Click Alert</button>
        </div>

    </div>
{% endblock content %}
```

django_beginners/posts/static/css/main.css:

```py
* {
  padding: 0;
  margin: 0;
  box-sizing: border-box;
  font-family: "Gill Sans", "Gill Sans MT", Calibri, "Trebuchet MS", sans-serif;
}

nav {
  background-color: black;
  padding: 20px;
}

.nav-link {
  color: white;
  margin-left: 20px;
}

.shift-right {
  margin: 20px;
}

.container {
  display: flex;
  flex-direction: column;
  min-height: 85vh;
}

a {
  text-decoration: none;
}

button {
  padding: 15px 60px;
  border: 5px solid transparent;
  border-radius: 50px;
  background-color: deepskyblue;
  color: white;
  font-size: 1rem;
  outline: 2px solid deepskyblue;
  outline-offset: 2px;
  cursor: pointer;
}

button:hover {
  border: 5px solid black;
  outline: none;
}

button:active {
  background-color: black;
}

.post {
  padding: 20px;
}

.footer {
  text-align: center;
  background-color: black;
  color: wheat;
  padding: 30px;
  flex: 1;
  height: 15vh;
}

.image {
  width: 100px;
}

```

![](https://user-images.githubusercontent.com/32337103/226477152-18963d2c-4848-417c-b148-164e961fc9c6.png)

![](https://user-images.githubusercontent.com/32337103/226477074-2cc3dcff-c079-4466-9f05-3266b281da6e.png)

</details>

<details>
  <summary>14. Database Models </summary>

django_beginners/posts/models.py:

```py
from django.db import models

# Create your models here.

"""
class Post:
    title: str
    author: str
    content: str
    thumbnail: image
"""

class Post(models.Model):
    title=models.CharField(max_length=225)
    author=models.CharField(max_length=45)
    content=models.TextField()
    thumbnail=models.ImageField(upload_to='thumbnails/', default='default.jpeg')

```

```pybs
pip install pillow
```

```py
python manage.py makemigrations
python manage.py migrate
```

```py
python manage.py shell
```

Check the current Posts:

```pybs
>>> from posts.models import Post
>>> posts=Post.objects.all()
>>> posts
<QuerySet []>
```

Add a new Post:

```pybs
>>> new_post=Post(title="Learn Django", author="John Doe", content="This is a Django web framework")
>>> new_post.title
'Learn Django'
>>> new_post.author
'John Doe'
>>> new_post.content
'This is a Django web framework'
>>> new_post.title="Django for beginners"
>>> new_post.title
'Django for beginners'
>>> new_post.save()
>>> posts
<QuerySet [<Post: Post object (1)>]>
```

django_beginners/posts/models.py:

```py
from django.db import models

"""
class Post:
    title: str
    author: str
    content: str
    thumbnail: image
"""

class Post(models.Model):
    title=models.CharField(max_length=225)
    author=models.CharField(max_length=45)
    content=models.TextField()
    thumbnail=models.ImageField(upload_to='thumbnails/', default='default.jpeg')

    def __str__(self):
        return f"<Post: {self.title}>"
```

```pybs
>>> from posts.models import Post
>>> posts=Post.objects.all()
>>> posts
<QuerySet [<Post: <Post: Django for beginners>>]>
```

Add a new Post:

```pybs
>>> new_post=Post(title="Basic JavaScript", author="John Doe", content="The beginner guide")
>>> new_post.save()
>>> Post.objects.all()
<QuerySet [<Post: <Post: Django for beginners>>, <Post: <Post: Basic JavaScript>>]>
```

Get Object Record:

```pybs
>>> post=Post.objects.get(pk=1)
>>> post
<Post: <Post Django for beginners>>
>>> post=Post.objects.get(pk=2)
>>> post
<Post: <Post Basic JavaScript>>
```

Filter Objects Records:

```pybs
>>> post1=Post.objects.filter(title="Basic JavaScript").all()
>>> post1
<QuerySet [<Post: <Post Basic JavaScript>>]>
>>> post1=Post.objects.filter(title="Basic JavaScript").first()
>>> post1
<Post: <Post Basic JavaScript>>
>>>
```

</details>

<details>
  <summary>15. Django Admin Interface </summary>

```pybs
python manage.py createsuperuser
```

```pybs
python manage.py runserver
```

![](https://user-images.githubusercontent.com/32337103/226510222-3994a441-dcaa-480c-a4e9-8baf198ecff4.png)
![](https://user-images.githubusercontent.com/32337103/226510323-ec16a578-a901-421f-9643-7b9af895e3ba.png)

django_beginners/posts/admin.py:

```py
from django.contrib import admin
from .models import Post


# Register your models here.
admin.site.register(Post)

```

![](https://user-images.githubusercontent.com/32337103/226510680-c688547b-1d21-4b99-ae5f-c21b59f2adf3.png)

![](https://user-images.githubusercontent.com/32337103/226510755-0e05744e-6954-4f55-af55-8a597572ea78.png)

![](https://user-images.githubusercontent.com/32337103/226510825-f0e9ce74-aa7c-4a51-b8b3-805b21dfcb49.png)

django_beginners/posts/admin.py:

```py
from django.contrib import admin
from .models import Post

# admin.site.register (Post)

@admin.register(Post)
class PostAdmin(admin.ModelAdmin):
    list_display=['title', 'author']
```

![](https://user-images.githubusercontent.com/32337103/226511321-66a8cbf5-13ed-40ef-84c8-823d15ba21fe.png)

django_beginners/posts/models.py:

```py
from django.db import models

"""
class Post:
    title: str
    author: str
    content: str
    thumbnail: image
"""

class Post(models.Model):
    title=models.CharField(max_length=225)
    author=models.CharField(max_length=45)
    content=models.TextField()
    thumbnail=models.ImageField(upload_to='thumbnails/', default='default.jpeg')
    date_created=models.DateTimeField(auto_now_add=True)
    date_updated=models.DateTimeField(auto_now=True)

    def __str__(self):
        return f"<Post: {self.title}>"

```

```pybs
python manage.py makemigrations
python manage.py migrate
```

```pybs
python manage.py runserver
```

django_beginners/posts/admin.py:

```py
from django.contrib import admin
from .models import Post

# admin.site.register (Post)

@admin.register(Post)
class PostAdmin(admin.ModelAdmin):
    list_display=['title', 'author', 'date_created']
    list_filter=['date_created']

```

![](https://user-images.githubusercontent.com/32337103/226512165-56a77e30-0d20-46e0-9b77-e8889087d572.png)

</details>

<details>
  <summary>16. Django Forms </summary>

django_beginners/posts/forms.py:

```py
from django import forms


class PostCreationForm(forms.Form):
    title=forms.CharField(max_length=225)
    content=forms.CharField(max_length=500)
    author=forms.CharField(max_length=255)
```

django_beginners/posts/views.py:

```pybs
def create_post(request):
    form=PostCreationForm()
    context={
        'form': form
    }
    return render(request, context)
```

```py
from django.shortcuts import render
from django.http import HttpRequest, HttpResponse
from .forms import PostCreationForm


posts=[
    {
        "id":1,
        "title":"Learn Django",
        "author":"Tom Bradley"
    },
    {
        "id":2,
        "title":"Learn Python",
        "author":"Jerry Scrofield"
    },
    {
        "id":3,
        "title":"Learn C",
        "author":"Mary Green"
    },
]

def index(request:HttpRequest):
    name = request.GET.get("name") or "People"
    context={
        "name": name,
        "posts": posts,
        "title": "Home Page",
    }
    return render(request, 'index.html', context)

def about(request):
    context={
        "title": "About Page",
    }
    return render(request, 'about.html', context)

def services(request):
    context={
        "title": "Services Page",
    }
    return render(request, 'services.html', context)

def greet(request:HttpRequest):
    name = request.GET.get("name") or "Friend"
    return HttpResponse(f"Hello {name}")

def all_posts(request:HttpRequest):
    return HttpResponse(str(posts))

def one_post(request:HttpRequest, post_id):
    for post in posts:
        if post["id"] == post_id:
            return HttpResponse(str(post))
    return HttpResponse("Post Not Found")

def create_post(request):
    form=PostCreationForm()
    context={
        'form': form
    }
    return render(request, context)
```

django_beginners/posts/models.py:

```py
from django.db import models

"""
class Post:
    title: str
    author: str
    content: str
    thumbnail: image
"""

class Post(models.Model):
    title=models.CharField(max_length=225)
    author=models.CharField(max_length=45)
    content=models.TextField()
    thumbnail=models.ImageField(upload_to='thumbnails/', default='default.jpeg')
    date_created=models.DateTimeField(auto_now_add=True)
    date_updated=models.DateTimeField(auto_now=True)

    def __str__(self):
        return f"<Post: {self.title}>"
```

```py
python manage.py shell
```

```pybs
>>> from posts.forms import PostCreationForm
>>> form=PostCreationForm()
>>> form.is_bound
False
>>> form_with_values=PostCreationForm({"title": "Learn _JS", "content": "JavaScript tutorial", "author": "John Doe"})
>>> form_with_values.is_bound
True
>>> form.is_valid()
False
>>> form_with_values.is_valid()
True
>>>
```

```pybs
>>> valid_form=PostCreationForm({"title":"Django Forms", "content":"Learn forms in Django","author":"Jane Doe"})
>>> valid_form
<PostCreationForm bound=True, valid=Unknown, fields=(title;content;author)>

>>> valid_form.as_ul()
'<li>\n    \n    <label for="id_title">Title:</label>\n    <input type="text" name="title" value="Django Forms" maxlength="225" required id="id_title">\n    \n    \n  </li>\n\n  <li>\n    \n    <label for="id_content">Content:</label>\n    <input type="text" name="content" value="Learn forms in Django" maxlength="500" required id="id_content">\n    \n    \n  </li>\n\n  <li>\n    \n    <label for="id_author">Author:</label>\n    <input type="text" name="author" value="Jane Doe" maxlength="255" required id="id_author">\n    \n    \n      \n    \n  </li>'

>>> valid_form.as_p()
'<p>\n    <label for="id_title">Title:</label>\n    <input type="text" name="title" value="Django Forms" maxlength="225" required id="id_title">\n    \n    \n  </p>\n\n  \n  <p>\n    <label for="id_content">Content:</label>\n    <input type="text" name="content" value="Learn forms in Django" maxlength="500" required id="id_content">\n    \n    \n  </p>\n\n  \n  <p>\n    <label for="id_author">Author:</label>\n    <input type="text" name="author" value="Jane Doe" maxlength="255" required id="id_author">\n    \n    \n      \n    \n  </p>'

>>> valid_form.as_table()
'<tr>\n    <th><label for="id_title">Title:</label></th>\n    <td>\n      \n      <input type="text" name="title" value="Django Forms" maxlength="225" required id="id_title">\n      \n      \n    </td>\n  </tr>\n\n  <tr>\n    <th><label for="id_content">Content:</label></th>\n    <td>\n      \n      <input type="text" name="content" value="Learn forms in Django" maxlength="500" required id="id_content">\n      \n      \n    </td>\n  </tr>\n\n  <tr>\n    <th><label for="id_author">Author:</label></th>\n    <td>\n      \n      <input type="text" name="author" value="Jane Doe" maxlength="255" required id="id_author">\n      \n      \n        \n      \n    </td>\n  </tr>'
>>>
```

django_beginners/posts/forms.py:

```py
from django import forms


class PostCreationForm(forms.Form):
    title=forms.CharField(max_length=225)
    content=forms.CharField(max_length=500)
    author=forms.CharField(max_length=255)
```

django_beginners/posts/views.py:

```pybs
def create_post(request):
    form=PostCreationForm()
    if request.method =="POST":
        data=request.POST
        print(data)
        return redirect('create_post')

    context={
        'form': form
    }
    return render(request, 'createpost.html', context)
```

```py
from django.shortcuts import render, redirect
from django.http import HttpRequest, HttpResponse
from .forms import PostCreationForm


posts=[
    {
        "id":1,
        "title":"Learn Django",
        "author":"Tom Bradley"
    },
    {
        "id":2,
        "title":"Learn Python",
        "author":"Jerry Scrofield"
    },
    {
        "id":3,
        "title":"Learn C",
        "author":"Mary Green"
    },
]

def index(request:HttpRequest):
    name = request.GET.get("name") or "People"
    context={
        "name": name,
        "posts": posts,
        "title": "Home Page",
    }
    return render(request, 'index.html', context)

def about(request):
    context={
        "title": "About Page",
    }
    return render(request, 'about.html', context)

def services(request):
    context={
        "title": "Services Page",
    }
    return render(request, 'services.html', context)

def greet(request:HttpRequest):
    name = request.GET.get("name") or "Friend"
    return HttpResponse(f"Hello {name}")

def all_posts(request:HttpRequest):
    return HttpResponse(str(posts))

def one_post(request:HttpRequest, post_id):
    for post in posts:
        if post["id"] == post_id:
            return HttpResponse(str(post))
    return HttpResponse("Post Not Found")

def create_post(request):
    form=PostCreationForm()
    if request.method =="POST":
        data=request.POST
        print(data)
        return redirect('create_post')

    context={
        'form': form
    }
    return render(request, 'createpost.html', context)
```

django_beginners/posts/urls.py:

```py
from django.urls import path
from . import views

urlpatterns = [
    path('', views.index, name="posts_home"),
    path("greet/", views.greet, name="greet_name"),
    path("posts/", views.all_posts, name="posts"),
    path("posts/<int:post_id>/", views.one_post, name="one_post"),
    path("about/", views.about, name="posts_about"),
    path("services/", views.services, name="posts_services"),
    path('create_post/', views.create_post, name='create_post'),
]
```

django_beginners/posts/templates/base.html:

```py
{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="{% static 'css/main.css' %}">
    <title>{{title}}</title>
</head>
<body>
    <header>
        <nav>
            <a class="nav-link" href="{% url 'posts_home' %}">Home</a>
            <a class="nav-link" href="{% url 'posts_about' %}">About</a>
            <a class="nav-link" href="{% url 'posts_services' %}">Services</a>
            <a class="nav-link" href="{% url 'create_post' %}">Create Post</a>
        </nav>
    </header>
    <main>
        <div class="container">
        {% block content %}

        {% endblock content %}
        </div>
    </main>


    <footer class="footer">&copy; Django App 2023</footer>
    <script src="{% static 'js/index.js' %}"></script>
</body>
</html>
```

django_beginners/posts/templates/createpost.html:

```py
{% extends 'base.html' %}

{% block content %}
<section class="myform">
    <h1>Create Post</h1>
    <form action="" method="post">
        {% csrf_token %}
        {{ form.as_p }}
        <input class="createbutton" type="submit" value="Create">
    </form>
</section>

{% endblock content %}
```

django_beginners/posts/static/css/main.css:

```pybs
.myform {
  margin: 20px;
}

form {
  margin-top: 20px;
}

.createbutton {
  padding: 10px 40px;
  margin-top: 20px;
  border: 5px solid transparent;
  border-radius: 50px;
  background-color: deepskyblue;
  color: white;
  font-size: 1rem;
  outline: 2px solid deepskyblue;
  outline-offset: 2px;
  cursor: pointer;
}

.createbutton:hover {
  border: 5px solid black;
  outline: none;
}

.createbutton:active {
  background-color: black;
}

```

```css
* {
  padding: 0;
  margin: 0;
  box-sizing: border-box;
  font-family: "Gill Sans", "Gill Sans MT", Calibri, "Trebuchet MS", sans-serif;
}

nav {
  background-color: black;
  padding: 20px;
}

.nav-link {
  color: white;
  margin-left: 20px;
}

.shift-right {
  margin: 20px;
}

.container {
  display: flex;
  flex-direction: column;
  min-height: 85vh;
}

a {
  text-decoration: none;
}

button {
  padding: 15px 60px;
  border: 5px solid transparent;
  border-radius: 50px;
  background-color: deepskyblue;
  color: white;
  font-size: 1rem;
  outline: 2px solid deepskyblue;
  outline-offset: 2px;
  cursor: pointer;
}

button:hover {
  border: 5px solid black;
  outline: none;
}

button:active {
  background-color: black;
}

.post {
  padding: 20px;
}

.footer {
  text-align: center;
  background-color: black;
  color: wheat;
  padding: 30px;
  flex: 1;
  height: 15vh;
}

.image {
  width: 100px;
}

.myform {
  margin: 20px;
}

form {
  margin-top: 20px;
}

.createbutton {
  padding: 10px 40px;
  margin-top: 20px;
  border: 5px solid transparent;
  border-radius: 50px;
  background-color: deepskyblue;
  color: white;
  font-size: 1rem;
  outline: 2px solid deepskyblue;
  outline-offset: 2px;
  cursor: pointer;
}

.createbutton:hover {
  border: 5px solid black;
  outline: none;
}

.createbutton:active {
  background-color: black;
}
```

![](https://user-images.githubusercontent.com/32337103/226684949-ab241180-8410-42ae-9e64-fa6b3e9feb34.png)

```pybs
[21/Mar/2023 16:58:55] "POST /posts/create_post/ HTTP/1.1" 302 0
[21/Mar/2023 16:58:55] "GET /posts/create_post/ HTTP/1.1" 200 1578
<QueryDict: {'csrfmiddlewaretoken': ['hZ5ZdF2fJwvpZdmxgbhPjpeDl8sPgIHInuWEOZpDyHdESAN2ttEgHYYPEzCDGy50'], 'title': ['My Next Post'], 'content': ['This is my Post'], 'author': ['Ifeanyi Omeata']}>
```

django_beginners/posts/views.py:

```pybs
def create_post(request):
    form=PostCreationForm()
    if request.method =="POST":
        data=request.POST
        print(data["title"])
        print(data["content"])
        print(data["author"])

        return redirect('create_post')

    context={
        'form': form
    }
    return render(request, 'createpost.html', context)
```

```py
from django.shortcuts import render, redirect
from django.http import HttpRequest, HttpResponse
from .forms import PostCreationForm


posts=[
    {
        "id":1,
        "title":"Learn Django",
        "author":"Tom Bradley"
    },
    {
        "id":2,
        "title":"Learn Python",
        "author":"Jerry Scrofield"
    },
    {
        "id":3,
        "title":"Learn C",
        "author":"Mary Green"
    },
]

def index(request:HttpRequest):
    name = request.GET.get("name") or "People"
    context={
        "name": name,
        "posts": posts,
        "title": "Home Page",
    }
    return render(request, 'index.html', context)

def about(request):
    context={
        "title": "About Page",
    }
    return render(request, 'about.html', context)

def services(request):
    context={
        "title": "Services Page",
    }
    return render(request, 'services.html', context)

def greet(request:HttpRequest):
    name = request.GET.get("name") or "Friend"
    return HttpResponse(f"Hello {name}")

def all_posts(request:HttpRequest):
    return HttpResponse(str(posts))

def one_post(request:HttpRequest, post_id):
    for post in posts:
        if post["id"] == post_id:
            return HttpResponse(str(post))
    return HttpResponse("Post Not Found")

def create_post(request):
    form=PostCreationForm()
    if request.method =="POST":
        data=request.POST
        print(data["title"])
        print(data["content"])
        print(data["author"])

        return redirect('create_post')

    context={
        'form': form
    }
    return render(request, 'createpost.html', context)
```

![](https://user-images.githubusercontent.com/32337103/226686741-4b813167-41e1-4261-937d-9c6c713c16b3.png)

```pybs
[21/Mar/2023 17:04:33] "GET /posts/create_post/ HTTP/1.1" 200 1578
[21/Mar/2023 17:04:33] "GET /static/css/main.css HTTP/1.1" 304 0
The Title
The Content
The Author
```

django_beginners/posts/views.py:

```pybs
def create_post(request):  # sourcery skip: extract-method
    form=PostCreationForm()
    if request.method =="POST":
        data=request.POST

        title= data["title"]
        content=data["content"]
        author=data["author"]

        new_post=Post(title=title,content=content,author=author)
        new_post.save()
        return redirect('posts_home')

    context={
        'form': form
    }
    return render(request, 'createpost.html', context)
```

```py
from django.shortcuts import render, redirect
from django.http import HttpRequest, HttpResponse
from .forms import PostCreationForm
from .models import Post

# posts=[
#     {
#         "id":1,
#         "title":"Learn Django",
#         "author":"Tom Bradley"
#     },
#     {
#         "id":2,
#         "title":"Learn Python",
#         "author":"Jerry Scrofield"
#     },
#     {
#         "id":3,
#         "title":"Learn C",
#         "author":"Mary Green"
#     },
# ]

def index(request:HttpRequest):
    name = request.GET.get("name") or "People"
    posts=Post.objects.all()
    context={
        "name": name,
        "posts": posts,
        "title": "Home Page",
    }
    return render(request, 'index.html', context)

def about(request):
    context={
        "title": "About Page",
    }
    return render(request, 'about.html', context)

def services(request):
    context={
        "title": "Services Page",
    }
    return render(request, 'services.html', context)

def greet(request:HttpRequest):
    name = request.GET.get("name") or "Friend"
    return HttpResponse(f"Hello {name}")

def all_posts(request:HttpRequest):
    posts=Post.objects.all()
    return HttpResponse(str(posts))

def one_post(request:HttpRequest, post_id):
    posts=Post.objects.all()
    for post in posts:
        if post["id"] == post_id:
            return HttpResponse(str(post))
    return HttpResponse("Post Not Found")

def create_post(request):  # sourcery skip: extract-method
    form=PostCreationForm()
    if request.method =="POST":
        data=request.POST

        title= data["title"]
        content=data["content"]
        author=data["author"]

        new_post=Post(title=title,content=content,author=author)
        new_post.save()
        return redirect('posts_home')

    context={
        'form': form
    }
    return render(request, 'createpost.html', context)
```

![](https://user-images.githubusercontent.com/32337103/226690257-c49b99c9-a291-4da9-b51e-9c7afeb0fb19.png)
![](https://user-images.githubusercontent.com/32337103/226690397-3ace7b42-c530-4be4-9fde-cb78ca7b6dae.png)
![](https://user-images.githubusercontent.com/32337103/226690470-0b534ac2-6147-400b-965e-ea5151eabbc3.png)
![](https://user-images.githubusercontent.com/32337103/226690559-7fbe0abc-4895-4c98-a85c-a32a235cfc57.png)

</details>

<details>
  <summary>17. Using Model Forms to Create Post </summary>

django_beginners/posts/forms.py:

```py
from django import forms
from .models import Post

# class PostCreationForm(forms.Form):
#     title=forms.CharField(max_length=225)
#     content=forms.CharField(max_length=500)
#     author=forms.CharField(max_length=255)

class PostCreationForm(forms.ModelForm):
    title=forms.CharField(widget=forms.TextInput(attrs={"class":"form-control", "id": "title"}))
    content=forms.CharField(widget=forms.Textarea(attrs={"class":"form-control", "id": "content", "rows":5}))
    author=forms.CharField(widget=forms.TextInput(attrs={"class":"form-control", "id": "author"}))

    class Meta:
        model=Post
        fields="__all__"
        # fields=['title', 'content']

```

django_beginners/posts/templates/createpost.html:

```py
{% extends 'base.html' %}

{% block content %}
<section class="myform">
    <form action="" method="post">
        <h1>Create Post</h1>
        {% csrf_token %}
        {% for field in form %}
            <div class="form-group">
                <label for="{{ field.label | lower }}">{{ field.label }}</label>
                <div class="form-field">{{field}}</div>
            </div>
        {% endfor %}
        <div><input class="createbutton" type="submit" value="Create"></div>
    </form>
</section>

{% endblock content %}
```

django_beginners/posts/static/css/main.css:

```pybs
form {
  margin-top: 100px;
  margin: auto;
  width: 50%;
}

.form-group {
  display: flex;
  flex-direction: row;
  align-items: center;
  justify-content: flex-start;
  margin-top: 10px;
}

.form-control {
  width: 50vw;
  margin: 10px 5px;
  padding: 10px;
  font-size: 20px;
}

.form-field {
  margin-left: 10px;
}

```

```css
* {
  padding: 0;
  margin: 0;
  box-sizing: border-box;
  font-family: "Gill Sans", "Gill Sans MT", Calibri, "Trebuchet MS", sans-serif;
}

nav {
  background-color: black;
  padding: 20px;
}

.nav-link {
  color: white;
  margin-left: 20px;
}

.shift-right {
  margin: 20px;
}

.container {
  display: flex;
  flex-direction: column;
  min-height: 85vh;
}

a {
  text-decoration: none;
}

button {
  padding: 15px 60px;
  border: 5px solid transparent;
  border-radius: 50px;
  background-color: deepskyblue;
  color: white;
  font-size: 1rem;
  outline: 2px solid deepskyblue;
  outline-offset: 2px;
  cursor: pointer;
}

button:hover {
  border: 5px solid black;
  outline: none;
}

button:active {
  background-color: black;
}

.post {
  padding: 20px;
}

.footer {
  text-align: center;
  background-color: black;
  color: wheat;
  padding: 30px;
  flex: 1;
  height: 15vh;
}

.image {
  width: 100px;
}

.myform {
  margin: 20px;
}

form {
  margin-top: 20px;
}

.createbutton {
  padding: 10px 40px;
  margin-top: 20px;
  border: 5px solid transparent;
  border-radius: 50px;
  background-color: deepskyblue;
  color: white;
  font-size: 1rem;
  outline: 2px solid deepskyblue;
  outline-offset: 2px;
  cursor: pointer;
}

.createbutton:hover {
  border: 5px solid black;
  outline: none;
}

.createbutton:active {
  background-color: black;
}

form {
  margin-top: 100px;
  margin: auto;
  width: 50%;
}

.form-group {
  display: flex;
  flex-direction: row;
  align-items: center;
  justify-content: flex-start;
  margin-top: 10px;
}

.form-control {
  width: 50vw;
  margin: 10px 5px;
  padding: 10px;
  font-size: 20px;
}

.form-field {
  margin-left: 10px;
}
```

![](https://user-images.githubusercontent.com/32337103/226742892-4f092d78-0589-4d59-a13f-3bc867a923dc.png)

django_beginners/posts/forms.py:

```py
from django import forms
from .models import Post

# class PostCreationForm(forms.Form):
#     title=forms.CharField(max_length=225)
#     content=forms.CharField(max_length=500)
#     author=forms.CharField(max_length=255)

class PostCreationForm(forms.ModelForm):
    title=forms.CharField(widget=forms.TextInput(attrs={"class":"form-control", "id": "title"}))
    content=forms.CharField(widget=forms.Textarea(attrs={"class":"form-control", "id": "content", "rows":5}))
    author=forms.CharField(widget=forms.TextInput(attrs={"class":"form-control", "id": "author"}))

    class Meta:
        model=Post
        fields="__all__"
        # fields=['title', 'content']

```

django_beginners/posts/views.py:

```pybs
def create_post(request):
    form=PostCreationForm()
    if request.method =="POST":
        form=PostCreationForm(request.POST, request.FILES)
        if form.is_valid():
            form.save()
            return redirect('posts_home')

        # data=request.POST
        # title= data["title"]
        # content=data["content"]
        # author=data["author"]
        # new_post=Post(title=title,content=content,author=author)
        # new_post.save()
        # return redirect('posts_home')

    context={
        'form': form
    }
    return render(request, 'createpost.html', context)
```

```py
from django.shortcuts import render, redirect
from django.http import HttpRequest, HttpResponse
from .forms import PostCreationForm
from .models import Post

# posts=[
#     {
#         "id":1,
#         "title":"Learn Django",
#         "author":"Tom Bradley"
#     },
#     {
#         "id":2,
#         "title":"Learn Python",
#         "author":"Jerry Scrofield"
#     },
#     {
#         "id":3,
#         "title":"Learn C",
#         "author":"Mary Green"
#     },
# ]

def index(request:HttpRequest):
    name = request.GET.get("name") or "People"
    posts=Post.objects.all()
    context={
        "name": name,
        "posts": posts,
        "title": "Home Page",
    }
    return render(request, 'index.html', context)

def about(request):
    context={
        "title": "About Page",
    }
    return render(request, 'about.html', context)

def services(request):
    context={
        "title": "Services Page",
    }
    return render(request, 'services.html', context)

def greet(request:HttpRequest):
    name = request.GET.get("name") or "Friend"
    return HttpResponse(f"Hello {name}")

def all_posts(request:HttpRequest):
    posts=Post.objects.all()
    return HttpResponse(str(posts))

def one_post(request:HttpRequest, post_id):
    posts=Post.objects.all()
    for post in posts:
        if post["id"] == post_id:
            return HttpResponse(str(post))
    return HttpResponse("Post Not Found")

def create_post(request):
    form=PostCreationForm()
    if request.method =="POST":
        form=PostCreationForm(request.POST, request.FILES)
        if form.is_valid():
            form.save()
            return redirect('posts_home')

        # data=request.POST
        # title= data["title"]
        # content=data["content"]
        # author=data["author"]
        # new_post=Post(title=title,content=content,author=author)
        # new_post.save()
        # return redirect('posts_home')

    context={
        'form': form
    }
    return render(request, 'createpost.html', context)
```

django_beginners/posts/templates/createpost.html:

```py
{% extends 'base.html' %}

{% block content %}
<section class="myform">
    <form action="" method="post" enctype="multipart/form-data">
        <h1>Create Post</h1>
        {% csrf_token %}
        {% for field in form %}
            <div class="form-group">
                <label for="{{ field.label | lower }}">{{ field.label }}</label>
                <div class="form-field">{{field}}</div>
            </div>
        {% endfor %}
        <div><input class="createbutton" type="submit" value="Create"></div>
    </form>
</section>

{% endblock content %}
```

![](https://user-images.githubusercontent.com/32337103/226893328-d1a15cc2-e676-4f16-b686-9d27db0c337f.png)
![](https://user-images.githubusercontent.com/32337103/226893567-582d045a-57ec-40cb-9a91-63050d7e5a48.png)
![](https://user-images.githubusercontent.com/32337103/226893640-609a6507-0da8-4331-88de-c19c69c6aba7.png)
![](https://user-images.githubusercontent.com/32337103/226893664-c075ffb7-f5f9-499e-a4e6-0ba53e89ba3d.png)

</details>

<details>
  <summary>18. Post Detail Page </summary>

django_beginners/posts/views.py:

```pybs
def post_detail(request,post_id):
    post=Post.objects.get(pk=post_id)
    context={'post':post}
    return render(request, 'post_detail.html', context)
```

```py
from django.shortcuts import render, redirect
from django.http import HttpRequest, HttpResponse
from .forms import PostCreationForm
from .models import Post

# posts=[
#     {
#         "id":1,
#         "title":"Learn Django",
#         "author":"Tom Bradley"
#     },
#     {
#         "id":2,
#         "title":"Learn Python",
#         "author":"Jerry Scrofield"
#     },
#     {
#         "id":3,
#         "title":"Learn C",
#         "author":"Mary Green"
#     },
# ]

def index(request:HttpRequest):
    name = request.GET.get("name") or "People"
    posts=Post.objects.all()
    context={
        "name": name,
        "posts": posts,
        "title": "Home Page",
    }
    return render(request, 'index.html', context)

def about(request):
    context={
        "title": "About Page",
    }
    return render(request, 'about.html', context)

def services(request):
    context={
        "title": "Services Page",
    }
    return render(request, 'services.html', context)

def greet(request:HttpRequest):
    name = request.GET.get("name") or "Friend"
    return HttpResponse(f"Hello {name}")

def all_posts(request:HttpRequest):
    posts=Post.objects.all()
    return HttpResponse(str(posts))

def one_post(request:HttpRequest, post_id):
    posts=Post.objects.all()
    for post in posts:
        if post["id"] == post_id:
            return HttpResponse(str(post))
    return HttpResponse("Post Not Found")

def create_post(request):
    form=PostCreationForm()

    if request.method =="POST":
        form=PostCreationForm(request.POST, request.FILES)

        if form.is_valid():
            form.save()
            return redirect('posts_home')

    context={
        'form': form
    }
    return render(request, 'createpost.html', context)

def post_detail(request,post_id):
    post=Post.objects.get(pk=post_id)
    context={'post':post}
    return render(request, 'post_detail.html', context)

def update_post(request, post_id):
    context={}
    return render(request, 'update.html',context)

```

django_beginners/posts/templates/post_detail.html:

```py
{% extends 'base.html' %}

{% block content %}
<div class="post">
    <a class="link"><h2>{{ post.id }} | {{ post.title }}</h2></a>
    <p>{{ post.content }}</p>
</div>
{% endblock content %}
```

django_beginners/posts/templates/index.html:

```py
{% extends 'base.html' %}
{% load static %}
{% block content %}
    <h1 class="shift-right"> - List of Posts - </h1>
    {% for post in posts %}
        <div class="post">
            <a href="{% url 'post_detail' post_id=post.id %}" class="link"><h2>{{ post.id }} | {{ post.title }}</h2></a>
            <p>By <strong>{{ post.author }}</strong></p>
            <img class="image" src="{% static 'images/me.jpeg' %}" alt="photo">
        </div>
    {% endfor %}
    <div class="shift-right">
        <button id="mybtn">Click Alert</button>
    </div>
{% endblock content %}
```

django_beginners/posts/urls.py:

```py
from django.urls import path
from . import views

urlpatterns = [
    path('', views.index, name="posts_home"),
    path("greet/", views.greet, name="greet_name"),
    path("posts/", views.all_posts, name="posts"),
    path("posts/<int:post_id>/", views.one_post, name="one_post"),
    path("about/", views.about, name="posts_about"),
    path("services/", views.services, name="posts_services"),
    path('create_post/', views.create_post, name='create_post'),
    path('post/<int:post_id>', views.post_detail, name='post_detail'),
    path('post/update/<int:post_id>/', views.update_post, name='update_post'),
]
```

django_beginners/posts/static/css/main.css:

```pybs
.link {
  color: black;
  text-decoration: none;
}
```

```css
* {
  padding: 0;
  margin: 0;
  box-sizing: border-box;
  font-family: "Gill Sans", "Gill Sans MT", Calibri, "Trebuchet MS", sans-serif;
}

nav {
  background-color: black;
  padding: 20px;
}

.nav-link {
  color: white;
  margin-left: 20px;
}

.shift-right {
  margin: 20px;
}

.container {
  display: flex;
  flex-direction: column;
  min-height: 85vh;
}

a {
  text-decoration: none;
}

button {
  padding: 15px 60px;
  border: 5px solid transparent;
  border-radius: 50px;
  background-color: deepskyblue;
  color: white;
  font-size: 1rem;
  outline: 2px solid deepskyblue;
  outline-offset: 2px;
  cursor: pointer;
}

button:hover {
  border: 5px solid black;
  outline: none;
}

button:active {
  background-color: black;
}

.post {
  padding: 20px;
}

.footer {
  text-align: center;
  background-color: black;
  color: wheat;
  padding: 30px;
  flex: 1;
  height: 15vh;
}

.image {
  width: 100px;
}

.myform {
  margin: 20px;
}

form {
  margin-top: 20px;
}

.createbutton {
  padding: 10px 40px;
  margin-top: 20px;
  border: 5px solid transparent;
  border-radius: 50px;
  background-color: deepskyblue;
  color: white;
  font-size: 1rem;
  outline: 2px solid deepskyblue;
  outline-offset: 2px;
  cursor: pointer;
}

.createbutton:hover {
  border: 5px solid black;
  outline: none;
}

.createbutton:active {
  background-color: black;
}

form {
  margin-top: 100px;
  margin: auto;
  width: 50%;
}

.form-group {
  display: flex;
  flex-direction: row;
  align-items: center;
  justify-content: flex-start;
  margin-top: 10px;
}

.form-control {
  width: 50vw;
  margin: 10px 5px;
  padding: 10px;
  font-size: 20px;
}

.form-field {
  margin-left: 10px;
}

.link {
  color: black;
  text-decoration: none;
}
```

![](https://user-images.githubusercontent.com/32337103/226965493-3a2ebb21-135f-417e-ad4c-8cdc8a527f97.png)
![](https://user-images.githubusercontent.com/32337103/226965565-21cbca01-cd09-47af-862f-1dc2a587aee5.png)

</details>

<details>
  <summary>19. Post Update Page  </summary>

django_beginners/posts/views.py:

```pybs
def update_post(request, post_id):
    post_to_update=Post.objects.get(pk=post_id)
    form=PostCreationForm(instance=post_to_update)

    if request.method == "POST":
        form=PostCreationForm(instance=post_to_update, data=request.POST, files=request.FILES)
        if form.is_valid():
            form.save()
            return redirect('posts_home')

    context={
        'form' : form
    }
    return render(request, 'update.html', context)
```

```py
from django.shortcuts import render, redirect
from django.http import HttpRequest, HttpResponse
from .forms import PostCreationForm
from .models import Post

# posts=[
#     {
#         "id":1,
#         "title":"Learn Django",
#         "author":"Tom Bradley"
#     },
#     {
#         "id":2,
#         "title":"Learn Python",
#         "author":"Jerry Scrofield"
#     },
#     {
#         "id":3,
#         "title":"Learn C",
#         "author":"Mary Green"
#     },
# ]

def index(request:HttpRequest):
    name = request.GET.get("name") or "People"
    posts=Post.objects.all()
    context={
        "name": name,
        "posts": posts,
        "title": "Home Page",
    }
    return render(request, 'index.html', context)

def about(request):
    context={
        "title": "About Page",
    }
    return render(request, 'about.html', context)

def services(request):
    context={
        "title": "Services Page",
    }
    return render(request, 'services.html', context)

def greet(request:HttpRequest):
    name = request.GET.get("name") or "Friend"
    return HttpResponse(f"Hello {name}")

def all_posts(request:HttpRequest):
    posts=Post.objects.all()
    return HttpResponse(str(posts))

def one_post(request:HttpRequest, post_id):
    posts=Post.objects.all()
    for post in posts:
        if post["id"] == post_id:
            return HttpResponse(str(post))
    return HttpResponse("Post Not Found")

def create_post(request):
    form=PostCreationForm()

    if request.method =="POST":
        form=PostCreationForm(request.POST, request.FILES)

        if form.is_valid():
            form.save()
            return redirect('posts_home')

    context={
        'form': form
    }
    return render(request, 'createpost.html', context)

def post_detail(request,post_id):
    post=Post.objects.get(pk=post_id)
    context={'post':post}
    return render(request, 'post_detail.html', context)

def update_post(request, post_id):
    post_to_update=Post.objects.get(pk=post_id)
    form=PostCreationForm(instance=post_to_update)

    if request.method == "POST":
        form=PostCreationForm(instance=post_to_update, data=request.POST, files=request.FILES)
        if form.is_valid():
            form.save()
            return redirect('posts_home')

    context={
        'form' : form
    }
    return render(request, 'update.html', context)

```

django_beginners/posts/templates/post_detail.html:

```py
{% extends 'base.html' %}

{% block content %}
<div class="post">
    <a class="link"><h2>{{ post.id }} | {{ post.title }}</h2></a>
    <p>{{ post.content }}</p>
    <a href="{% url 'update_post' post_id=post.id %}" class="update-link">Update</a>
</div>
{% endblock content %}
```

django_beginners/posts/templates/update.html:

```py
{% extends 'base.html' %}

{% block content %}
<section class="myform">
    <form action="" method="post" enctype="multipart/form-data">
        <h1>Update Post</h1>
        {% csrf_token %}
        {% for field in form %}
            <div class="form-group">
                <label for="{{ field.label | lower }}">{{ field.label }}</label>
                <div class="form-field">{{field}}</div>
            </div>
        {% endfor %}
        <div><input class="createbutton" type="submit" value="Update"></div>
    </form>
</section>

{% endblock content %}
```

django_beginners/posts/forms.py:

```py
from django import forms
from .models import Post

# class PostCreationForm(forms.Form):
#     title=forms.CharField(max_length=225)
#     content=forms.CharField(max_length=500)
#     author=forms.CharField(max_length=255)

class PostCreationForm(forms.ModelForm):
    title=forms.CharField(widget=forms.TextInput(attrs={"class":"form-control", "id": "title"}))
    content=forms.CharField(widget=forms.Textarea(attrs={"class":"form-control", "id": "content", "rows":5}))
    author=forms.CharField(widget=forms.TextInput(attrs={"class":"form-control", "id": "author"}))

    class Meta:
        model=Post
        fields="__all__"
        # fields=['title', 'content']
```

![](https://user-images.githubusercontent.com/32337103/227031508-6cd96be5-a727-494e-b377-e19680c6741a.png)
![](https://user-images.githubusercontent.com/32337103/227031550-73b1582b-c53c-47a2-bc03-18e530b3f747.png)
![](https://user-images.githubusercontent.com/32337103/227031606-0ceb2022-7080-4584-94e7-6eff76a02c03.png)
![](https://user-images.githubusercontent.com/32337103/227031680-3132bfa8-a891-457d-be21-62dd6d486898.png)
![](https://user-images.githubusercontent.com/32337103/227031740-073e1baf-1de7-4872-9e03-19134b9b1443.png)

</details>

<details>
  <summary>20. User Authentication - Create Django User </summary>

```py
python manage.py shell
```

```pybs
>>> from django.contrib.auth.models import User
>>> user=User.objects.create_user(username="johndoe", email="johndoe@gmail.com",)
>>> user.set_password("password")
>>> user.username
'johndoe'
>>> user.email
'johndoe@gmail.com'
>>> user.password
'pbkdf2_sha256$390000$27kcwchBK2h9NtoPYruY97$cK29ymZ1foPBx6/Hf4AkzfPNtTLHHBznzoB20o1HXtY='
>>> user.save()
>>> users = User.objects.all()
>>> users
<QuerySet [<User: admin>, <User: johndoe>]>
>>> User.objects.get(id=2)
<User: johndoe>
>>> user = User.objects.get(id=2)
>>> user.email
'johndoe@gmail.com'
>>>

```

</details>

<details>
  <summary>21. User Authentication - Making Global Template</summary>

django_beginners/blogproject/settings.py:

```py
ROOT_URLCONF = 'blogproject.urls'

TEMPLATES = [
    {
        'BACKEND': 'django.template.backends.django.DjangoTemplates',
        'DIRS': [BASE_DIR / 'templates'],
        'APP_DIRS': True,
        'OPTIONS': {
            'context_processors': [
                'django.template.context_processors.debug',
                'django.template.context_processors.request',
                'django.contrib.auth.context_processors.auth',
                'django.contrib.messages.context_processors.messages',
            ],
        },
    },
]

WSGI_APPLICATION = 'blogproject.wsgi.application'
```

![](https://user-images.githubusercontent.com/32337103/227270670-bf014437-416e-4520-bf00-c6eec037358b.png)

</details>

<details>
  <summary>22.  User Authentication - Creating Auth Views</summary>

# Creating Layouts for Authentication -

django_beginners/users/views.py:

```py
from django.shortcuts import render

# Create your views here.
def sign_up(request):
    context={}
    return render(request, 'users/signup.html', context)

def login_user(request):
    context={}
    return render(request, 'users/login.html', context)

def logout_user(request):
    pass
```

django_beginners/templates/users/login.html:

```py
{% extends 'base.html' %}

{% block content %}

{% endblock content %}
```

django_beginners/templates/users/signup.html:

```py
{% extends 'base.html' %}

{% block content %}

{% endblock content %}
```

django_beginners/users/urls.py:

```py
from django.urls import path
from . import views

urlpatterns = [
    path('signup/', views.sign_up, name='sign_up'),
    path('login/', views.login_user, name='login'),
    path('logout/', views.logout_user, name='log_out')
]
```

django_beginners/blogproject/urls.py:

```py
from django.contrib import admin
from django.urls import path, include

urlpatterns = [
    path('admin/', admin.site.urls),
    path('posts/', include('posts.urls')),
    path('auth/', include('users.urls'))
]
```

django_beginners/templates/base.html:

```py
{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="{% static 'css/main.css' %}">
    <title>{{title}}</title>
</head>
<body>
    <header>
        <nav>
            <a class="nav-link" href="{% url 'posts_home' %}">Home</a>
            {% comment %} <a class="nav-link" href="{% url 'posts_about' %}">About</a>
            <a class="nav-link" href="{% url 'posts_services' %}">Services</a> {% endcomment %}
            <a class="nav-link" href="{% url 'sign_up' %}">Sign Up</a>
            <a class="nav-link" href="{% url 'login' %}">Log In</a>
            <a class="nav-link" href="{% url 'create_post' %}">Create Post</a>
            <a class="nav-link" href="{% url 'log_out' %}">Log Out</a>
        </nav>
    </header>
    <main>
        <div class="container">
        {% block content %}

        {% endblock content %}
        </div>
    </main>


    <footer class="footer">&copy; Django App 2023</footer>
    <script src="{% static 'js/index.js' %}"></script>
</body>
</html>
```

![](https://user-images.githubusercontent.com/32337103/227796373-26572cfc-7fc3-4750-b6c4-7ebf0af567de.png)

# Creating Form Pages -

django_beginners/users/forms.py:

```py
from django import forms


"""UserRegistrationForm
username
email
password
confirm
"""

class UserRegistrationForm(forms.Form):
    username=forms.CharField(widget=forms.TextInput(attrs={"class":"form-control"}))
    email=forms.CharField(widget=forms.TextInput(attrs={"class":"form-control"}))
    password=forms.CharField(widget=forms.PasswordInput(attrs={"class":"form-control"}))
    confirm=forms.CharField(widget=forms.PasswordInput(attrs={"class":"form-control"}))


"""LoginForm
username
password
"""

class LoginForm(forms.Form):
    username=forms.CharField(widget=forms.TextInput(attrs={"class":"form-control"}))
    password=forms.CharField(widget=forms.PasswordInput(attrs={"class":"form-control"}))
```

django_beginners/users/views.py:

```py
from django.shortcuts import render
from .forms import LoginForm, UserRegistrationForm

# Create your views here.
def sign_up(request):
    form=UserRegistrationForm()
    context={
        'form' : form
    }
    return render(request, 'users/signup.html', context)

def login_user(request):
    form=LoginForm()
    context={
        'form' : form
    }
    return render(request, 'users/login.html', context)

def logout_user(request):
    pass
```

django_beginners/templates/users/login.html:

```py
{% extends 'base.html' %}

{% block content %}
<section class="myform">
    <form action="" method="post" enctype="multipart/form-data">
        <h1>Login</h1>
        {% csrf_token %}
        {% for field in form %}
            <div class="form-group">
                <label for="{{ field.label | lower }}">{{ field.label }}</label>
                <div class="form-field">{{field}}</div>
            </div>
        {% endfor %}
        <div><input class="createbutton" type="submit" value="Create"></div>
    </form>
</section>

{% endblock content %}
```

django_beginners/templates/users/signup.html:

```py
{% extends 'base.html' %}

{% block content %}
<section class="myform">
    <form action="" method="post" enctype="multipart/form-data">
        <h1>Create An Account</h1>
        {% csrf_token %}
        {% for field in form %}
            <div class="form-group">
                <label for="{{ field.label | lower }}">{{ field.label }}</label>
                <div class="form-field">{{field}}</div>
            </div>
        {% endfor %}
        <div><input class="createbutton" type="submit" value="Create"></div>
    </form>
</section>

{% endblock content %}
```

![](https://user-images.githubusercontent.com/32337103/227877648-9a4cfe50-9c7c-4788-a967-dcc30893c727.png)
![](https://user-images.githubusercontent.com/32337103/227877676-a94e41ef-ee6d-46b6-93d5-dc29fd483f75.png)

# Fuctionality for Creating Users -

django_beginners/users/views.py:

```py
from django.shortcuts import render, redirect
from .forms import LoginForm, UserRegistrationForm
from django.contrib.auth.models import User

# Create your views here.
def sign_up(request):
    form=UserRegistrationForm()
    if request.method == "POST":
        username=request.POST["username"]
        email=request.POST["email"]
        password=request.POST["password"]
        confirm=request.POST["confirm"]

        if password == confirm:
            new_user=User.objects.create_user(
            username=username,
            email=email
            )
            new_user.set_password(password)
            new_user.save()

            return redirect('posts.home')

    context={
        'form' : form
    }
    return render(request, 'users/signup.html', context)

def login_user(request):
    form=LoginForm()
    context={
        'form' : form
    }
    return render(request, 'users/login.html', context)

def logout_user(request):
    pass
```

![](https://user-images.githubusercontent.com/32337103/227880907-056f3e0f-b2bf-4a53-ba77-f3f346c08871.png)

![](https://user-images.githubusercontent.com/32337103/227881748-6b95cef5-e58c-4225-bd34-ef67bd71d20f.png)

![](https://user-images.githubusercontent.com/32337103/227881791-aedfe2a2-d4df-459a-ba5b-956c73e724a7.png)

# Functionality for Login -

django_beginners/users/views.py:

```pybs
def login_user(request):
    form=LoginForm()

    if request.method == "POST":
        username = request.POST["username"]
        password = request.POST["password"]

        user = authenticate(request, username=username, password=password)

        if user is not None:
            login(request, user)
            return redirect('posts_home')

    context={
        'form' : form
    }
    return render(request, 'users/login.html', context)
```

```py
from django.shortcuts import render, redirect
from .forms import LoginForm, UserRegistrationForm
from django.contrib.auth.models import User
from django.contrib.auth import login, logout, authenticate

# Create your views here.
def sign_up(request):
    form=UserRegistrationForm()
    if request.method == "POST":
        username=request.POST["username"]
        email=request.POST["email"]
        password=request.POST["password"]
        confirm=request.POST["confirm"]

        if password == confirm:
            new_user=User.objects.create_user(
            username=username,
            email=email
            )
            new_user.set_password(password)
            new_user.save()

            return redirect('posts_home')

    context={
        'form' : form
    }
    return render(request, 'users/signup.html', context)

def login_user(request):
    form=LoginForm()

    if request.method == "POST":
        username = request.POST["username"]
        password = request.POST["password"]

        user = authenticate(request, username=username, password=password)

        if user is not None:
            login(request, user)
            return redirect('posts_home')

    context={
        'form' : form
    }
    return render(request, 'users/login.html', context)

def logout_user(request):
    pass
```

django_beginners/templates/base.html:

```pybs
<header>
    <nav>
        <a class="nav-link" href="{% url 'posts_home' %}">Home</a>
        {% if request.user.is_authenticated %}
            <a class="nav-link" href="{% url 'create_post' %}">Create Post</a>
            <a class="nav-link" href="{% url 'log_out' %}">Log Out</a>
        {% else %}
            <a class="nav-link" href="{% url 'sign_up' %}">Sign Up</a>
            <a class="nav-link" href="{% url 'login' %}">Log In</a>
        {% endif %}
    </nav>
</header>
```

```py
{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="{% static 'css/main.css' %}">
    <title>{{title}}</title>
</head>
<body>
    <header>
        <nav>
            <a class="nav-link" href="{% url 'posts_home' %}">Home</a>
            {% if request.user.is_authenticated %}
                <a class="nav-link" href="{% url 'create_post' %}">Create Post</a>
                <a class="nav-link" href="{% url 'log_out' %}">Log Out</a>
            {% else %}
                <a class="nav-link" href="{% url 'sign_up' %}">Sign Up</a>
                <a class="nav-link" href="{% url 'login' %}">Log In</a>
            {% endif %}
        </nav>
    </header>
    <main>
        <div class="container">
        {% block content %}

        {% endblock content %}
        </div>
    </main>


    <footer class="footer">&copy; Django App 2023</footer>
    <script src="{% static 'js/index.js' %}"></script>
</body>
</html>
```

![](https://user-images.githubusercontent.com/32337103/227885628-ef8a827c-dc25-470c-9b2a-dac50aee089c.png)
![](ttps://user-images.githubusercontent.com/32337103/227885765-3e1e3427-59ee-4a1a-a1ec-32115a25ecae.png)

# Display Username on Page -

django_beginners/templates/base.html:

```pybs
<header>
    <nav>
        <a class="nav-link" href="{% url 'posts_home' %}">Home</a>
        {% if request.user.is_authenticated %}
            <a class="nav-link">Welcome, {{ request.user | title }}</a>
            <a class="nav-link" href="{% url 'create_post' %}">Create Post</a>
            <a class="nav-link" href="{% url 'log_out' %}">Log Out</a>
        {% else %}
            <a class="nav-link" href="{% url 'sign_up' %}">Sign Up</a>
            <a class="nav-link" href="{% url 'login' %}">Log In</a>
        {% endif %}
    </nav>
</header>
```

```py
{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="{% static 'css/main.css' %}">
    <title>{{title}}</title>
</head>
<body>
    <header>
        <nav>
            <a class="nav-link" href="{% url 'posts_home' %}">Home</a>
            {% if request.user.is_authenticated %}
                <a class="nav-link">Welcome, {{ request.user | title }}</a>
                <a class="nav-link" href="{% url 'create_post' %}">Create Post</a>
                <a class="nav-link" href="{% url 'log_out' %}">Log Out</a>
            {% else %}
                <a class="nav-link" href="{% url 'sign_up' %}">Sign Up</a>
                <a class="nav-link" href="{% url 'login' %}">Log In</a>
            {% endif %}
        </nav>
    </header>
    <main>
        <div class="container">
        {% block content %}

        {% endblock content %}
        </div>
    </main>


    <footer class="footer">&copy; Django App 2023</footer>
    <script src="{% static 'js/index.js' %}"></script>
</body>
</html>
```

![](https://user-images.githubusercontent.com/32337103/227891958-9be18750-53dc-4f58-938f-4ba8e36d43a3.png)

# Logout Functionality -

django_beginners/users/views.py:

```pybs
def logout_user(request):
    logout(request)
    return redirect('posts_home')
```

```py
from django.shortcuts import render, redirect
from .forms import LoginForm, UserRegistrationForm
from django.contrib.auth.models import User
from django.contrib.auth import login, logout, authenticate

# Create your views here.
def sign_up(request):
    form=UserRegistrationForm()
    if request.method == "POST":
        username=request.POST["username"]
        email=request.POST["email"]
        password=request.POST["password"]
        confirm=request.POST["confirm"]

        if password == confirm:
            new_user=User.objects.create_user(
            username=username,
            email=email
            )
            new_user.set_password(password)
            new_user.save()

            return redirect('posts_home')

    context={
        'form' : form
    }
    return render(request, 'users/signup.html', context)

def login_user(request):
    form=LoginForm()

    if request.method == "POST":
        username = request.POST["username"]
        password = request.POST["password"]

        user = authenticate(request, username=username, password=password)

        if user is not None:
            login(request, user)
            return redirect('posts_home')

    context={
        'form' : form
    }
    return render(request, 'users/login.html', context)

def logout_user(request):
    logout(request)
    return redirect('posts_home')
```

![](https://user-images.githubusercontent.com/32337103/227892974-e46597d0-dd34-4f03-bbe4-b772c1877b19.png)
![](https://user-images.githubusercontent.com/32337103/227893022-8ea87c66-c454-4555-a511-321680a5a8ad.png)

# Restrict Views to Logged in Users (for Create and Update Posts)

django_beginners/posts/views.py:

```py
from django.shortcuts import render, redirect
from django.http import HttpRequest, HttpResponse
from .forms import PostCreationForm
from .models import Post
from django.contrib.auth.decorators import login_required

def index(request:HttpRequest):
    name = request.GET.get("name") or "People"
    posts=Post.objects.all()
    context={
        "name": name,
        "posts": posts,
        "title": "Home Page",
    }
    return render(request, 'index.html', context)

def about(request):
    context={
        "title": "About Page",
    }
    return render(request, 'about.html', context)

def services(request):
    context={
        "title": "Services Page",
    }
    return render(request, 'services.html', context)

def greet(request:HttpRequest):
    name = request.GET.get("name") or "Friend"
    return HttpResponse(f"Hello {name}")

def all_posts(request:HttpRequest):
    posts=Post.objects.all()
    return HttpResponse(str(posts))

def one_post(request:HttpRequest, post_id):
    posts=Post.objects.all()
    for post in posts:
        if post["id"] == post_id:
            return HttpResponse(str(post))
    return HttpResponse("Post Not Found")

def post_detail(request,post_id):
    post=Post.objects.get(pk=post_id)
    context={'post':post}
    return render(request, 'post_detail.html', context)

@login_required
def create_post(request):
    form=PostCreationForm()

    if request.method =="POST":
        form=PostCreationForm(request.POST, request.FILES)

        if form.is_valid():
            form.save()
            return redirect('posts_home')

    context={
        'form': form
    }
    return render(request, 'createpost.html', context)

@login_required
def update_post(request, post_id):
    post_to_update=Post.objects.get(pk=post_id)
    form=PostCreationForm(instance=post_to_update)

    if request.method == "POST":
        form=PostCreationForm(instance=post_to_update, data=request.POST, files=request.FILES)
        if form.is_valid():
            form.save()
            return redirect('posts_home')

    context={
        'form' : form
    }
    return render(request, 'update.html', context)

```

![](https://user-images.githubusercontent.com/32337103/227896157-7002c70a-ef9c-4c81-b44b-22c6268ec4bf.png)

</details>

<details>
  <summary>23. Using the Django Model UserCreationForm </summary>

# Setup UserCreationForm -

django_beginners/users/forms.py:

```pybs
class UserRegistrationForm(UserCreationForm):
    class Meta:
        model=User
        fields="__all__"
```

```py
from django import forms
from django.contrib.auth.forms import UserCreationForm
from django.contrib.auth.models import User


"""UserRegistrationForm
username
email
password
confirm
"""

class UserRegistrationForm(UserCreationForm):
    class Meta:
        model=User
        fields="__all__"


# class UserRegistrationForm(forms.Form):
#     username=forms.CharField(widget=forms.TextInput(attrs={"class":"form-control"}))
#     email=forms.CharField(widget=forms.TextInput(attrs={"class":"form-control"}))
#     password=forms.CharField(widget=forms.PasswordInput(attrs={"class":"form-control"}))
#     confirm=forms.CharField(widget=forms.PasswordInput(attrs={"class":"form-control"}))


"""LoginForm
username
password
"""

class LoginForm(forms.Form):
    username=forms.CharField(widget=forms.TextInput(attrs={"class":"form-control"}))
    password=forms.CharField(widget=forms.PasswordInput(attrs={"class":"form-control"}))
```

![](https://user-images.githubusercontent.com/32337103/227956038-0bd864d6-0a58-4528-9277-04fd2ccce2e7.png)

# Use only required Fields -

django_beginners/users/forms.py:

```pybs
class UserRegistrationForm(UserCreationForm):
    class Meta:
        model=User
        fields=["username","email","password1", "password2"]
        # fields="__all__"
```

```py
from django import forms
from django.contrib.auth.forms import UserCreationForm
from django.contrib.auth.models import User


"""UserRegistrationForm
username
email
password
confirm
"""

class UserRegistrationForm(UserCreationForm):
    class Meta:
        model=User
        fields=["username","email","password1", "password2"]
        # fields="__all__"


# class UserRegistrationForm(forms.Form):
#     username=forms.CharField(widget=forms.TextInput(attrs={"class":"form-control"}))
#     email=forms.CharField(widget=forms.TextInput(attrs={"class":"form-control"}))
#     password=forms.CharField(widget=forms.PasswordInput(attrs={"class":"form-control"}))
#     confirm=forms.CharField(widget=forms.PasswordInput(attrs={"class":"form-control"}))


"""LoginForm
username
password
"""

class LoginForm(forms.Form):
    username=forms.CharField(widget=forms.TextInput(attrs={"class":"form-control"}))
    password=forms.CharField(widget=forms.PasswordInput(attrs={"class":"form-control"}))
```

![](https://user-images.githubusercontent.com/32337103/227958849-faec15ba-ebad-4b76-b944-a0d50ad5e368.png)

# Customizing UserCreationForm -

django_beginners/users/forms.py:

```pybs
class UserRegistrationForm(UserCreationForm):
    def __init__(self, *args, **kwargs):
        super(UserRegistrationForm, self).__init__(*args, **kwargs)
        self.fields["username"].label="Your Username"
        self.fields["username"].widget=forms.TextInput(attrs={"class":"form-control"})

        self.fields["email"].label="Your Email"
        self.fields["email"].widget=forms.TextInput(attrs={"class":"form-control"})

        self.fields["password1"].label="Your Password"
        self.fields["password1"].widget=forms.PasswordInput(attrs={"class":"form-control"})

        self.fields["password2"].label="Confirm Password"
        self.fields["password2"].widget=forms.PasswordInput(attrs={"class":"form-control"})

    class Meta:
        model=User
        fields=["username","email","password1", "password2"]
        # fields="__all__"
```

```py
from django import forms
from django.contrib.auth.forms import UserCreationForm
from django.contrib.auth.models import User


"""UserRegistrationForm
username
email
password
confirm
"""

class UserRegistrationForm(UserCreationForm):
    def __init__(self, *args, **kwargs):
        super(UserRegistrationForm, self).__init__(*args, **kwargs)
        self.fields["username"].label="Your Username"
        self.fields["username"].widget=forms.TextInput(attrs={"class":"form-control"})

        self.fields["email"].label="Your Email"
        self.fields["email"].widget=forms.TextInput(attrs={"class":"form-control"})

        self.fields["password1"].label="Your Password"
        self.fields["password1"].widget=forms.PasswordInput(attrs={"class":"form-control"})

        self.fields["password2"].label="Confirm Password"
        self.fields["password2"].widget=forms.PasswordInput(attrs={"class":"form-control"})

    class Meta:
        model=User
        fields=["username","email","password1", "password2"]
        # fields="__all__"


# class UserRegistrationForm(forms.Form):
#     username=forms.CharField(widget=forms.TextInput(attrs={"class":"form-control"}))
#     email=forms.CharField(widget=forms.TextInput(attrs={"class":"form-control"}))
#     password=forms.CharField(widget=forms.PasswordInput(attrs={"class":"form-control"}))
#     confirm=forms.CharField(widget=forms.PasswordInput(attrs={"class":"form-control"}))


"""LoginForm
username
password
"""

class LoginForm(forms.Form):
    username=forms.CharField(widget=forms.TextInput(attrs={"class":"form-control"}))
    password=forms.CharField(widget=forms.PasswordInput(attrs={"class":"form-control"}))
```

django_beginners/templates/users/signup.html:

```py
{% extends 'base.html' %}

{% block content %}
<section class="myform">
    <form action="" method="post" enctype="multipart/form-data">
        <h1>Create An Account</h1>
        {% csrf_token %}
        {% for field in form %}
            <div class="form-group">
                <label for="{{ field.label | lower }}">{{ field.label }}</label>
                <div class="form-field">{{field}}</div>
            </div>
        {% endfor %}
        <div><input class="createbutton" type="submit" value="Sign Up"></div>
    </form>
</section>

{% endblock content %}
```

![](https://user-images.githubusercontent.com/32337103/227969100-e422a3f7-81d9-427c-8b8d-0e88e720546d.png)

# Saving Users from UserCreationForm -

django_beginners/users/forms.py:

```py
from django import forms
from django.contrib.auth.forms import UserCreationForm
from django.contrib.auth.models import User


"""UserRegistrationForm
username
email
password
confirm
"""

class UserRegistrationForm(UserCreationForm):
    def __init__(self, *args, **kwargs):
        super(UserRegistrationForm, self).__init__(*args, **kwargs)
        self.fields["username"].label="Your Username"
        self.fields["username"].widget=forms.TextInput(attrs={"class":"form-control"})

        self.fields["email"].label="Your Email"
        self.fields["email"].widget=forms.TextInput(attrs={"class":"form-control"})

        self.fields["password1"].label="Your Password"
        self.fields["password1"].widget=forms.PasswordInput(attrs={"class":"form-control"})

        self.fields["password2"].label="Confirm Password"
        self.fields["password2"].widget=forms.PasswordInput(attrs={"class":"form-control"})

    class Meta:
        model=User
        fields=["username","email","password1", "password2"]
        # fields="__all__"


# class UserRegistrationForm(forms.Form):
#     username=forms.CharField(widget=forms.TextInput(attrs={"class":"form-control"}))
#     email=forms.CharField(widget=forms.TextInput(attrs={"class":"form-control"}))
#     password=forms.CharField(widget=forms.PasswordInput(attrs={"class":"form-control"}))
#     confirm=forms.CharField(widget=forms.PasswordInput(attrs={"class":"form-control"}))


"""LoginForm
username
password
"""

class LoginForm(forms.Form):
    username=forms.CharField(widget=forms.TextInput(attrs={"class":"form-control"}))
    password=forms.CharField(widget=forms.PasswordInput(attrs={"class":"form-control"}))
```

django_beginners/users/views.py:

```pybs
# Create your views here.
def sign_up(request):
    form=UserRegistrationForm()
    if request.method == "POST":
        form=UserRegistrationForm(request. POST)

        if form.is_valid():
            form.save()
            return redirect('login')

    context={
        'form' : form
    }
    return render(request, 'users/signup.html', context)
```

```py
from django.shortcuts import render, redirect
from .forms import LoginForm, UserRegistrationForm
from django.contrib.auth.models import User
from django.contrib.auth import login, logout, authenticate

# Create your views here.
def sign_up(request):
    form=UserRegistrationForm()
    if request.method == "POST":
        form=UserRegistrationForm(request. POST)

        if form.is_valid():
            form.save()
            return redirect('login')

    context={
        'form' : form
    }
    return render(request, 'users/signup.html', context)

def login_user(request):
    form=LoginForm()

    if request.method == "POST":
        username = request.POST["username"]
        password = request.POST["password"]

        user = authenticate(request, username=username, password=password)

        if user is not None:
            login(request, user)
            return redirect('posts_home')

    context={
        'form' : form
    }
    return render(request, 'users/login.html', context)

def logout_user(request):
    logout(request)
    return redirect('posts_home')
```

![](https://user-images.githubusercontent.com/32337103/227972739-a617631a-82f1-4474-8dfc-6d286dac8c3d.png)
![](https://user-images.githubusercontent.com/32337103/227972952-4c501b21-e748-4fbe-8c1b-c1c1c1e7ca2f.png)
![](https://user-images.githubusercontent.com/32337103/227972986-458bfa69-3dfb-4aa5-b6d0-06fcb61e7977.png)
![](https://user-images.githubusercontent.com/32337103/227974724-b8bb7ab2-c4f6-4bb7-9ac7-49eeb77d5866.png)

# Form Validation and Error Handling -

django_beginners/templates/users/signup.html:

```pybs
{% if form.errors %}
    <p>{{form.errors}}</p>
{% endif %}
```

```py
{% extends 'base.html' %}

{% block content %}
<section class="myform">
    <form action="" method="post" enctype="multipart/form-data">
        <h1>Create An Account</h1>
        {% csrf_token %}
        {% if form.errors %}
            <p>{{form.errors}}</p>
        {% endif %}
        {% for field in form %}
            <div class="form-group">
                <label for="{{ field.label | lower }}">{{ field.label }}</label>
                <div class="form-field">{{field}}</div>
            </div>
        {% endfor %}
        <div><input class="createbutton" type="submit" value="Sign Up"></div>
    </form>
</section>

{% endblock content %}
```

![](https://user-images.githubusercontent.com/32337103/227975004-adca8840-7038-4ab4-be05-5a39c0db5886.png)

# Styling Error Messages -

django_beginners/templates/users/signup.html:

```pybs
<div>
    {% if field.errors %}
        {% for error in field.errors %}
            <p class="error">{{error}}</p>
        {% endfor %}
    {% endif %}
</div>
```

```py
{% extends 'base.html' %}

{% block content %}
<section class="myform">
    <form action="" method="post" enctype="multipart/form-data">
        <h1>Create An Account</h1>
        {% csrf_token %}
        {% for field in form %}
            <div class="form-group">
                <label for="{{ field.label | lower }}">{{ field.label }}</label>
                <div class="form-field">{{field}}</div>
            </div>
            <div>
                {% if field.errors %}
                    {% for error in field.errors %}
                        <p class="error">{{error}}</p>
                    {% endfor %}
                {% endif %}
            </div>
        {% endfor %}
        <div><input class="createbutton" type="submit" value="Sign Up"></div>
    </form>
</section>

{% endblock content %}
```

django_beginners/posts/static/css/main.css:

```pybs
.error {
  color: red;
  font-size: 12px;
}
```

django_beginners/blogproject/settings.py:

```py
# Static files (CSS, JavaScript, Images)
# https://docs.djangoproject.com/en/4.1/howto/static-files/

STATIC_URL = '/django_beginners/posts/static/'

```

![](https://user-images.githubusercontent.com/32337103/227980721-0e100d00-e132-46fe-b2b1-08d4e90e5032.png)

# Adding User Registration and Login Links -

django_beginners/templates/users/signup.html:

```py
{% extends 'base.html' %}

{% block content %}
<section class="myform">
    <form action="" method="post" enctype="multipart/form-data">
        <h1>Create An Account</h1>
        {% csrf_token %}
        {% for field in form %}
            <div class="form-group">
                <label for="{{ field.label | lower }}">{{ field.label }}</label>
                <div class="form-field">{{field}}</div>
            </div>
            <div>
                {% if field.errors %}
                    {% for error in field.errors %}
                        <p class="error">{{error}}</p>
                    {% endfor %}
                {% endif %}
            </div>
        {% endfor %}
        <div class="form-group">
            <input type="submit" class="createbutton"  value="Sign Up" />
        </div>
        <div class="form-group">
            <small>
                <p>Already have an account?<a href="{% url 'login' %}"> Login</a></p>
            </small>
        </div>
    </form>
</section>

{% endblock content %}
```

![](https://user-images.githubusercontent.com/32337103/227983808-c03d87fc-4e2f-4809-83ae-bce15a5a990d.png)

django_beginners/templates/users/login.html:

```py
{% extends 'base.html' %}

{% block content %}
<section class="myform">
    <form action="" method="post" enctype="multipart/form-data">
        <h1>Login</h1>
        {% csrf_token %}
        {% for field in form %}
            <div class="form-group">
                <label for="{{ field.label | lower }}">{{ field.label }}</label>
                <div class="form-field">{{field}}</div>
            </div>
        {% endfor %}
        <div class="form-group">
            <input class="createbutton" type="submit" value="Create">
        </div>
        <div class="form-group">
            <small>
                <p>Do not have an account?<a href="{% url 'sign_up' %}"> Create an Account</a></p>
            </small>
        </div>
    </form>
</section>

{% endblock content %}
```

![](https://user-images.githubusercontent.com/32337103/227985026-f119ea15-3103-430d-8b47-73e25e520f9a.png)

# Using Django Messages -

django_beginners/users/views.py:

```pybs
def sign_up(request):
    form=UserRegistrationForm()
    if request.method == "POST":
        form=UserRegistrationForm(request. POST)

        if form.is_valid():
            form.save()
            messages.success(request, "User Created Successfully")
            return redirect('login')

    context={
        'form' : form
    }
    return render(request, 'users/signup.html', context)
```

```py
from django.shortcuts import render, redirect
from .forms import LoginForm, UserRegistrationForm
from django.contrib.auth.models import User
from django.contrib.auth import login, logout, authenticate
from django.contrib import messages

# Create your views here.
def sign_up(request):
    form=UserRegistrationForm()
    if request.method == "POST":
        form=UserRegistrationForm(request. POST)

        if form.is_valid():
            form.save()
            messages.success(request, "User Created Successfully")
            return redirect('login')

    context={
        'form' : form
    }
    return render(request, 'users/signup.html', context)

def login_user(request):
    form=LoginForm()

    if request.method == "POST":
        username = request.POST["username"]
        password = request.POST["password"]

        user = authenticate(request, username=username, password=password)

        if user is not None:
            login(request, user)
            return redirect('posts_home')

    context={
        'form' : form
    }
    return render(request, 'users/login.html', context)

def logout_user(request):
    logout(request)
    return redirect('posts_home')
```

django_beginners/templates/users/login.html:

```pybs
{% if messages %}
    {% for message in messages %}
        <p class="alert">{{message}}</p>
    {% endfor %}
{% endif %}
```

```py
{% extends 'base.html' %}

{% block content %}
<section class="myform">
    <form action="" method="post" enctype="multipart/form-data">
        <h1>Login</h1>
        {% csrf_token %}
        {% if messages %}
            {% for message in messages %}
                <p class="alert">{{message}}</p>
            {% endfor %}
        {% endif %}
        {% for field in form %}
            <div class="form-group">
                <label for="{{ field.label | lower }}">{{ field.label }}</label>
                <div class="form-field">{{field}}</div>
            </div>
        {% endfor %}
        <div class="form-group">
            <input class="createbutton" type="submit" value="Create">
        </div>
        <div class="form-group">
            <small>
                <p>Do not have an account?<a href="{% url 'sign_up' %}"> Create an Account</a></p>
            </small>
        </div>
    </form>
</section>

{% endblock content %}
```

django_beginners/posts/static/css/main.css:

```css
.alert {
  padding: 20px;
  background-color: lightgreen;
  color: white;
  text-align: center;
}
```

![](https://user-images.githubusercontent.com/32337103/228047711-71d59842-50ad-4707-a992-a9850677b252.png)
![](https://user-images.githubusercontent.com/32337103/228047796-6c862f7c-04a0-4dd9-af72-70f558d8d7db.png)

</details>

<details>
  <summary>24.  Logging IN and OUT with Django Authentication Form </summary>

# Logging In -

django_beginners/users/forms.py:

```pybs
class LoginForm(AuthenticationForm):
    def __init__(self, *args, **kwargs):
        super(LoginForm, self).__init__(*args, **kwargs)
        self.fields["username"].label="Your Username"
        self.fields["username"].widget=forms.TextInput(attrs={"class":"form-control"})

        self.fields["password"].label="Your Password"
        self.fields["password"].widget=forms.PasswordInput(attrs={"class":"form-control"})
```

```py
from django import forms
from django.contrib.auth.forms import UserCreationForm, AuthenticationForm
from django.contrib.auth.models import User


"""UserRegistrationForm
username
email
password
confirm
"""

class UserRegistrationForm(UserCreationForm):
    def __init__(self, *args, **kwargs):
        super(UserRegistrationForm, self).__init__(*args, **kwargs)
        self.fields["username"].label="Your Username"
        self.fields["username"].widget=forms.TextInput(attrs={"class":"form-control"})

        self.fields["email"].label="Your Email"
        self.fields["email"].widget=forms.TextInput(attrs={"class":"form-control"})

        self.fields["password1"].label="Your Password"
        self.fields["password1"].widget=forms.PasswordInput(attrs={"class":"form-control"})

        self.fields["password2"].label="Confirm Password"
        self.fields["password2"].widget=forms.PasswordInput(attrs={"class":"form-control"})

    class Meta:
        model=User
        fields=["username","email","password1", "password2"]
        # fields="__all__"


# class UserRegistrationForm(forms.Form):
#     username=forms.CharField(widget=forms.TextInput(attrs={"class":"form-control"}))
#     email=forms.CharField(widget=forms.TextInput(attrs={"class":"form-control"}))
#     password=forms.CharField(widget=forms.PasswordInput(attrs={"class":"form-control"}))
#     confirm=forms.CharField(widget=forms.PasswordInput(attrs={"class":"form-control"}))


"""LoginForm
username
password
"""

# class LoginForm(forms.Form):
#     username=forms.CharField(widget=forms.TextInput(attrs={"class":"form-control"}))
#     password=forms.CharField(widget=forms.PasswordInput(attrs={"class":"form-control"}))

class LoginForm(AuthenticationForm):
    def __init__(self, *args, **kwargs):
        super(LoginForm, self).__init__(*args, **kwargs)
        self.fields["username"].label="Your Username"
        self.fields["username"].widget=forms.TextInput(attrs={"class":"form-control"})

        self.fields["password"].label="Your Password"
        self.fields["password"].widget=forms.PasswordInput(attrs={"class":"form-control"})
```

django_beginners/users/urls.py:

```py
from django.urls import path
from . import views
from django.contrib.auth import views as auth_views
from .forms import LoginForm

urlpatterns = [
    path('signup/', views.sign_up, name='sign_up'),
    path('login/', auth_views.LoginView.as_view(
        template_name='users/login.html', authentication_form=LoginForm
        ), name='login'),
    # path('login/', views.login_user, name='login'),
    path('logout/', views.logout_user, name='log_out')
]

```

django_beginners/templates/users/login.html:

```py
{% extends 'base.html' %}

{% block content %}
<section class="myform">
    <form action="" method="post" enctype="multipart/form-data">
        <h1>Login</h1>
        {% csrf_token %}
        {% if messages %}
            {% for message in messages %}
                <p class="alert">{{message}}</p>
            {% endfor %}
        {% endif %}
        {% for field in form %}
            <div class="form-group">
                <label for="{{ field.label | lower }}">{{ field.label }}</label>
                <div class="form-field">{{field}}</div>
            </div>
        {% endfor %}
        <div class="form-group">
            <input class="createbutton" type="submit" value="Login">
        </div>
        <div class="form-group">
            <small>
                <p>Do not have an account?<a href="{% url 'sign_up' %}"> Create an Account</a></p>
            </small>
        </div>
    </form>
</section>

{% endblock content %}
```

django_beginners/blogproject/settings.py:

```py
# Static files (CSS, JavaScript, Images)
# https://docs.djangoproject.com/en/4.1/howto/static-files/

STATIC_URL = '/static/'

# Default primary key field type
# https://docs.djangoproject.com/en/4.1/ref/settings/#default-auto-field

DEFAULT_AUTO_FIELD = 'django.db.models.BigAutoField'

#LOGIN SETTINGS
LOGIN_REDIRECT_URL='/posts/'

```

![](https://user-images.githubusercontent.com/32337103/228135821-1f2a2b94-246b-46c7-9827-554f72ff9ccf.png)
![](https://user-images.githubusercontent.com/32337103/228136361-192eb7d8-a025-44bf-b129-b69d48641d09.png)

# Logging Out -

django_beginners/users/urls.py:

```py
from django.urls import path
from . import views
from django.contrib.auth import views as auth_views
from .forms import LoginForm

urlpatterns = [
    path('signup/', views.sign_up, name='sign_up'),
    path('login/', auth_views.LoginView.as_view(
        template_name='users/login.html', authentication_form=LoginForm
        ), name='login'),
    path('logout/', auth_views.LogoutView.as_view(), name='log_out')
    # path('login/', views.login_user, name='login'),
    # path('logout/', views.logout_user, name='log_out')

]
```

django_beginners/blogproject/settings.py:

```py
# Static files (CSS, JavaScript, Images)
# https://docs.djangoproject.com/en/4.1/howto/static-files/

STATIC_URL = '/static/'

# Default primary key field type
# https://docs.djangoproject.com/en/4.1/ref/settings/#default-auto-field

DEFAULT_AUTO_FIELD = 'django.db.models.BigAutoField'

#LOGIN SETTINGS
LOGIN_REDIRECT_URL='/posts/'
LOGOUT_REDIRECT_URL='/posts/'
```

![](https://user-images.githubusercontent.com/32337103/228137728-2106f4fb-807b-4353-afa8-4d35f79a593d.png)

# Routing @login_required protection redirects -

django_beginners/blogproject/settings.py:

```py
# Static files (CSS, JavaScript, Images)
# https://docs.djangoproject.com/en/4.1/howto/static-files/

STATIC_URL = '/static/'

# Default primary key field type
# https://docs.djangoproject.com/en/4.1/ref/settings/#default-auto-field

DEFAULT_AUTO_FIELD = 'django.db.models.BigAutoField'

#LOGIN SETTINGS
LOGIN_REDIRECT_URL='/posts/'
LOGOUT_REDIRECT_URL='/posts/'
LOGIN_URL='/auth/login/'
```

![](https://user-images.githubusercontent.com/32337103/228138912-6a83d471-4e72-4d2d-97e3-305b24ac9e8c.png)

# Customizing Error handling -

django_beginners/templates/users/login.html:

```pybs
{% if form.errors %}
    <p>{{form.errors}}</p>
{% endif %}
```

```py
{% extends 'base.html' %}

{% block content %}
<section class="myform">
    <form action="" method="post" enctype="multipart/form-data">
        <h1>Login</h1>
        {% csrf_token %}
        {% if messages %}
            {% for message in messages %}
                <p class="alert">{{message}}</p>
            {% endfor %}
        {% endif %}
        {% if form.errors %}
            <p>{{form.errors}}</p>
        {% endif %}
        {% for field in form %}
            <div class="form-group">
                <label for="{{ field.label | lower }}">{{ field.label }}</label>
                <div class="form-field">{{field}}</div>
            </div>
        {% endfor %}
        <div class="form-group">
            <input class="createbutton" type="submit" value="Login">
        </div>
        <div class="form-group">
            <small>
                <p>Do not have an account?<a href="{% url 'sign_up' %}"> Create an Account</a></p>
            </small>
        </div>
    </form>
</section>

{% endblock content %}
```

![](https://user-images.githubusercontent.com/32337103/228140047-2a38a3d2-ad2c-41f2-aba5-3c65955d1014.png)

# Styling Error handling -

django_beginners/templates/users/login.html:

```pybs
{% if form.errors %}
    <p class="alert-error">Invalid Username Or Password</p>
{% endif %}
```

```py
{% extends 'base.html' %}

{% block content %}
<section class="myform">
    <form action="" method="post" enctype="multipart/form-data">
        <h1>Login</h1>
        {% csrf_token %}
        {% if messages %}
            {% for message in messages %}
                <p class="alert">{{message}}</p>
            {% endfor %}
        {% endif %}
        {% if form.errors %}
            <p class="alert-error">Invalid Username Or Password</p>
        {% endif %}
        {% for field in form %}
            <div class="form-group">
                <label for="{{ field.label | lower }}">{{ field.label }}</label>
                <div class="form-field">{{field}}</div>
            </div>
        {% endfor %}
        <div class="form-group">
            <input class="createbutton" type="submit" value="Login">
        </div>
        <div class="form-group">
            <small>
                <p>Do not have an account?<a href="{% url 'sign_up' %}"> Create an Account</a></p>
            </small>
        </div>
    </form>
</section>

{% endblock content %}
```

django_beginners/posts/static/css/main.css:

```css
.error {
  color: red;
  font-size: 12px;
}

.alert {
  padding: 20px;
  background-color: lightgreen;
  color: white;
  text-align: center;
}

.alert-error {
  padding: 20px;
  background-color: red;
  color: white;
  text-align: center;
}
```

![](https://user-images.githubusercontent.com/32337103/228141237-56a6c290-be25-4ab4-bd32-b9eeabb4dfaf.png)

</details>

<details>
  <summary>25.  Using Class Based VIews In Django </summary>

# Using Class Based View for HomePage -

django_beginners/posts/views.py:

```pybs
class HomePageView(View):
    def get(self, request):
        posts=Post.objects.all()

        context={
            'posts':posts
        }
        return render(request, "index.html", context)
```

```py
from django.shortcuts import render, redirect
from django.http import HttpRequest, HttpResponse
from .forms import PostCreationForm
from .models import Post
from django.contrib.auth.decorators import login_required
from django.views import View


class HomePageView(View):
    def get(self, request):
        posts=Post.objects.all()

        context={
            'posts':posts
        }
        return render(request, "index.html", context)

# def index(request:HttpRequest):
#     name = request.GET.get("name") or "People"
#     posts=Post.objects.all()
#     context={
#         "name": name,
#         "posts": posts,
#         "title": "Home Page",
#     }
#     return render(request, 'index.html', context)

def about(request):
    context={
        "title": "About Page",
    }
    return render(request, 'about.html', context)

def services(request):
    context={
        "title": "Services Page",
    }
    return render(request, 'services.html', context)

def greet(request:HttpRequest):
    name = request.GET.get("name") or "Friend"
    return HttpResponse(f"Hello {name}")

def all_posts(request:HttpRequest):
    posts=Post.objects.all()
    return HttpResponse(str(posts))

def one_post(request:HttpRequest, post_id):
    posts=Post.objects.all()
    for post in posts:
        if post["id"] == post_id:
            return HttpResponse(str(post))
    return HttpResponse("Post Not Found")

def post_detail(request,post_id):
    post=Post.objects.get(pk=post_id)
    context={'post':post}
    return render(request, 'post_detail.html', context)

@login_required
def create_post(request):
    form=PostCreationForm()

    if request.method =="POST":
        form=PostCreationForm(request.POST, request.FILES)

        if form.is_valid():
            form.save()
            return redirect('posts_home')

    context={
        'form': form
    }
    return render(request, 'createpost.html', context)

@login_required
def update_post(request, post_id):
    post_to_update=Post.objects.get(pk=post_id)
    form=PostCreationForm(instance=post_to_update)

    if request.method == "POST":
        form=PostCreationForm(instance=post_to_update, data=request.POST, files=request.FILES)
        if form.is_valid():
            form.save()
            return redirect('posts_home')

    context={
        'form' : form
    }
    return render(request, 'update.html', context)

```

django_beginners/posts/urls.py:

```py
from django.urls import path
from . import views

urlpatterns = [
    path('', views.HomePageView.as_view(), name="posts_home"),
    # path('', views.index, name="posts_home"),
    path("greet/", views.greet, name="greet_name"),
    path("posts/", views.all_posts, name="posts"),
    path("posts/<int:post_id>/", views.one_post, name="one_post"),
    path("about/", views.about, name="posts_about"),
    path("services/", views.services, name="posts_services"),
    path('create_post/', views.create_post, name='create_post'),
    path('post/<int:post_id>', views.post_detail, name='post_detail'),
    path('post/update/<int:post_id>/', views.update_post, name='update_post'),
]
```

![](https://user-images.githubusercontent.com/32337103/228183878-dad4b074-083d-4c18-a212-2a648c9a7c8c.png)

# Using Template name in Class View -

django_beginners/posts/views.py:

```pybs
class HomePageView(View):
    template_name = "index.html"

    def get(self, request):
        posts=Post.objects.all()

        context={
            'posts':posts
        }
        return render(request, self.template_name, context)
```

```py
from django.shortcuts import render, redirect
from django.http import HttpRequest, HttpResponse
from .forms import PostCreationForm
from .models import Post
from django.contrib.auth.decorators import login_required
from django.views import View


class HomePageView(View):
    template_name = "index.html"

    def get(self, request):
        posts=Post.objects.all()

        context={
            'posts':posts
        }
        return render(request, self.template_name, context)

# def index(request:HttpRequest):
#     name = request.GET.get("name") or "People"
#     posts=Post.objects.all()
#     context={
#         "name": name,
#         "posts": posts,
#         "title": "Home Page",
#     }
#     return render(request, 'index.html', context)

def about(request):
    context={
        "title": "About Page",
    }
    return render(request, 'about.html', context)

def services(request):
    context={
        "title": "Services Page",
    }
    return render(request, 'services.html', context)

def greet(request:HttpRequest):
    name = request.GET.get("name") or "Friend"
    return HttpResponse(f"Hello {name}")

def all_posts(request:HttpRequest):
    posts=Post.objects.all()
    return HttpResponse(str(posts))

def one_post(request:HttpRequest, post_id):
    posts=Post.objects.all()
    for post in posts:
        if post["id"] == post_id:
            return HttpResponse(str(post))
    return HttpResponse("Post Not Found")

def post_detail(request,post_id):
    post=Post.objects.get(pk=post_id)
    context={'post':post}
    return render(request, 'post_detail.html', context)

@login_required
def create_post(request):
    form=PostCreationForm()

    if request.method =="POST":
        form=PostCreationForm(request.POST, request.FILES)

        if form.is_valid():
            form.save()
            return redirect('posts_home')

    context={
        'form': form
    }
    return render(request, 'createpost.html', context)

@login_required
def update_post(request, post_id):
    post_to_update=Post.objects.get(pk=post_id)
    form=PostCreationForm(instance=post_to_update)

    if request.method == "POST":
        form=PostCreationForm(instance=post_to_update, data=request.POST, files=request.FILES)
        if form.is_valid():
            form.save()
            return redirect('posts_home')

    context={
        'form' : form
    }
    return render(request, 'update.html', context)

```

![](https://user-images.githubusercontent.com/32337103/228183878-dad4b074-083d-4c18-a212-2a648c9a7c8c.png)

# Class View Inheritance -

django_beginners/posts/views.py:

```pybs
class AboutPageView(HomePageView):
    template_name="about.html"
```

```py
from django.shortcuts import render, redirect
from django.http import HttpRequest, HttpResponse
from .forms import PostCreationForm
from .models import Post
from django.contrib.auth.decorators import login_required
from django.views import View


class HomePageView(View):
    template_name = "index.html"

    def get(self, request):
        posts=Post.objects.all()

        context={
            'posts':posts
        }
        return render(request, self.template_name, context)

class AboutPageView(HomePageView):
    template_name="about.html"

# def about(request):
#     context={
#         "title": "About Page",
#     }
#     return render(request, 'about.html', context)

def services(request):
    context={
        "title": "Services Page",
    }
    return render(request, 'services.html', context)

def greet(request:HttpRequest):
    name = request.GET.get("name") or "Friend"
    return HttpResponse(f"Hello {name}")

def all_posts(request:HttpRequest):
    posts=Post.objects.all()
    return HttpResponse(str(posts))

def one_post(request:HttpRequest, post_id):
    posts=Post.objects.all()
    for post in posts:
        if post["id"] == post_id:
            return HttpResponse(str(post))
    return HttpResponse("Post Not Found")

def post_detail(request,post_id):
    post=Post.objects.get(pk=post_id)
    context={'post':post}
    return render(request, 'post_detail.html', context)

@login_required
def create_post(request):
    form=PostCreationForm()

    if request.method =="POST":
        form=PostCreationForm(request.POST, request.FILES)

        if form.is_valid():
            form.save()
            return redirect('posts_home')

    context={
        'form': form
    }
    return render(request, 'createpost.html', context)

@login_required
def update_post(request, post_id):
    post_to_update=Post.objects.get(pk=post_id)
    form=PostCreationForm(instance=post_to_update)

    if request.method == "POST":
        form=PostCreationForm(instance=post_to_update, data=request.POST, files=request.FILES)
        if form.is_valid():
            form.save()
            return redirect('posts_home')

    context={
        'form' : form
    }
    return render(request, 'update.html', context)

```

django_beginners/posts/urls.py:

```py
from django.urls import path
from . import views

urlpatterns = [
    path('', views.HomePageView.as_view(), name="posts_home"),
    path('about/', views.AboutPageView.as_view(), name="posts_about"),
    # path("about/", views.about, name="posts_about"),
    path("services/", views.services, name="posts_services"),
    path('create_post/', views.create_post, name='create_post'),
    path('post/<int:post_id>', views.post_detail, name='post_detail'),
    path('post/update/<int:post_id>/', views.update_post, name='update_post'),
    # path('', views.index, name="posts_home"),
]
```

django_beginners/templates/about.html:

```py
{% extends 'base.html' %}

{% block content %}
    <h1>About Page</h1>
{% endblock content %}
```

![](https://user-images.githubusercontent.com/32337103/228187150-cf716325-2cd0-421b-b41a-d214b1b446ea.png)

# CreatePostView Class View GET Functionality -

django_beginners/posts/views.py:

```pybs
class CreatePostView(View):
    template_name='createpost.html'
    form_class=PostCreationForm
    initial_values={}

    def get(self, request):
        form=self.form_class(initial=self.initial_values)

        context={
            'form': form
        }
        return render(request, 'createpost.html', context)
```

```py
from django.shortcuts import render, redirect
from django.http import HttpRequest, HttpResponse
from .forms import PostCreationForm
from .models import Post
from django.contrib.auth.decorators import login_required
from django.views import View


class HomePageView(View):
    template_name = "index.html"

    def get(self, request):
        posts=Post.objects.all()

        context={
            'posts':posts
        }
        return render(request, self.template_name, context)

class AboutPageView(HomePageView):
    template_name="about.html"

class CreatePostView(View):
    template_name='createpost.html'
    form_class=PostCreationForm
    initial_values={}

    def get(self, request):
        form=self.form_class(initial=self.initial_values)

        context={
            'form': form
        }
        return render(request, 'createpost.html', context)

    def post(self, request):
        pass

# @login_required
# def create_post(request):
#     form=PostCreationForm()

#     if request.method =="POST":
#         form=PostCreationForm(request.POST, request.FILES)

#         if form.is_valid():
#             form.save()
#             return redirect('posts_home')

#     context={
#         'form': form
#     }
#     return render(request, 'createpost.html', context)

def post_detail(request,post_id):
    post=Post.objects.get(pk=post_id)
    context={'post':post}
    return render(request, 'post_detail.html', context)

@login_required
def update_post(request, post_id):
    post_to_update=Post.objects.get(pk=post_id)
    form=PostCreationForm(instance=post_to_update)

    if request.method == "POST":
        form=PostCreationForm(instance=post_to_update, data=request.POST, files=request.FILES)
        if form.is_valid():
            form.save()
            return redirect('posts_home')

    context={
        'form' : form
    }
    return render(request, 'update.html', context)

```

django_beginners/posts/urls.py:

```py
from django.urls import path
from . import views

urlpatterns = [
    path('', views.HomePageView.as_view(), name="posts_home"),
    path('about/', views.AboutPageView.as_view(), name="posts_about"),
    path('create_post/', views.CreatePostView.as_view(), name='create_post'),
    # path('create_post/', views.create_post, name='create_post'),
    path('post/<int:post_id>', views.post_detail, name='post_detail'),
    path('post/update/<int:post_id>/', views.update_post, name='update_post'),
]
```

![](https://user-images.githubusercontent.com/32337103/228196779-99776f93-28ad-4893-a3f4-7efec5dc1af7.png)

# CreatePostView Class View POST Functionality -

django_beginners/posts/views.py:

```pybs
class CreatePostView(View):
    template_name='createpost.html'
    form_class=PostCreationForm
    initial_values={}

    def get(self, request):
        form=self.form_class(initial=self.initial_values)

        context={
            'form': form
        }
        return render(request, self.template_name, context)

    def post(self, request):
        form=PostCreationForm(request.POST, request.FILES)
        if form.is_valid():
            form.save()
            return redirect('posts_home')
```

```py
from django.shortcuts import render, redirect
from django.http import HttpRequest, HttpResponse
from .forms import PostCreationForm
from .models import Post
from django.contrib.auth.decorators import login_required
from django.views import View


class HomePageView(View):
    template_name = "index.html"

    def get(self, request):
        posts=Post.objects.all()

        context={
            'posts':posts
        }
        return render(request, self.template_name, context)

class AboutPageView(HomePageView):
    template_name="about.html"

class CreatePostView(View):
    template_name='createpost.html'
    form_class=PostCreationForm
    initial_values={}

    def get(self, request):
        form=self.form_class(initial=self.initial_values)

        context={
            'form': form
        }
        return render(request, self.template_name, context)

    def post(self, request):
        form=PostCreationForm(request.POST, request.FILES)
        if form.is_valid():
            form.save()
            return redirect('posts_home')

# @login_required
# def create_post(request):
#     form=PostCreationForm()

#     if request.method =="POST":
#         form=PostCreationForm(request.POST, request.FILES)

#         if form.is_valid():
#             form.save()
#             return redirect('posts_home')

#     context={
#         'form': form
#     }
#     return render(request, 'createpost.html', context)

def post_detail(request,post_id):
    post=Post.objects.get(pk=post_id)
    context={'post':post}
    return render(request, 'post_detail.html', context)

@login_required
def update_post(request, post_id):
    post_to_update=Post.objects.get(pk=post_id)
    form=PostCreationForm(instance=post_to_update)

    if request.method == "POST":
        form=PostCreationForm(instance=post_to_update, data=request.POST, files=request.FILES)
        if form.is_valid():
            form.save()
            return redirect('posts_home')

    context={
        'form' : form
    }
    return render(request, 'update.html', context)

```

django_beginners/posts/urls.py:

```py
from django.urls import path
from . import views

urlpatterns = [
    path('', views.HomePageView.as_view(), name="posts_home"),
    path('about/', views.AboutPageView.as_view(), name="posts_about"),
    path('create_post/', views.CreatePostView.as_view(), name='create_post'),
    # path('create_post/', views.create_post, name='create_post'),
    path('post/<int:post_id>', views.post_detail, name='post_detail'),
    path('post/update/<int:post_id>/', views.update_post, name='update_post'),
]
```

![](https://user-images.githubusercontent.com/32337103/228198929-eefb34c5-b0fb-4da0-b670-ea076e6bc6b7.png)
![](https://user-images.githubusercontent.com/32337103/228199048-80c8e4ce-813c-44a4-b61d-35b60a14715c.png)
![](https://user-images.githubusercontent.com/32337103/228199308-ef38b7a9-ede1-4811-b276-3ffc41b46974.png)
![](https://user-images.githubusercontent.com/32337103/228199377-634d8cac-88a1-472f-87ac-ddb5abf69c38.png)
![](https://user-images.githubusercontent.com/32337103/228199432-5f8c0795-c08f-4d8c-9536-a66f6d9718ae.png)

# Forcing @login_required Decorator to reroute to Home (FROM URL)-

django_beginners/posts/views.py:

```py
from django.shortcuts import render, redirect
from django.http import HttpRequest, HttpResponse
from .forms import PostCreationForm
from .models import Post
from django.contrib.auth.decorators import login_required
from django.views import View


class HomePageView(View):
    template_name = "index.html"

    def get(self, request):
        posts=Post.objects.all()

        context={
            'posts':posts
        }
        return render(request, self.template_name, context)

class AboutPageView(HomePageView):
    template_name="about.html"

class CreatePostView(View):
    template_name='createpost.html'
    form_class=PostCreationForm
    initial_values={}

    def get(self, request):
        form=self.form_class(initial=self.initial_values)

        context={
            'form': form
        }
        return render(request, self.template_name, context)

    def post(self, request):
        form=PostCreationForm(request.POST, request.FILES)
        if form.is_valid():
            form.save()
            return redirect('posts_home')

def post_detail(request,post_id):
    post=Post.objects.get(pk=post_id)
    context={'post':post}
    return render(request, 'post_detail.html', context)

@login_required
def update_post(request, post_id):
    post_to_update=Post.objects.get(pk=post_id)
    form=PostCreationForm(instance=post_to_update)

    if request.method == "POST":
        form=PostCreationForm(instance=post_to_update, data=request.POST, files=request.FILES)
        if form.is_valid():
            form.save()
            return redirect('posts_home')

    context={
        'form' : form
    }
    return render(request, 'update.html', context)

```

django_beginners/posts/urls.py:

```py
from django.urls import path
from . import views
from django.contrib.auth.decorators import login_required

urlpatterns = [
    path('', views.HomePageView.as_view(), name="posts_home"),
    path('about/', views.AboutPageView.as_view(), name="posts_about"),
    path('create_post/', login_required(views.CreatePostView.as_view()), name='create_post'),
    path('post/<int:post_id>', views.post_detail, name='post_detail'),
    path('post/update/<int:post_id>/', views.update_post, name='update_post'),
]
```

![](https://user-images.githubusercontent.com/32337103/228200875-2e1ccd85-ee86-4eba-8f78-b5559a9aa900.png)

# Forcing @login_required Decorator to reroute to Home (FROM CLASSVIEW)-

django_beginners/posts/views.py:

```pybs
class CreatePostView(View):
    template_name='createpost.html'
    form_class=PostCreationForm
    initial_values={}

    @method_decorator(login_required)
    def dispatch(self, *args, **kwargs):
        return super().dispatch(*args, **kwargs)

    def get(self, request):
        form=self.form_class(initial=self.initial_values)

        context={
            'form': form
        }
        return render(request, self.template_name, context)

    def post(self, request):
        form=PostCreationForm(request.POST, request.FILES)
        if form.is_valid():
            form.save()
            return redirect('posts_home')
```

```pybs
@method_decorator(login_required, 'dispatch')
class CreatePostView(View):
    template_name='createpost.html'
    form_class=PostCreationForm
    initial_values={}

    # @method_decorator(login_required)
    # def dispatch(self, *args, **kwargs):
    #     return super().dispatch(*args, **kwargs)

    def get(self, request):
        form=self.form_class(initial=self.initial_values)

        context={
            'form': form
        }
        return render(request, self.template_name, context)

    def post(self, request):
        form=PostCreationForm(request.POST, request.FILES)
        if form.is_valid():
            form.save()
            return redirect('posts_home')
```

django_beginners/posts/views.py:

```py
from django.shortcuts import render, redirect
from django.http import HttpRequest, HttpResponse
from .forms import PostCreationForm
from .models import Post
from django.contrib.auth.decorators import login_required
from django.views import View
from django.utils.decorators import method_decorator


class HomePageView(View):
    template_name = "index.html"

    def get(self, request):
        posts=Post.objects.all()

        context={
            'posts':posts
        }
        return render(request, self.template_name, context)

class AboutPageView(HomePageView):
    template_name="about.html"

@method_decorator(login_required, 'dispatch')
class CreatePostView(View):
    template_name='createpost.html'
    form_class=PostCreationForm
    initial_values={}

    # @method_decorator(login_required)
    # def dispatch(self, *args, **kwargs):
    #     return super().dispatch(*args, **kwargs)

    def get(self, request):
        form=self.form_class(initial=self.initial_values)

        context={
            'form': form
        }
        return render(request, self.template_name, context)

    def post(self, request):
        form=PostCreationForm(request.POST, request.FILES)
        if form.is_valid():
            form.save()
            return redirect('posts_home')

def post_detail(request,post_id):
    post=Post.objects.get(pk=post_id)
    context={'post':post}
    return render(request, 'post_detail.html', context)

@login_required
def update_post(request, post_id):
    post_to_update=Post.objects.get(pk=post_id)
    form=PostCreationForm(instance=post_to_update)

    if request.method == "POST":
        form=PostCreationForm(instance=post_to_update, data=request.POST, files=request.FILES)
        if form.is_valid():
            form.save()
            return redirect('posts_home')

    context={
        'form' : form
    }
    return render(request, 'update.html', context)

```

django_beginners/posts/urls.py:

```py
from django.urls import path
from . import views
from django.contrib.auth.decorators import login_required

urlpatterns = [
    path('', views.HomePageView.as_view(), name="posts_home"),
    path('about/', views.AboutPageView.as_view(), name="posts_about"),
    path('create_post/', views.CreatePostView.as_view(), name='create_post'),
    path('post/<int:post_id>', views.post_detail, name='post_detail'),
    path('post/update/<int:post_id>/', views.update_post, name='update_post'),
]
```

![](https://user-images.githubusercontent.com/32337103/228200875-2e1ccd85-ee86-4eba-8f78-b5559a9aa900.png)

</details>

<details>
  <summary>26.  Django Pagination </summary>

# Query python Post Model with Pagination

```py
>>> from posts.models import Post
>>> from django.core.paginator import Paginator
>>> posts=Post.objects.all()
>>> posts
# <QuerySet [<Post: <Post: Django for beginners>>, <Post: <Post: Basic JavaScript UPDATED>>, <Post: <Post: Learn PHP>>, <Post: <Post: My Example Post>>]>
```

```py
paginator=Paginator(posts, 3)
>>> page1=paginator.page(1)
>>> page1.object_list
# <QuerySet [<Post: <Post: Django for beginners>>, <Post: <Post: Basic JavaScript UPDATED>>, <Post: <Post: Learn PHP>>]>
```

```py
>>> page2=paginator.page(2)
>>> page2.object_list
# <QuerySet [<Post: <Post: My Example Post>>]>
```

```py
>>> posts.count()
# 4
```

```py
>>> page2.previous_page_number()
# 1
```

```py
>>> page1.next_page_number()
# 2
```

# Display Page content based on Pagination

posts/views.py:

```pybs
class HomePageView(View):
    template_name = "index.html"

    def get(self, request):
        posts=Post.objects.all()

        paginator = Paginator(posts, 3)
        page_number = request.GET.get('page')
        page_obj = paginator.get_page(page_number)

        context={
            'posts': page_obj
        }
        return render(request, self.template_name, context)
```

```py
from django.shortcuts import render, redirect
from django.http import HttpRequest, HttpResponse
from .forms import PostCreationForm
from .models import Post
from django.contrib.auth.decorators import login_required
from django.views import View
from django.utils.decorators import method_decorator
from django.core.paginator import Paginator


class HomePageView(View):
    template_name = "index.html"

    def get(self, request):
        posts=Post.objects.all()

        paginator = Paginator(posts, 3)
        page_number = request.GET.get('page')
        page_obj = paginator.get_page(page_number)

        context={
            'posts': page_obj
        }
        return render(request, self.template_name, context)

class AboutPageView(HomePageView):
    template_name="about.html"

@method_decorator(login_required, 'dispatch')
class CreatePostView(View):
    template_name='createpost.html'
    form_class=PostCreationForm
    initial_values={}

    # @method_decorator(login_required)
    # def dispatch(self, *args, **kwargs):
    #     return super().dispatch(*args, **kwargs)

    def get(self, request):
        form=self.form_class(initial=self.initial_values)

        context={
            'form': form
        }
        return render(request, self.template_name, context)

    def post(self, request):
        form=PostCreationForm(request.POST, request.FILES)
        if form.is_valid():
            form.save()
            return redirect('posts_home')

def post_detail(request,post_id):
    post=Post.objects.get(pk=post_id)
    context={'post':post}
    return render(request, 'post_detail.html', context)

@login_required
def update_post(request, post_id):
    post_to_update=Post.objects.get(pk=post_id)
    form=PostCreationForm(instance=post_to_update)

    if request.method == "POST":
        form=PostCreationForm(instance=post_to_update, data=request.POST, files=request.FILES)
        if form.is_valid():
            form.save()
            return redirect('posts_home')

    context={
        'form' : form
    }
    return render(request, 'update.html', context)
```

![](https://user-images.githubusercontent.com/32337103/230456273-540f2e24-fc3a-4e55-9633-65624c07f02e.png)

# Create Links for Pagination

templates/index.html:

```pybs
<div class="pagination">
    {% if posts.has_previous %}
    <a href="{% url 'posts_home' %}?page={{posts.previous_page_number}}"><<<< PREV</a>
    {% endif %}
    <p>Page {{posts.number}} of {{posts.paginator.num_pages}}</p>
    {% if posts.has_next %}
    <a href="{% url 'posts_home' %}?page={{posts.next_page_number}}">NEXT >>>></a>
    {% endif %}
</div>
```

```py
{% extends 'base.html' %}
{% load static %}
{% block content %}
    <h1 class="shift-right"> - List of Posts - </h1>
    {% for post in posts %}
    <div class="post">
        <a href="{% url 'post_detail' post_id=post.id %}" class="link"><h2>{{ post.id }} | {{ post.title }}</h2></a>
        <p>By <strong>{{ post.author }}</strong></p>
        <img class="image" src="{% static 'images/me.jpeg' %}" alt="photo">
    </div>
    {% endfor %}
    <div class="pagination">
        {% if posts.has_previous %}
        <a href="{% url 'posts_home' %}?page={{posts.previous_page_number}}"><<<< PREV</a>
        {% endif %}
        <p>Page {{posts.number}} of {{posts.paginator.num_pages}}</p>
        {% if posts.has_next %}
        <a href="{% url 'posts_home' %}?page={{posts.next_page_number}}">NEXT >>>></a>
        {% endif %}
    </div>
    <div class="shift-right">
        <button id="mybtn">Click Alert</button>
    </div>
{% endblock content %}
```

![](https://user-images.githubusercontent.com/32337103/230542904-eb09614d-c0d5-4677-b031-1aad5a88f57c.png)
![](https://user-images.githubusercontent.com/32337103/230542934-40c466ff-f94a-4aed-9d05-18aa9afe5308.png)

</details>

<details>
  <summary>27. Testing Django </summary>

# Tests for Posts

posts/tests.py:

```py
from django.test import TestCase
from .models import Post
# Create your tests here.


class PostTestCase(TestCase):

    def setUp(self):
        self.post = Post.objects.create(
            title="Test title",
            author="Test author",
            content="Test content"
        )

    def test_home_page(self):
        response = self.client.get('/posts/')
        self.assertEqual(response.status_code, 200)
        self.assertTemplateUsed(response, 'index.html')
        self.assertContains(response, '- List of Posts -')

    def test_post_creation(self):
        post_to_test = Post.objects.get(id=1)
        post_title = f"{post_to_test.title}"
        self.assertEqual(self.post.title, post_title)
        self.assertEqual(self.post.title, "Test title")
        self.assertEqual(self.post.author, "Test author")

```

```pybs
python manage.py test
```

```py
# ...
# ----------------------------------------------------------------------
# Ran 3 tests in 0.010s

# OK
# Destroying test database for alias 'default'...

```

# Tests for Users

users/tests.py:

```py
from django.test import TestCase
from django.contrib.auth import get_user_model

# Create your tests here.

class UserTestCase(TestCase):

    def setUp(self):
        self.user = get_user_model().objects.create(
            username="testuser",
            email="testuser@company.com",
            password="test123"
        )

    def test_usercreation(self):
        user = get_user_model().objects.get(id=1)
        self.assertEqual(user.is_staff, False)
        self.assertEqual(self.user.username, user.username)

```

```pybs
python manage.py test
```

```py
# ...
# ----------------------------------------------------------------------
# Ran 3 tests in 0.010s

# OK
# Destroying test database for alias 'default'...
```

</details>

<details>
  <summary>28. Handling Media Uploads </summary>

# Configure Settings File and URL

blogproject/settings.py:

```pybs
# Static files (CSS, JavaScript, Images)
# https://docs.djangoproject.com/en/4.1/howto/static-files/

STATIC_URL = '/static/'

# Default primary key field type
# https://docs.djangoproject.com/en/4.1/ref/settings/#default-auto-field

DEFAULT_AUTO_FIELD = 'django.db.models.BigAutoField'

#LOGIN SETTINGS
LOGIN_REDIRECT_URL='/posts/'
LOGOUT_REDIRECT_URL='/posts/'
LOGIN_URL='/auth/login/'

#MEDIA
MEDIA_ROOT= BASE_DIR / 'media'
MEDIA_URL = '/media/'
```

```py
"""
Django settings for blogproject project.

Generated by 'django-admin startproject' using Django 4.1.7.

For more information on this file, see
https://docs.djangoproject.com/en/4.1/topics/settings/

For the full list of settings and their values, see
https://docs.djangoproject.com/en/4.1/ref/settings/
"""

from pathlib import Path

# Build paths inside the project like this: BASE_DIR / 'subdir'.
BASE_DIR = Path(__file__).resolve().parent.parent


# Quick-start development settings - unsuitable for production
# See https://docs.djangoproject.com/en/4.1/howto/deployment/checklist/

# SECURITY WARNING: keep the secret key used in production secret!
SECRET_KEY = 'django-insecure-%t0s5)w^0!f-y)xi0@8bk1pay1f9mtm!ld4rps)eadi+mqpyjt'

# SECURITY WARNING: don't run with debug turned on in production!
DEBUG = True

ALLOWED_HOSTS = []


# Application definition

INSTALLED_APPS = [
    'django.contrib.admin',
    'django.contrib.auth',
    'django.contrib.contenttypes',
    'django.contrib.sessions',
    'django.contrib.messages',
    'django.contrib.staticfiles',
    #apps
    'posts.apps.PostsConfig',
    'users.apps.UsersConfig',
]

MIDDLEWARE = [
    'django.middleware.security.SecurityMiddleware',
    'django.contrib.sessions.middleware.SessionMiddleware',
    'django.middleware.common.CommonMiddleware',
    'django.middleware.csrf.CsrfViewMiddleware',
    'django.contrib.auth.middleware.AuthenticationMiddleware',
    'django.contrib.messages.middleware.MessageMiddleware',
    'django.middleware.clickjacking.XFrameOptionsMiddleware',
]

ROOT_URLCONF = 'blogproject.urls'

TEMPLATES = [
    {
        'BACKEND': 'django.template.backends.django.DjangoTemplates',
        'DIRS': [BASE_DIR / 'templates'],
        'APP_DIRS': True,
        'OPTIONS': {
            'context_processors': [
                'django.template.context_processors.debug',
                'django.template.context_processors.request',
                'django.contrib.auth.context_processors.auth',
                'django.contrib.messages.context_processors.messages',
            ],
        },
    },
]

WSGI_APPLICATION = 'blogproject.wsgi.application'


# Database
# https://docs.djangoproject.com/en/4.1/ref/settings/#databases

DATABASES = {
    'default': {
        'ENGINE': 'django.db.backends.sqlite3',
        'NAME': BASE_DIR / 'db.sqlite3',
    }
}


# Password validation
# https://docs.djangoproject.com/en/4.1/ref/settings/#auth-password-validators

AUTH_PASSWORD_VALIDATORS = [
    {
        'NAME': 'django.contrib.auth.password_validation.UserAttributeSimilarityValidator',
    },
    {
        'NAME': 'django.contrib.auth.password_validation.MinimumLengthValidator',
    },
    {
        'NAME': 'django.contrib.auth.password_validation.CommonPasswordValidator',
    },
    {
        'NAME': 'django.contrib.auth.password_validation.NumericPasswordValidator',
    },
]


# Internationalization
# https://docs.djangoproject.com/en/4.1/topics/i18n/

LANGUAGE_CODE = 'en-us'

TIME_ZONE = 'UTC'

USE_I18N = True

USE_TZ = True


# Static files (CSS, JavaScript, Images)
# https://docs.djangoproject.com/en/4.1/howto/static-files/

STATIC_URL = '/static/'

# Default primary key field type
# https://docs.djangoproject.com/en/4.1/ref/settings/#default-auto-field

DEFAULT_AUTO_FIELD = 'django.db.models.BigAutoField'

#LOGIN SETTINGS
LOGIN_REDIRECT_URL='/posts/'
LOGOUT_REDIRECT_URL='/posts/'
LOGIN_URL='/auth/login/'

#MEDIA
MEDIA_ROOT= BASE_DIR / 'media'
MEDIA_URL = '/media/'
```

blogproject/urls.py:

```py
from django.contrib import admin
from django.urls import path, include
from django.conf import settings
from django.conf.urls.static import static

urlpatterns = [
    path('admin/', admin.site.urls),
    path('posts/', include('posts.urls')),
    path('auth/', include('users.urls'))
]+static(settings.MEDIA_URL, document_root=settings.MEDIA_ROOT)

```

posts/models.py:

```py
from django.db import models

"""
class Post:
    title: str
    author: str
    content: str
    thumbnail: image
"""

class Post(models.Model):
    title=models.CharField(max_length=225)
    author=models.CharField(max_length=45)
    content=models.TextField()
    thumbnail=models.ImageField(upload_to='media/', default='default.png')
    date_created=models.DateTimeField(auto_now_add=True)
    date_updated=models.DateTimeField(auto_now=True)

    def __str__(self):
        return f"<Post: {self.title}>"

```

templates/index.html:

```py
{% extends 'base.html' %}
{% load static %}
{% block content %}
<div class="posts">
    <h1 class="shift-right"> - List of Posts - </h1>
    {% for post in posts %}
    <div class="post">
        <a href="{% url 'post_detail' post_id=post.id %}" class="link"><h2>{{ post.id }} | {{ post.title }}</h2></a>
        <p>By <strong>{{ post.author }}</strong></p>
        <img class="image" src="{{post.thumbnail.url}}" alt="photo">
    </div>
    {% endfor %}
    <div class="pagination">
        {% if posts.has_previous %}
        <a href="{% url 'posts_home' %}?page={{posts.previous_page_number}}"><<<< PREV</a>
        {% endif %}
        <p>Page {{posts.number}} of {{posts.paginator.num_pages}}</p>
        {% if posts.has_next %}
        <a href="{% url 'posts_home' %}?page={{posts.next_page_number}}">NEXT >>>></a>
        {% endif %}
    </div>
    <div class="shift-right">
        <button id="mybtn">Click Alert</button>
    </div>
</div>
{% endblock content %}
```

posts/static/css/main.css:

```pybs
.image {
    width: 100px;
}

.posts {
    width: 50%;
    margin: 100px auto;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
}

.post {
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
}

nav {
  background-color: black;
  padding: 20px;
  position: fixed;
  top: 0;
  left: 0;
  width: 100%
}

.nav-link {
  color: white;
  margin-left: 20px;
}
```

templates/post_detail.html:

```py
{% extends 'base.html' %}

{% block content %}
<div class="posts">
    <div class="post">
        <a class="link"><h2>{{ post.id }} | {{ post.title }}</h2></a>
        <p>{{ post.content }}</p>
        <a href="{% url 'update_post' post_id=post.id %}" class="update-link">Update</a>
    </div>
</div>

{% endblock content %}
```

![](https://user-images.githubusercontent.com/32337103/230602663-aeb67562-bbd9-4916-87ec-60c887531ea3.png)
![](https://user-images.githubusercontent.com/32337103/230602743-2212c25a-eed0-4f5f-94b0-207aeb614bf2.png)

</details>

<details>
  <summary>29. Deployment To Heroku (Heroku PostgreSQL) </summary>

# Set Environment Variables

```pybs
pip install python-decouple
```

```pybs
pip install dj-database-url
```

blogproject/settings.py:

```pybs
from pathlib import Path
from decouple import config
import dj_database_url

# SECURITY WARNING: keep the secret key used in production secret!
SECRET_KEY = config("SECRET_KEY")

# SECURITY WARNING: don't run with debug turned on in production!
DEBUG = config('DEBUG', cast=bool)

ALLOWED_HOSTS = ["*"]

# Database
# https://docs.djangoproject.com/en/4.1/ref/settings/#databases

DATABASES = {
    # 'default': {
    #     'ENGINE': 'django.db.backends.sqlite3',
    #     'NAME': BASE_DIR / 'db.sqlite3',
    # }
}

DATABASES['default'] = dj_database_url.config(conn_max_age=600, conn_health_checks=True,)
DATABASES['default'] = dj_database_url.config(default=config("DATABASE_URL"))

```

# Setup White Noise for Static Files

```pybs
pip install whitenoise
```

blogproject/settings.py:

```pybs
MIDDLEWARE = [
    # ...
    "django.middleware.security.SecurityMiddleware",
    "whitenoise.middleware.WhiteNoiseMiddleware",
    # ...
]
```

```pybs
MIDDLEWARE = [
    'django.middleware.security.SecurityMiddleware',
    'django.contrib.sessions.middleware.SessionMiddleware',
    'django.middleware.common.CommonMiddleware',
    'django.middleware.csrf.CsrfViewMiddleware',
    'django.contrib.auth.middleware.AuthenticationMiddleware',
    'django.contrib.messages.middleware.MessageMiddleware',
    'django.middleware.clickjacking.XFrameOptionsMiddleware',
    "whitenoise.middleware.WhiteNoiseMiddleware",
]

# Static files (CSS, JavaScript, Images)
# https://docs.djangoproject.com/en/4.1/howto/static-files/

STATIC_URL = '/static/'
STATIC_ROOT = BASE_DIR / 'static'
STATICFILES_STORAGE = "whitenoise.storage.CompressedManifestStaticFilesStorage"

```

# Setup Gunicon, Procfile and Github

```pybs
pip install psycopg2-binary
```

```pybs
pip install gunicorn
```

```pybs
pip3 freeze > requirements.txt
```

runtime.txt:

```pybs
python-3.11.3
```

Procfile:

```pybs
web gunicorn blogproject.wsgi --log-file -
```

```pybs
create .gitignore file
```

```pybs
git init
git add .
git commit -m "initial commit"
git remote add origin https://github.com/omeatai/project-django-blog-ss.git
git branch -M main
git push -u origin main
```

# Setup Heroku

```pybs
create Heroku App
connect Heroku to Github Repo
Activate Automatic Deployment
Enter Config Vars in Heroku settings
```

```pybs
>>> import secrets
>>> secrets.token_hex()
'8bf4bb59ebddeb2ad71ad2e19bb1ef15abf5afb8061dedd1759cc4cbdcac8292'
```

```pybs
SECRET_KEY=*****
DEBUG=True
DISABLE_COLLECTSTATIC=1
DATABASE_URL=
```

```pybs
Setup Heroku Postgres in Resources
OR
Railway App

DATABASE_URL = "postgres://YourUserName:YourPassword@localHost:5432/YourDatabaseName";
PG_URI=postgres://postgres:root@localhost:5432/campus
```

```py
Deploy to Heroku
```

Run on Heroku Console:

```py
python manage.py makemigrations
python manage.py migrate
```

```py
Open app
```

![](https://user-images.githubusercontent.com/32337103/230687561-fac5451e-2e09-48a7-91f8-d070c10db93c.png)

# No Posts to show

templates/index.html:

```py
{% extends 'base.html' %}
{% load static %}
{% block content %}
<div class="posts">
    <h1 class="shift-right"> - List of Posts - </h1>
    {% if posts %}
    {% for post in posts %}
    <div class="post">
        <a href="{% url 'post_detail' post_id=post.id %}" class="link"><h2>{{ post.id }} | {{ post.title }}</h2></a>
        <p>By <strong>{{ post.author }}</strong></p>
        <img class="image" src="{{post.thumbnail.url}}" alt="photo">
    </div>
    {% endfor %}
    <div class="pagination">
        {% if posts.has_previous %}
        <a href="{% url 'posts_home' %}?page={{posts.previous_page_number}}"><<<< PREV</a>
        {% endif %}
        <p>Page {{posts.number}} of {{posts.paginator.num_pages}}</p>
        {% if posts.has_next %}
        <a href="{% url 'posts_home' %}?page={{posts.next_page_number}}">NEXT >>>></a>
        {% endif %}
    </div>
    <div class="shift-right">
        <button id="mybtn">Click Alert</button>
    </div>
    {% else %}
    <div>
        <h2>Sorry, No Posts available!</h2>
    </div>
    {% endif %}
</div>
{% endblock content %}
```

![](https://user-images.githubusercontent.com/32337103/230689406-76760f9d-6b0a-41a2-b5a9-feb8140405c8.png)

</details>

+THE END
