### [8-COMPLETE REACT DEVELOPER IN 2023 - ZTM](/courses/8.md)

<details>
  <summary>1. Introduction </summary>

# Install NPM/Node

```jsbs
nvm install 18.15.0

node -v
# v18.15.0

npm -v
# 9.5.0
```

```jsbs
$ nvm use 16
Now using node v16.9.1 (npm v7.21.1)
$ node -v
v16.9.1
$ nvm use 14
Now using node v14.18.0 (npm v6.14.15)
$ node -v
v14.18.0
$ nvm install 12
Now using node v12.22.6 (npm v6.14.5)
$ node -v
v12.22.6
```

# Install Yarn

```jsbs
brew install yarn
OR
curl -o- -L https://yarnpkg.com/install.sh | bash
```

```jsbs
yarn --version
1.22.19
```

# NPM vs YARN

```jsbs
# Install dependencies from package.json
npm install
yarn

# Install a package and add to package.json
npm install package --save
yarn add package

# Install a devDependency to package.json
npm install package --save-dev
yarn add package --dev

# Remove a dependency from package.json
npm uninstall package --save
yarn remove package

# Upgrade a package to its latest version
npm update --save
yarn upgrade

# Install a package globally
npm install package -g
yarn global add package

```

# Install React App

```jsbs
npx create-react-app monsters-rolodex
```

Example on npm vs npx

```jsbs
npm i -g cowsay
npm list -g cowsay
npm uninstall -g cowsay
```

# Start App

monsters-rolodex/src/index.js:

```js
import React from "react";
import ReactDOM from "react-dom/client";
import "./index.css";
import App from "./App";
import reportWebVitals from "./reportWebVitals";

const root = ReactDOM.createRoot(document.getElementById("root"));
root.render(
  <React.StrictMode>
    <App />
  </React.StrictMode>
);

// If you want to start measuring performance in your app, pass a function
// to log results (for example: reportWebVitals(console.log))
// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals
reportWebVitals();
```

monsters-rolodex/src/App.js:

```js
import logo from "./logo.svg";
import "./App.css";

function App() {
  return (
    <div className="App">
      <header className="App-header">
        <img src={logo} className="App-logo" alt="logo" />
        <p>Hey!</p>
        <a
          className="App-link"
          href="https://reactjs.org"
          target="_blank"
          rel="noopener noreferrer"
        >
          Learn React
        </a>
      </header>
    </div>
  );
}

export default App;
```

```jsbs
npm run start
yarn start
```

![](https://user-images.githubusercontent.com/32337103/230755637-e3c313c3-f4f1-4080-92e8-e1bc138db08d.png)

</details>

<details>
  <summary>2. App.js Class Component </summary>

# Converting App.js to Class based Component

monsters-rolodex/src/App.js:

```js
import { Component } from "react";
import logo from "./logo.svg";
import "./App.css";

class App extends Component {
  render() {
    return (
      <div className="App">
        <header className="App-header">
          <img src={logo} className="App-logo" alt="logo" />
          <p>Hey!</p>
          <a
            className="App-link"
            href="https://reactjs.org"
            target="_blank"
            rel="noopener noreferrer"
          >
            Learn React
          </a>
        </header>
      </div>
    );
  }
}

export default App;
```

</details>

<details>
  <summary>3. Class Component State </summary>

# Creating Class Component State

monsters-rolodex/src/App.js:

```js
import { Component } from "react";
import logo from "./logo.svg";
import "./App.css";

class App extends Component {
  constructor() {
    super();
    this.state = {
      name: "Ifeanyi",
    };
  }
  render() {
    return (
      <div className="App">
        <header className="App-header">
          <img src={logo} className="App-logo" alt="logo" />
          <p>Hi {this.state.name}</p>
          <button>Learn React</button>
        </header>
      </div>
    );
  }
}

export default App;
```

![](https://user-images.githubusercontent.com/32337103/230756926-a2aeffda-d424-44ed-82d9-35c8e019ed9e.png)

</details>

<details>
  <summary>4. Using onClick Event with setState Function </summary>

# Using onClick Event with setState Function 1

monsters-rolodex/src/App.js:

```js
import { Component } from "react";
import logo from "./logo.svg";
import "./App.css";

class App extends Component {
  constructor() {
    super();
    this.state = {
      name: "Ifeanyi",
    };
  }
  render() {
    return (
      <div className="App">
        <header className="App-header">
          <img src={logo} className="App-logo" alt="logo" />
          <p>Hi {this.state.name}</p>
          <button
            onClick={() => {
              this.setState({ name: "Dave" });
              console.log(this.state);
            }}
          >
            Change Name
          </button>
        </header>
      </div>
    );
  }
}

export default App;
```

![](https://user-images.githubusercontent.com/32337103/230789316-7b469d51-fd68-43b1-ae00-e4919a361ee2.png)

# Using onClick Event with setState Function 2

monsters-rolodex/src/App.js:

```js
import { Component } from "react";
import logo from "./logo.svg";
import "./App.css";

class App extends Component {
  constructor() {
    super();
    this.state = {
      name: "Ifeanyi",
      company: "STZ",
    };
  }
  render() {
    return (
      <div className="App">
        <header className="App-header">
          <img src={logo} className="App-logo" alt="logo" />
          <p>
            Hi {this.state.name}, I work at {this.state.company}.
          </p>
          <button
            onClick={() => {
              this.setState({ name: "Mike" });
              console.log(this.state);
            }}
          >
            Change Name
          </button>
        </header>
      </div>
    );
  }
}

export default App;
```

![](https://user-images.githubusercontent.com/32337103/230789496-e74fe26a-3556-48c0-bf56-736bde7665cc.png)

# Using onClick Event with setState Function 3

monsters-rolodex/src/App.js:

```js
import { Component } from "react";
import logo from "./logo.svg";
import "./App.css";

class App extends Component {
  constructor() {
    super();
    this.state = {
      name: { firstname: "Ifeanyi", lastname: "Omeata" },
      company: "STZ",
    };
  }
  render() {
    return (
      <div className="App">
        <header className="App-header">
          <img src={logo} className="App-logo" alt="logo" />
          <p>
            Hi {this.state.name.firstname} {this.state.name.lastname}, I work at
            {this.state.company}.
          </p>
          <button
            onClick={() => {
              this.setState({ name: { firstname: "Mike", lastname: "Bauer" } });
              console.log(this.state);
            }}
          >
            Change Name
          </button>
        </header>
      </div>
    );
  }
}

export default App;
```

![](https://user-images.githubusercontent.com/32337103/230789788-6a06ccdc-cb00-48d6-bbe0-6f84ac676acd.png)

</details>

<details>
  <summary>5. Followup Callbacks for setState Functions </summary>

# Using Followup Callbacks for setState Functions

monsters-rolodex/src/App.js:

```js
import { Component } from "react";
import logo from "./logo.svg";
import "./App.css";

class App extends Component {
  constructor() {
    super();
    this.state = {
      name: { firstname: "Ifeanyi", lastname: "Omeata" },
      company: "STZ",
    };
  }
  render() {
    return (
      <div className="App">
        <header className="App-header">
          <img src={logo} className="App-logo" alt="logo" />
          <p>
            Hi {this.state.name.firstname} {this.state.name.lastname}, I work at{" "}
            {this.state.company}.
          </p>
          <button
            onClick={() => {
              this.setState(
                (state, props) => {
                  return { name: { firstname: "Mike", lastname: "Bauer" } };
                },
                () => console.log(this.state)
              );
            }}
          >
            Change Name
          </button>
        </header>
      </div>
    );
  }
}

export default App;
```

![](https://user-images.githubusercontent.com/32337103/230791716-c1b71875-1e99-402f-851c-b1723763d2f4.png)

</details>

<details>
  <summary>6. Mapping Arrays to Elements </summary>

# Displaying Contents from Array

monsters-rolodex/src/App.js:

```js
import { Component } from "react";
import logo from "./logo.svg";
import "./App.css";

class App extends Component {
  constructor() {
    super();
    this.state = {
      monsters: [
        { name: "Linda", id: "1" },
        { name: "Frank", id: "2" },
        { name: "Jacky", id: "3" },
        { name: "Andrei", id: "4" },
      ],
    };
  }
  render() {
    return (
      <div className="App">
        {this.state.monsters.map((monster, index) => {
          return <h2 key={monster.id}>{monster.name}</h2>;
        })}
      </div>
    );
  }
}

export default App;
```

![](https://user-images.githubusercontent.com/32337103/230797446-63b731be-20f5-4d73-8f97-07172ed9d239.png)

</details>

<details>
  <summary>7. Fetch Query from jsonplaceholder.typicode </summary>

# Examples of Fetch Query from jsonplaceholder.typicode

Example 1: Fetch

```js
fetch("https://jsonplaceholder.typicode.com/users");
```

Example 2: JSON

- The json method returns a promise that evaluates to the JSON data from our response.
- We can chain a second .then to get the data from the json method.

```js
fetch("https://jsonplaceholder.typicode.com/users").then((res) => {
  console.log(res.ok); // true
  console.log(res.status); // 200
  return res.json();
});
```

Example 3: Data

- We first fetch the URL, then we convert the response to JSON, and finally we use the data in the final .then.

```js
fetch("https://jsonplaceholder.typicode.com/users")
  .then((res) => res.json())
  .then((data) => console.log(data));
// [{ userOne }, { userTwo }, ...]
```

Example 4: Method

- Method option allows you to set which HTTP verb you want to use (GET, POST, PUT, DELETE, etc).

```js
fetch("https://jsonplaceholder.typicode.com/users/2", {
  method: "DELETE",
});
```

Example 5: Body

- The body does not accept objects so if you want to pass JSON to your API you must first convert it to a string.

```js
fetch("https://jsonplaceholder.typicode.com/users", {
  method: "POST",
  body: JSON.stringify({ name: "Kyle" }),
});
```

Example 6: Headers

- This headers option lets you set any HTTP header that you want.

```js
fetch("https://jsonplaceholder.typicode.com/users", {
  method: "POST",
  body: JSON.stringify({ name: "Kyle" }),
  headers: { "Content-Type": "application/json" },
});
```

Example 7: Mode

- The mode option allows you to specify if the request should be a cors, no-cors, or same-origin request.
- By default all fetch requests are setup as cors requests so you can access resources on other origins.
- If you want you can force the fetch to only allow same-origin requests which will throw an error if you try to fetch a URL that is not on the same origin.

```js
fetch("https://jsonplaceholder.typicode.com/users", {
  mode: "same-origin",
}).catch((e) => console.error(e));
```

Example 8: Credentials

- Another option that deals with cors is credentials.
- This options can either be omit, same-origin, or include and determines whether or not the fetch API passes along and receives cookies, and other credential based information.
- Omit will send/receive no credentials.
- Same-origin will only send/receive credentials from the same URL.
- Include will send/receive credentials from any URL.
- By default this is set to same-origin.

```js
fetch("https://jsonplaceholder.typicode.com/users", {
  credentials: "include",
});
```

Example 9: Signal

- Signal option takes in an AbortSignal which can be used to abort a fetch request.
- First you must create a new AbortController this controller has a signal property which is what you pass to the signal option.
- The controller also has an abort method that when called will abort the fetch request with the associated signal.
- This will cause the fetch promise to reject with an AbortError exception.

```js
const controller = new AbortController();

fetch("https://jsonplaceholder.typicode.com/users", {
  signal: controller.signal,
}).catch((e) => console.error(e.name)); // AbortError

controller.abort();
```

Example 10: For 400 and 500 Errors

- One thing that is confusing about the fetch API is that it will not throw an error if you get back a 404, 500, or any other error HTTP response.
- The only way you can determine if a request failed is to check the "ok" property of the response.
- If the response is ok then I just keep all my code the same as normal, otherwise I will return a rejected promise that contains the response so I can handle it in a .catch.
- You can also create a custom fetch function to take care of all the extra code to send JSON data and utilize all the custom options of fetch. - It will also handle throwing errors for things like 404s.

```js
fetch("https://jsonplaceholder.typicode.com/users/-1").then((res) => {
  console.log(res.ok); // false
  console.log(res.status); // 404
});
```

```js
fetch("https://jsonplaceholder.typicode.com/users/-1")
  .then((res) => {
    if (res.ok) return res.json();
    return Promise.reject(res);
  })
  .then((data) => console.log(data))
  .catch((res) => console.error(res.status)); // 404
```

```js
function jsonFetch(url, { body, headers, ...options } = {}) {
  return fetch(url, {
    headers: { "Content-Type": "application/json", ...headers }
    body: JSON.stringify(body)
    ...options
  })
  .then(res => {
    if (res.ok) return res.json()
    return Promise.reject(res)
  })
  .then(res => res.json())
}
```

</details>

<details>
  <summary>8. Fetching Data with componentDidMount() </summary>

```js

```

```js

```

```js

```

```js

```

```js

```

```js

```

</details>

<details>
  <summary>9. </summary>

```js

```

```js

```

```js

```

</details>

<details>
  <summary>10. </summary>

```js

```

```js

```

```js

```

</details>

<details>
  <summary>11. </summary>

```js

```

```js

```

```js

```

</details>

<details>
  <summary>12. </summary>

```js

```

```js

```

```js

```

</details>

<details>
  <summary>13. </summary>

```js

```

```js

```

```js

```

</details>

<details>
  <summary>14. </summary>

```js

```

```js

```

```js

```

</details>

<details>
  <summary>15. </summary>

```js

```

```js

```

```js

```

</details>

<details>
  <summary>16. </summary>

```js

```

```js

```

```js

```

</details>

<details>
  <summary>17. </summary>

```js

```

```js

```

```js

```

</details>

<details>
  <summary>18. </summary>

```js

```

```js

```

```js

```

</details>

<details>
  <summary>19. </summary>

```js

```

```js

```

```js

```

</details>

<details>
  <summary>20. </summary>

```js

```

```js

```

```js

```

</details>

<details>
  <summary>21. </summary>

```js

```

```js

```

```js

```

</details>

<details>
  <summary>22. </summary>

```js

```

```js

```

```js

```

</details>

<details>
  <summary>23. </summary>

```js

```

```js

```

```js

```

</details>

<details>
  <summary>24. </summary>

```js

```

```js

```

```js

```

</details>

<details>
  <summary>25. </summary>

```js

```

```js

```

```js

```

</details>

<details>
  <summary>26. </summary>

```js

```

```js

```

```js

```

</details>

<details>
  <summary>27. </summary>

```js

```

```js

```

```js

```

</details>

<details>
  <summary>28. </summary>

```js

```

```js

```

```js

```

</details>

<details>
  <summary>29. </summary>

```js

```

```js

```

```js

```

</details>

<details>
  <summary>30. </summary>

```js

```

```js

```

```js

```

</details>
